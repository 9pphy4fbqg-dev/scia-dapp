var e=Object.defineProperty,t=(t,r,n)=>((t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n)(t,"symbol"!=typeof r?r+"":r,n);import{ap as r,aq as n,ar as i,as as a,at as o,au as s,av as l,aw as c,ax as u,ay as d,az as h,E as f,aA as p,aB as g,aC as m,aD as y,aE as v,Y as w,aF as b,aG as E,aH as A,aI as x}from"./blockchain-BcxypQY4.js";import{a as C,u as S,r as _,c as I,g as O,h as T,O as P,L as R,i as M,R as N,d as D,B as j,j as k,k as B,N as L}from"./vendor-DXHxqe2c.js";import{I as F,_ as U,F as z,M as H,U as V,B as W,a as G,s as X,R as K,b as Y,c as q,d as Z,e as $,r as Q,T as J,S as ee,f as te,C as re,g as ne,h as ie,i as ae,P as oe,j as se,k as le,A as ce,l as ue,m as de}from"./ui-6J8CK78o.js";function he(e,t){for(var r=0;r<t.length;r++){const n=t[r];if("string"!=typeof n&&!Array.isArray(n))for(const t in n)if("default"!==t&&!(t in e)){const r=Object.getOwnPropertyDescriptor(n,t);r&&Object.defineProperty(e,t,r.get?r:{enumerable:!0,get:()=>n[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var fe={},pe=C;fe.createRoot=pe.createRoot,fe.hydrateRoot=pe.hydrateRoot;const ge=()=>{const e=S(),t=_.useRef(null);return _.useEffect(()=>{const r=setTimeout(()=>{e("/onboarding/buy")},5e3);return t.current&&(t.current.style.width="1px",t.current.style.height="auto",t.current.style.position="absolute",t.current.style.top="50%",t.current.style.left="50%",t.current.style.transform="translate(-50%, -50%)",t.current.style.transition="width 3s ease-in-out",setTimeout(()=>{t.current&&(t.current.style.width="100vw")},10)),()=>clearTimeout(r)},[e]),r.jsx("div",{style:{width:"100vw",height:"100vh",backgroundColor:"#000000",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",position:"relative"},children:r.jsx("img",{ref:t,src:"/assets/Sancialogo-DdiUmp51.svg",alt:"Sancia Logo"})})};var me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-600-80h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z"}}]},name:"bar-chart",theme:"outlined"},ye=function(e,t){return _.createElement(F,U({},e,{ref:t,icon:me}))},ve=_.forwardRef(ye),we={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"},be=function(e,t){return _.createElement(F,U({},e,{ref:t,icon:we}))},Ee=_.forwardRef(be),Ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm47.7-395.2l-25.4-5.9V348.6c38 5.2 61.5 29 65.5 58.2.5 4 3.9 6.9 7.9 6.9h44.9c4.7 0 8.4-4.1 8-8.8-6.1-62.3-57.4-102.3-125.9-109.2V263c0-4.4-3.6-8-8-8h-28.1c-4.4 0-8 3.6-8 8v33c-70.8 6.9-126.2 46-126.2 119 0 67.6 49.8 100.2 102.1 112.7l24.7 6.3v142.7c-44.2-5.9-69-29.5-74.1-61.3-.6-3.8-4-6.6-7.9-6.6H363c-4.7 0-8.4 4-8 8.7 4.5 55 46.2 105.6 135.2 112.1V761c0 4.4 3.6 8 8 8h28.4c4.4 0 8-3.6 8-8.1l-.2-31.7c78.3-6.9 134.3-48.8 134.3-124-.1-69.4-44.2-100.4-109-116.4zm-68.6-16.2c-5.6-1.6-10.3-3.1-15-5-33.8-12.2-49.5-31.9-49.5-57.3 0-36.3 27.5-57 64.5-61.7v124zM534.3 677V543.3c3.1.9 5.9 1.6 8.8 2.2 47.3 14.4 63.2 34.4 63.2 65.1 0 39.1-29.4 62.6-72 66.4z"}}]},name:"dollar",theme:"outlined"},xe=function(e,t){return _.createElement(F,U({},e,{ref:t,icon:Ae}))},Ce=_.forwardRef(xe),Se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M926 164H94c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V196c0-17.7-14.3-32-32-32zm-40 632H134V236h752v560zm-658.9-82.3c3.1 3.1 8.2 3.1 11.3 0l172.5-172.5 114.4 114.5c3.1 3.1 8.2 3.1 11.3 0l297-297.2c3.1-3.1 3.1-8.2 0-11.3l-36.8-36.8a8.03 8.03 0 00-11.3 0L531 565 416.6 450.5a8.03 8.03 0 00-11.3 0l-214.9 215a8.03 8.03 0 000 11.3l36.7 36.9z"}}]},name:"fund",theme:"outlined"},_e=function(e,t){return _.createElement(F,U({},e,{ref:t,icon:Se}))},Ie=_.forwardRef(_e),Oe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM305.8 637.7c3.1 3.1 8.1 3.1 11.3 0l138.3-137.6L583 628.5c3.1 3.1 8.2 3.1 11.3 0l275.4-275.3c3.1-3.1 3.1-8.2 0-11.3l-39.6-39.6a8.03 8.03 0 00-11.3 0l-230 229.9L461.4 404a8.03 8.03 0 00-11.3 0L266.3 586.7a8.03 8.03 0 000 11.3l39.5 39.7z"}}]},name:"line-chart",theme:"outlined"},Te=function(e,t){return _.createElement(F,U({},e,{ref:t,icon:Oe}))},Pe=_.forwardRef(Te),Re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},Me=function(e,t){return _.createElement(F,U({},e,{ref:t,icon:Re}))},Ne=_.forwardRef(Me),De={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2zM304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z"}}]},name:"picture",theme:"outlined"},je=function(e,t){return _.createElement(F,U({},e,{ref:t,icon:De}))},ke=_.forwardRef(je),Be={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 518H506V160c0-4.4-3.6-8-8-8h-26a398.46 398.46 0 00-282.8 117.1 398.19 398.19 0 00-85.7 127.1A397.61 397.61 0 0072 552a398.46 398.46 0 00117.1 282.8c36.7 36.7 79.5 65.6 127.1 85.7A397.61 397.61 0 00472 952a398.46 398.46 0 00282.8-117.1c36.7-36.7 65.6-79.5 85.7-127.1A397.61 397.61 0 00872 552v-26c0-4.4-3.6-8-8-8zM705.7 787.8A331.59 331.59 0 01470.4 884c-88.1-.4-170.9-34.9-233.2-97.2C174.5 724.1 140 640.7 140 552c0-88.7 34.5-172.1 97.2-234.8 54.6-54.6 124.9-87.9 200.8-95.5V586h364.3c-7.7 76.3-41.3 147-96.6 201.8zM952 462.4l-2.6-28.2c-8.5-92.1-49.4-179-115.2-244.6A399.4 399.4 0 00589 74.6L560.7 72c-4.7-.4-8.7 3.2-8.7 7.9V464c0 4.4 3.6 8 8 8l384-1c4.7 0 8.4-4 8-8.6zm-332.2-58.2V147.6a332.24 332.24 0 01166.4 89.8c45.7 45.6 77 103.6 90 166.1l-256.4.7z"}}]},name:"pie-chart",theme:"outlined"},Le=function(e,t){return _.createElement(F,U({},e,{ref:t,icon:Be}))},Fe=_.forwardRef(Le),Ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M136 384h56c4.4 0 8-3.6 8-8V200h176c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H196c-37.6 0-68 30.4-68 68v180c0 4.4 3.6 8 8 8zm512-184h176v176c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V196c0-37.6-30.4-68-68-68H648c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM376 824H200V648c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v180c0 37.6 30.4 68 68 68h180c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm512-184h-56c-4.4 0-8 3.6-8 8v176H648c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h180c37.6 0 68-30.4 68-68V648c0-4.4-3.6-8-8-8zm16-164H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"scan",theme:"outlined"},ze=function(e,t){return _.createElement(F,U({},e,{ref:t,icon:Ue}))},He=_.forwardRef(ze),Ve={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M922.9 701.9H327.4l29.9-60.9 496.8-.9c16.8 0 31.2-12 34.2-28.6l68.8-385.1c1.8-10.1-.9-20.5-7.5-28.4a34.99 34.99 0 00-26.6-12.5l-632-2.1-5.4-25.4c-3.4-16.2-18-28-34.6-28H96.5a35.3 35.3 0 100 70.6h125.9L246 312.8l58.1 281.3-74.8 122.1a34.96 34.96 0 00-3 36.8c6 11.9 18.1 19.4 31.5 19.4h62.8a102.43 102.43 0 00-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7h161.1a102.43 102.43 0 00-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7H923c19.4 0 35.3-15.8 35.3-35.3a35.42 35.42 0 00-35.4-35.2zM305.7 253l575.8 1.9-56.4 315.8-452.3.8L305.7 253zm96.9 612.7c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 01-31.6 31.6zm325.1 0c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 01-31.6 31.6z"}}]},name:"shopping-cart",theme:"outlined"},We=function(e,t){return _.createElement(F,U({},e,{ref:t,icon:Ve}))},Ge=_.forwardRef(We),Xe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M824.2 699.9a301.55 301.55 0 00-86.4-60.4C783.1 602.8 812 546.8 812 484c0-110.8-92.4-201.7-203.2-200-109.1 1.7-197 90.6-197 200 0 62.8 29 118.8 74.2 155.5a300.95 300.95 0 00-86.4 60.4C345 754.6 314 826.8 312 903.8a8 8 0 008 8.2h56c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5A226.62 226.62 0 01612 684c60.9 0 118.2 23.7 161.3 66.8C814.5 792 838 846.3 840 904.3c.1 4.3 3.7 7.7 8 7.7h56a8 8 0 008-8.2c-2-77-33-149.2-87.8-203.9zM612 612c-34.2 0-66.4-13.3-90.5-37.5a126.86 126.86 0 01-37.5-91.8c.3-32.8 13.4-64.5 36.3-88 24-24.6 56.1-38.3 90.4-38.7 33.9-.3 66.8 12.9 91 36.6 24.8 24.3 38.4 56.8 38.4 91.4 0 34.2-13.3 66.3-37.5 90.5A127.3 127.3 0 01612 612zM361.5 510.4c-.9-8.7-1.4-17.5-1.4-26.4 0-15.9 1.5-31.4 4.3-46.5.7-3.6-1.2-7.3-4.5-8.8-13.6-6.1-26.1-14.5-36.9-25.1a127.54 127.54 0 01-38.7-95.4c.9-32.1 13.8-62.6 36.3-85.6 24.7-25.3 57.9-39.1 93.2-38.7 31.9.3 62.7 12.6 86 34.4 7.9 7.4 14.7 15.6 20.4 24.4 2 3.1 5.9 4.4 9.3 3.2 17.6-6.1 36.2-10.4 55.3-12.4 5.6-.6 8.8-6.6 6.3-11.6-32.5-64.3-98.9-108.7-175.7-109.9-110.9-1.7-203.3 89.2-203.3 199.9 0 62.8 28.9 118.8 74.2 155.5-31.8 14.7-61.1 35-86.5 60.4-54.8 54.7-85.8 126.9-87.8 204a8 8 0 008 8.2h56.1c4.3 0 7.9-3.4 8-7.7 1.9-58 25.4-112.3 66.7-153.5 29.4-29.4 65.4-49.8 104.7-59.7 3.9-1 6.5-4.7 6-8.7z"}}]},name:"team",theme:"outlined"},Ke=function(e,t){return _.createElement(F,U({},e,{ref:t,icon:Xe}))},Ye=_.forwardRef(Ke),qe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M140 188h584v164h76V144c0-17.7-14.3-32-32-32H96c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h544v-76H140V188z"}},{tag:"path",attrs:{d:"M414.3 256h-60.6c-3.4 0-6.4 2.2-7.6 5.4L219 629.4c-.3.8-.4 1.7-.4 2.6 0 4.4 3.6 8 8 8h55.1c3.4 0 6.4-2.2 7.6-5.4L322 540h196.2L422 261.4a8.42 8.42 0 00-7.7-5.4zm12.4 228h-85.5L384 360.2 426.7 484zM936 528H800v-93c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v93H592c-13.3 0-24 10.7-24 24v176c0 13.3 10.7 24 24 24h136v152c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V752h136c13.3 0 24-10.7 24-24V552c0-13.3-10.7-24-24-24zM728 680h-88v-80h88v80zm160 0h-88v-80h88v80z"}}]},name:"translation",theme:"outlined"},Ze=function(e,t){return _.createElement(F,U({},e,{ref:t,icon:qe}))},$e=_.forwardRef(Ze),Qe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 160h-92v-40c0-4.4-3.6-8-8-8H256c-4.4 0-8 3.6-8 8v40h-92a44 44 0 00-44 44v148c0 81.7 60 149.6 138.2 162C265.7 630.2 359 721.7 476 734.5v105.2H280c-17.7 0-32 14.3-32 32V904c0 4.4 3.6 8 8 8h512c4.4 0 8-3.6 8-8v-32.3c0-17.7-14.3-32-32-32H548V734.5C665 721.7 758.3 630.2 773.8 514 852 501.6 912 433.7 912 352V204a44 44 0 00-44-44zM184 352V232h64v207.6a91.99 91.99 0 01-64-87.6zm520 128c0 49.1-19.1 95.4-53.9 130.1-34.8 34.8-81 53.9-130.1 53.9h-16c-49.1 0-95.4-19.1-130.1-53.9-34.8-34.8-53.9-81-53.9-130.1V184h384v296zm136-128c0 41-26.9 75.8-64 87.6V232h64v120z"}}]},name:"trophy",theme:"outlined"},Je=function(e,t){return _.createElement(F,U({},e,{ref:t,icon:Qe}))},et=_.forwardRef(Je),tt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"unlock",theme:"outlined"},rt=function(e,t){return _.createElement(F,U({},e,{ref:t,icon:tt}))},nt=_.forwardRef(rt),it={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},at=function(e,t){return _.createElement(F,U({},e,{ref:t,icon:it}))},ot=_.forwardRef(at),st={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},lt=function(e,t){return _.createElement(F,U({},e,{ref:t,icon:st}))},ct=_.forwardRef(lt);const ut=_.createContext(void 0),dt=({children:e})=>{const[t,n]=_.useState(null),[i,a]=_.useState(!1),[o,s]=_.useState("");_.useEffect(()=>{localStorage.removeItem("sanciaUser"),n(null),s(""),a(!1)},[]);_.useEffect(()=>{t?localStorage.setItem("sanciaUser",JSON.stringify(t)):localStorage.removeItem("sanciaUser")},[t]);const l={user:t,setUser:n,updateUser:e=>{n(t=>t?{...t,...e}:null)},isRegistering:i,setIsRegistering:a,walletAddress:o,setWalletAddress:s,fetchUserFromServer:async e=>{try{const t=await fetch(`http://localhost:3001/api/users/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(t.ok){const e=await t.json();if(e.walletAddress)return n({walletAddress:e.walletAddress,username:e.username,avatar:e.avatar,registered:1===e.registered,registeredAt:e.registeredAt}),!0}return!1}catch(t){return!1}}};return r.jsx(ut.Provider,{value:l,children:e})},ht=()=>{const e=_.useContext(ut);if(void 0===e)throw new Error("useUser must be used within a UserProvider");return e},ft={primary:"#1890ff",danger:"#ff4d4f",success:"#52c41a",text:"#ffffff",textSecondary:"rgba(255, 255, 255, 0.7)",background:"rgba(255, 255, 255, 0.05)",cardBackground:"rgba(255, 255, 255, 0.08)",border:"rgba(255, 255, 255, 0.15)",inputBackground:"rgba(255, 255, 255, 0.1)"},pt={fontSizeXLarge:"24px",fontSizeLarge:"20px",fontSizeNormal:"14px",fontSizeSmall:"12px",fontWeightBold:"500"},gt={padding:"20px",marginBottom:"20px",cardPadding:"20px"},mt={borderRadius:"8px",borderWidth:"1px",borderStyle:"solid"},yt={padding:"12px 24px",fontSize:"14px",borderRadius:"8px",fontWeight:"500",cursor:"pointer"},vt={maxWidth:"400px",margin:"0 auto",textAlign:"center"},wt={pageContainer:{padding:gt.padding,backgroundColor:ft.background,minHeight:"100vh",color:ft.text},card:{padding:gt.cardPadding,backgroundColor:ft.cardBackground,borderRadius:mt.borderRadius,border:`${mt.borderWidth} ${mt.borderStyle} ${ft.border}`,margin:`${vt.margin}`,maxWidth:vt.maxWidth},title:{fontSize:pt.fontSizeXLarge,marginBottom:gt.marginBottom,textAlign:vt.textAlign,color:ft.text},subtitle:{fontSize:pt.fontSizeLarge,marginBottom:"4px",color:ft.text},text:{fontSize:pt.fontSizeNormal,color:ft.text},textSecondary:{fontSize:pt.fontSizeSmall,color:ft.textSecondary},button:{padding:yt.padding,fontSize:yt.fontSize,borderRadius:mt.borderRadius,fontWeight:pt.fontWeightBold,cursor:yt.cursor,border:"none",color:ft.text},buttonPrimary:{...yt,backgroundColor:ft.primary,color:ft.text}},bt=({visible:e,onCancel:t,walletAddress:n})=>{const[i]=z.useForm(),[a,o]=_.useState("https://api.dicebear.com/7.x/lorelei/svg?seed="+Math.random()),[s,l]=_.useState(!1),{setUser:c,setIsRegistering:u}=ht(),d=S();return r.jsx(H,{title:"用户注册",open:e,onCancel:t,footer:null,width:500,centered:!0,maskClosable:!1,closable:!1,styles:{content:{backgroundColor:"rgba(0, 0, 0, 0.95)",color:ft.text,borderRadius:mt.borderRadius,border:`${mt.borderWidth} ${mt.borderStyle} ${ft.border}`},header:{borderBottom:`${mt.borderWidth} ${mt.borderStyle} ${ft.border}`,color:ft.text}},children:r.jsxs(z,{form:i,layout:"vertical",onFinish:async e=>{try{const r={walletAddress:n,username:e.username,avatar:a,registered:!0,registeredAt:(new Date).toISOString()},i=await fetch("http://localhost:3001/api/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({walletAddress:n,username:e.username,avatar:a})});if(!i.ok)throw new Error("Failed to register user on server");await i.json();c(r),u(!1),X.success("注册成功！"),t(),d("/onboarding/me")}catch(r){X.error("注册失败，请重试")}},initialValues:{username:""},children:[r.jsx(z.Item,{label:"选择头像",name:"avatar",children:r.jsxs("div",{style:{marginBottom:gt.marginBottom},children:[r.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:gt.marginBottom},children:r.jsx("img",{src:a,alt:"Selected avatar",style:{width:100,height:100,borderRadius:"50%",objectFit:"cover",border:`2px solid ${ft.primary}`}})}),r.jsxs("div",{children:[r.jsx("h4",{style:{color:ft.text,marginBottom:8,fontSize:pt.fontSizeNormal,fontWeight:pt.fontWeightBold},children:"上传头像"}),r.jsx(V,{beforeUpload:async e=>{try{l(!0);const t=new FileReader;await new Promise((r,n)=>{t.onload=()=>r(),t.onerror=n,t.readAsDataURL(e)});const r=t.result;return o(r),X.success("头像上传成功"),!1}catch(t){return X.error("头像上传失败"),!1}finally{l(!1)}},showUploadList:!1,accept:"image/*",children:r.jsx(W,{icon:r.jsx(ot,{}),loading:s,style:{width:"100%",backgroundColor:ft.inputBackground,border:`${mt.borderWidth} ${mt.borderStyle} ${ft.border}`,color:ft.text,borderRadius:mt.borderRadius},children:s?"上传中...":"选择本地图片"})})]})]})}),r.jsx(z.Item,{label:"用户名",name:"username",rules:[{required:!0,message:"请输入用户名"},{min:2,max:20,message:"用户名长度必须在2到20个字符之间"},{pattern:/^[\u4e00-\u9fa5a-zA-Z0-9_]+$/,message:"用户名只能包含中文、字母、数字和下划线"}],labelCol:{style:{color:ft.text,marginBottom:"8px",fontSize:pt.fontSizeNormal}},children:r.jsx(G,{placeholder:"请输入用户名",style:{backgroundColor:ft.inputBackground,borderColor:ft.border,color:ft.text,borderRadius:mt.borderRadius,height:40,fontSize:pt.fontSizeNormal},onChange:()=>{}})}),r.jsx(z.Item,{children:r.jsx(W,{type:"primary",htmlType:"submit",style:{...wt.buttonPrimary,width:"100%",height:40,fontSize:pt.fontSizeNormal,marginTop:"10px"},children:"完成注册"})})]})})};var Et,At;(At=Et||(Et={}))[At.QR_CODE=0]="QR_CODE",At[At.AZTEC=1]="AZTEC",At[At.CODABAR=2]="CODABAR",At[At.CODE_39=3]="CODE_39",At[At.CODE_93=4]="CODE_93",At[At.CODE_128=5]="CODE_128",At[At.DATA_MATRIX=6]="DATA_MATRIX",At[At.MAXICODE=7]="MAXICODE",At[At.ITF=8]="ITF",At[At.EAN_13=9]="EAN_13",At[At.EAN_8=10]="EAN_8",At[At.PDF_417=11]="PDF_417",At[At.RSS_14=12]="RSS_14",At[At.RSS_EXPANDED=13]="RSS_EXPANDED",At[At.UPC_A=14]="UPC_A",At[At.UPC_E=15]="UPC_E",At[At.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION";var xt,Ct,St,_t,It=new Map([[Et.QR_CODE,"QR_CODE"],[Et.AZTEC,"AZTEC"],[Et.CODABAR,"CODABAR"],[Et.CODE_39,"CODE_39"],[Et.CODE_93,"CODE_93"],[Et.CODE_128,"CODE_128"],[Et.DATA_MATRIX,"DATA_MATRIX"],[Et.MAXICODE,"MAXICODE"],[Et.ITF,"ITF"],[Et.EAN_13,"EAN_13"],[Et.EAN_8,"EAN_8"],[Et.PDF_417,"PDF_417"],[Et.RSS_14,"RSS_14"],[Et.RSS_EXPANDED,"RSS_EXPANDED"],[Et.UPC_A,"UPC_A"],[Et.UPC_E,"UPC_E"],[Et.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function Ot(e){return Object.values(Et).includes(e)}(Ct=xt||(xt={}))[Ct.UNKNOWN=0]="UNKNOWN",Ct[Ct.URL=1]="URL",(_t=St||(St={}))[_t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",_t[_t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE";var Tt,Pt,Rt=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[St.SCAN_TYPE_CAMERA,St.SCAN_TYPE_FILE],e}(),Mt=function(){function e(e,t){this.format=e,this.formatName=t}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!It.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,It.get(t))},e}(),Nt=function(){function e(){}return e.createFromText=function(e){return{decodedText:e,result:{text:e}}},e.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},e}();(Pt=Tt||(Tt={}))[Pt.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",Pt[Pt.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",Pt[Pt.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR";var Dt=function(){function e(){}return e.createFrom=function(e){return{errorMessage:e,type:Tt.UNKWOWN_ERROR}},e}(),jt=function(){function e(e){this.verbose=e}return e.prototype.log=function(e){this.verbose},e.prototype.warn=function(e){this.verbose},e.prototype.logError=function(e,t){this.verbose},e.prototype.logErrors=function(e){if(0===e.length)throw"Logger#logError called without arguments";this.verbose},e}();function kt(e){return null==e}var Bt=function(){function e(){}return e.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},e.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Lt=function(){function e(){}return e.isMediaStreamConstraintsValid=function(e,t){if("object"!=typeof e){var r=typeof e;return t.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var n=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),i=0,a=Object.keys(e);i<a.length;i++){var o=a[i];if(n.has(o))return t.logError("".concat(o," is not supported videoConstaints."),!0),!1}return!0},e}(),Ft={exports:{}};!function(e){function t(e){return null==e}var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};function n(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t){var r=Object.setPrototypeOf;r?r(e,t):e.__proto__=t}function a(e,t){void 0===t&&(t=e.constructor);var r=Error.captureStackTrace;r&&r(e,t)}var o,s,l=function(e){function t(t){var r=this.constructor,n=e.call(this,t)||this;return Object.defineProperty(n,"name",{value:r.name,enumerable:!1}),i(n,r.prototype),a(n),n}return n(t,e),t}(Error);class c extends l{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}c.kind="Exception";class u extends c{}u.kind="ArgumentException";class d extends c{}d.kind="IllegalArgumentException";class h{constructor(e){if(this.binarizer=e,null===e)throw new d("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return null!==this.matrix&&void 0!==this.matrix||(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,r,n){const i=this.binarizer.getLuminanceSource().crop(e,t,r,n);return new h(this.binarizer.createBinarizer(i))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new h(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new h(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch(i_){return""}}}class f extends c{static getChecksumInstance(){return new f}}f.kind="ChecksumException";class p{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class g{static arraycopy(e,t,r,n,i){for(;i--;)r[n++]=e[t++]}static currentTimeMillis(){return Date.now()}}class m extends c{}m.kind="IndexOutOfBoundsException";class y extends m{constructor(e=void 0,t=void 0){super(t),this.index=e,this.message=t}}y.kind="ArrayIndexOutOfBoundsException";class v{static fill(e,t){for(let r=0,n=e.length;r<n;r++)e[r]=t}static fillWithin(e,t,r,n){v.rangeCheck(e.length,t,r);for(let i=t;i<r;i++)e[i]=n}static rangeCheck(e,t,r){if(t>r)throw new d("fromIndex("+t+") > toIndex("+r+")");if(t<0)throw new y(t);if(r>e)throw new y(r)}static asList(...e){return e}static create(e,t,r){return Array.from({length:e}).map(e=>Array.from({length:t}).fill(r))}static createInt32Array(e,t,r){return Array.from({length:e}).map(e=>Int32Array.from({length:t}).fill(r))}static equals(e,t){if(!e)return!1;if(!t)return!1;if(!e.length)return!1;if(!t.length)return!1;if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}static hashCode(e){if(null===e)return 0;let t=1;for(const r of e)t=31*t+r;return t}static fillUint8Array(e,t){for(let r=0;r!==e.length;r++)e[r]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const r=new Uint8Array(t);return r.set(e),r}return e.slice(0,t)}static copyOfRange(e,t,r){const n=r-t,i=new Int32Array(n);return g.arraycopy(e,t,i,0,n),i}static binarySearch(e,t,r){void 0===r&&(r=v.numberComparator);let n=0,i=e.length-1;for(;n<=i;){const a=i+n>>1,o=r(t,e[a]);if(o>0)n=a+1;else{if(!(o<0))return a;i=a-1}}return-n-1}static numberComparator(e,t){return e-t}}class w{static numberOfTrailingZeros(e){let t;if(0===e)return 32;let r=31;return t=e<<16,0!==t&&(r-=16,e=t),t=e<<8,0!==t&&(r-=8,e=t),t=e<<4,0!==t&&(r-=4,e=t),t=e<<2,0!==t&&(r-=2,e=t),r-(e<<1>>>31)}static numberOfLeadingZeros(e){if(0===e)return 32;let t=1;return e>>>16==0&&(t+=16,e<<=16),e>>>24==0&&(t+=8,e<<=8),e>>>28==0&&(t+=4,e<<=4),e>>>30==0&&(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=(e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135,e+=e>>>8,63&(e+=e>>>16)}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e,t=void 0){return parseInt(e,t)}}w.MIN_VALUE_32_BITS=-2147483648,w.MAX_VALUE=Number.MAX_SAFE_INTEGER;class b{constructor(e,t){void 0===e?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,this.bits=null==t?b.makeArray(e):t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>32*this.bits.length){const t=b.makeArray(e);g.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return!!(this.bits[Math.floor(e/32)]&1<<(31&e))}set(e){this.bits[Math.floor(e/32)]|=1<<(31&e)}flip(e){this.bits[Math.floor(e/32)]^=1<<(31&e)}getNextSet(e){const t=this.size;if(e>=t)return t;const r=this.bits;let n=Math.floor(e/32),i=r[n];i&=~((1<<(31&e))-1);const a=r.length;for(;0===i;){if(++n===a)return t;i=r[n]}const o=32*n+w.numberOfTrailingZeros(i);return o>t?t:o}getNextUnset(e){const t=this.size;if(e>=t)return t;const r=this.bits;let n=Math.floor(e/32),i=~r[n];i&=~((1<<(31&e))-1);const a=r.length;for(;0===i;){if(++n===a)return t;i=~r[n]}const o=32*n+w.numberOfTrailingZeros(i);return o>t?t:o}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new d;if(t===e)return;t--;const r=Math.floor(e/32),n=Math.floor(t/32),i=this.bits;for(let a=r;a<=n;a++){const o=(2<<(a<n?31:31&t))-(1<<(a>r?0:31&e));i[a]|=o}}clear(){const e=this.bits.length,t=this.bits;for(let r=0;r<e;r++)t[r]=0}isRange(e,t,r){if(t<e||e<0||t>this.size)throw new d;if(t===e)return!0;t--;const n=Math.floor(e/32),i=Math.floor(t/32),a=this.bits;for(let o=n;o<=i;o++){const s=(2<<(o<i?31:31&t))-(1<<(o>n?0:31&e))&4294967295;if((a[o]&s)!==(r?s:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(e,t){if(t<0||t>32)throw new d("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let r=t;r>0;r--)this.appendBit(1==(e>>r-1&1))}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let r=0;r<t;r++)this.appendBit(e.get(r))}xor(e){if(this.size!==e.size)throw new d("Sizes don't match");const t=this.bits;for(let r=0,n=t.length;r<n;r++)t[r]^=e.bits[r]}toBytes(e,t,r,n){for(let i=0;i<n;i++){let n=0;for(let t=0;t<8;t++)this.get(e)&&(n|=1<<7-t),e++;t[r+i]=n}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),r=t+1,n=this.bits;for(let i=0;i<r;i++){let r=n[i];r=r>>1&1431655765|(1431655765&r)<<1,r=r>>2&858993459|(858993459&r)<<2,r=r>>4&252645135|(252645135&r)<<4,r=r>>8&16711935|(16711935&r)<<8,r=r>>16&65535|(65535&r)<<16,e[t-i]=r}if(this.size!==32*r){const t=32*r-this.size;let n=e[0]>>>t;for(let i=1;i<r;i++){const r=e[i];n|=r<<32-t,e[i-1]=n,n=r>>>t}e[r-1]=n}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof b))return!1;const t=e;return this.size===t.size&&v.equals(this.bits,t.bits)}hashCode(){return 31*this.size+v.hashCode(this.bits)}toString(){let e="";for(let t=0,r=this.size;t<r;t++)7&t||(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new b(this.size,this.bits.slice())}}(s=o||(o={}))[s.OTHER=0]="OTHER",s[s.PURE_BARCODE=1]="PURE_BARCODE",s[s.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",s[s.TRY_HARDER=3]="TRY_HARDER",s[s.CHARACTER_SET=4]="CHARACTER_SET",s[s.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",s[s.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",s[s.ASSUME_GS1=7]="ASSUME_GS1",s[s.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",s[s.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",s[s.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS";var E,A,x=o;class C extends c{static getFormatInstance(){return new C}}C.kind="FormatException",(A=E||(E={}))[A.Cp437=0]="Cp437",A[A.ISO8859_1=1]="ISO8859_1",A[A.ISO8859_2=2]="ISO8859_2",A[A.ISO8859_3=3]="ISO8859_3",A[A.ISO8859_4=4]="ISO8859_4",A[A.ISO8859_5=5]="ISO8859_5",A[A.ISO8859_6=6]="ISO8859_6",A[A.ISO8859_7=7]="ISO8859_7",A[A.ISO8859_8=8]="ISO8859_8",A[A.ISO8859_9=9]="ISO8859_9",A[A.ISO8859_10=10]="ISO8859_10",A[A.ISO8859_11=11]="ISO8859_11",A[A.ISO8859_13=12]="ISO8859_13",A[A.ISO8859_14=13]="ISO8859_14",A[A.ISO8859_15=14]="ISO8859_15",A[A.ISO8859_16=15]="ISO8859_16",A[A.SJIS=16]="SJIS",A[A.Cp1250=17]="Cp1250",A[A.Cp1251=18]="Cp1251",A[A.Cp1252=19]="Cp1252",A[A.Cp1256=20]="Cp1256",A[A.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",A[A.UTF8=22]="UTF8",A[A.ASCII=23]="ASCII",A[A.Big5=24]="Big5",A[A.GB18030=25]="GB18030",A[A.EUC_KR=26]="EUC_KR";class S{constructor(e,t,r,...n){this.valueIdentifier=e,this.name=r,this.values="number"==typeof t?Int32Array.from([t]):t,this.otherEncodingNames=n,S.VALUE_IDENTIFIER_TO_ECI.set(e,this),S.NAME_TO_ECI.set(r,this);const i=this.values;for(let a=0,o=i.length;a!==o;a++){const e=i[a];S.VALUES_TO_ECI.set(e,this)}for(const a of n)S.NAME_TO_ECI.set(a,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new C("incorect value");const t=S.VALUES_TO_ECI.get(e);if(void 0===t)throw new C("incorect value");return t}static getCharacterSetECIByName(e){const t=S.NAME_TO_ECI.get(e);if(void 0===t)throw new C("incorect value");return t}equals(e){if(!(e instanceof S))return!1;const t=e;return this.getName()===t.getName()}}S.VALUE_IDENTIFIER_TO_ECI=new Map,S.VALUES_TO_ECI=new Map,S.NAME_TO_ECI=new Map,S.Cp437=new S(E.Cp437,Int32Array.from([0,2]),"Cp437"),S.ISO8859_1=new S(E.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),S.ISO8859_2=new S(E.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),S.ISO8859_3=new S(E.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),S.ISO8859_4=new S(E.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),S.ISO8859_5=new S(E.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),S.ISO8859_6=new S(E.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),S.ISO8859_7=new S(E.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),S.ISO8859_8=new S(E.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),S.ISO8859_9=new S(E.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),S.ISO8859_10=new S(E.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),S.ISO8859_11=new S(E.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),S.ISO8859_13=new S(E.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),S.ISO8859_14=new S(E.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),S.ISO8859_15=new S(E.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),S.ISO8859_16=new S(E.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),S.SJIS=new S(E.SJIS,20,"SJIS","Shift_JIS"),S.Cp1250=new S(E.Cp1250,21,"Cp1250","windows-1250"),S.Cp1251=new S(E.Cp1251,22,"Cp1251","windows-1251"),S.Cp1252=new S(E.Cp1252,23,"Cp1252","windows-1252"),S.Cp1256=new S(E.Cp1256,24,"Cp1256","windows-1256"),S.UnicodeBigUnmarked=new S(E.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),S.UTF8=new S(E.UTF8,26,"UTF8","UTF-8"),S.ASCII=new S(E.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),S.Big5=new S(E.Big5,28,"Big5"),S.GB18030=new S(E.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),S.EUC_KR=new S(E.EUC_KR,30,"EUC_KR","EUC-KR");class _ extends c{}_.kind="UnsupportedOperationException";class O{static decode(e,t){const r=this.encodingName(t);return this.customDecoder?this.customDecoder(e,r):"undefined"==typeof TextDecoder||this.shouldDecodeOnFallback(r)?this.decodeFallback(e,r):new TextDecoder(r).decode(e)}static shouldDecodeOnFallback(e){return!O.isBrowser()&&"ISO-8859-1"===e}static encode(e,t){const r=this.encodingName(t);return this.customEncoder?this.customEncoder(e,r):"undefined"==typeof TextEncoder?this.encodeFallback(e):(new TextEncoder).encode(e)}static isBrowser(){return"undefined"!=typeof window&&"[object Window]"==={}.toString.call(window)}static encodingName(e){return"string"==typeof e?e:e.getName()}static encodingCharacterSet(e){return e instanceof S?e:S.getCharacterSetECIByName(e)}static decodeFallback(e,t){const r=this.encodingCharacterSet(t);if(O.isDecodeFallbackSupported(r)){let t="";for(let r=0,n=e.length;r<n;r++){let n=e[r].toString(16);n.length<2&&(n="0"+n),t+="%"+n}return decodeURIComponent(t)}if(r.equals(S.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new _(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(S.UTF8)||e.equals(S.ISO8859_1)||e.equals(S.ASCII)}static encodeFallback(e){const t=btoa(unescape(encodeURIComponent(e))).split(""),r=[];for(let n=0;n<t.length;n++)r.push(t[n].charCodeAt(0));return new Uint8Array(r)}}class T{static castAsNonUtf8Char(e,t=null){const r=t?t.getName():this.ISO88591;return O.decode(new Uint8Array([e]),r)}static guessEncoding(e,t){if(null!=t&&void 0!==t.get(x.CHARACTER_SET))return t.get(x.CHARACTER_SET).toString();const r=e.length;let n=!0,i=!0,a=!0,o=0,s=0,l=0,c=0,u=0,d=0,h=0,f=0,p=0,g=0,m=0;const y=e.length>3&&239===e[0]&&187===e[1]&&191===e[2];for(let v=0;v<r&&(n||i||a);v++){const t=255&e[v];a&&(o>0?128&t?o--:a=!1:128&t&&(64&t?(o++,32&t?(o++,16&t?(o++,8&t?a=!1:c++):l++):s++):a=!1)),n&&(t>127&&t<160?n=!1:t>159&&(t<192||215===t||247===t)&&m++),i&&(u>0?t<64||127===t||t>252?i=!1:u--:128===t||160===t||t>239?i=!1:t>160&&t<224?(d++,f=0,h++,h>p&&(p=h)):t>127?(u++,h=0,f++,f>g&&(g=f)):(h=0,f=0))}return a&&o>0&&(a=!1),i&&u>0&&(i=!1),a&&(y||s+l+c>0)?T.UTF8:i&&(T.ASSUME_SHIFT_JIS||p>=3||g>=3)?T.SHIFT_JIS:n&&i?2===p&&2===d||10*m>=r?T.SHIFT_JIS:T.ISO88591:n?T.ISO88591:i?T.SHIFT_JIS:a?T.UTF8:T.PLATFORM_DEFAULT_ENCODING}static format(e,...t){let r=-1;function n(e,n,i,a,o,s){if("%%"===e)return"%";if(void 0===t[++r])return;e=a?parseInt(a.substr(1)):void 0;let l,c=o?parseInt(o.substr(1)):void 0;switch(s){case"s":l=t[r];break;case"c":l=t[r][0];break;case"f":l=parseFloat(t[r]).toFixed(e);break;case"p":l=parseFloat(t[r]).toPrecision(e);break;case"e":l=parseFloat(t[r]).toExponential(e);break;case"x":l=parseInt(t[r]).toString(c||16);break;case"d":l=parseFloat(parseInt(t[r],c||10).toPrecision(e)).toFixed(0)}l="object"==typeof l?JSON.stringify(l):(+l).toString(c);let u=parseInt(i),d=i&&i[0]+""=="0"?"0":" ";for(;l.length<u;)l=void 0!==n?l+d:d+l;return l}let i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,n)}static getBytes(e,t){return O.encode(e,t)}static getCharCode(e,t=0){return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}T.SHIFT_JIS=S.SJIS.getName(),T.GB2312="GB2312",T.ISO88591=S.ISO8859_1.getName(),T.EUC_JP="EUC_JP",T.UTF8=S.UTF8.getName(),T.PLATFORM_DEFAULT_ENCODING=T.UTF8,T.ASSUME_SHIFT_JIS=!1;class P{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return"string"==typeof e?this.value+=e.toString():this.encoding?this.value+=T.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,r){for(let n=t;t<t+r;n++)this.append(e[n]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class R{constructor(e,t,r,n){if(this.width=e,this.height=t,this.rowSize=r,this.bits=n,null==t&&(t=e),this.height=t,e<1||t<1)throw new d("Both dimensions must be greater than 0");null==r&&(r=Math.floor((e+31)/32)),this.rowSize=r,null==n&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,r=e[0].length,n=new R(r,t);for(let i=0;i<t;i++){const t=e[i];for(let e=0;e<r;e++)t[e]&&n.set(e,i)}return n}static parseFromString(e,t,r){if(null===e)throw new d("stringRepresentation cannot be null");const n=new Array(e.length);let i=0,a=0,o=-1,s=0,l=0;for(;l<e.length;)if("\n"===e.charAt(l)||"\r"===e.charAt(l)){if(i>a){if(-1===o)o=i-a;else if(i-a!==o)throw new d("row lengths do not match");a=i,s++}l++}else if(e.substring(l,l+t.length)===t)l+=t.length,n[i]=!0,i++;else{if(e.substring(l,l+r.length)!==r)throw new d("illegal character encountered: "+e.substring(l));l+=r.length,n[i]=!1,i++}if(i>a){if(-1===o)o=i-a;else if(i-a!==o)throw new d("row lengths do not match");s++}const c=new R(o,s);for(let u=0;u<i;u++)n[u]&&c.set(Math.floor(u%o),Math.floor(u/o));return c}get(e,t){const r=t*this.rowSize+Math.floor(e/32);return!!(this.bits[r]>>>(31&e)&1)}set(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]|=1<<(31&e)&4294967295}unset(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]&=~(1<<(31&e)&4294967295)}flip(e,t){const r=t*this.rowSize+Math.floor(e/32);this.bits[r]^=1<<(31&e)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new d("input matrix dimensions do not match");const t=new b(Math.floor(this.width/32)+1),r=this.rowSize,n=this.bits;for(let i=0,a=this.height;i<a;i++){const a=i*r,o=e.getRow(i,t).getBitArray();for(let e=0;e<r;e++)n[a+e]^=o[e]}}clear(){const e=this.bits,t=e.length;for(let r=0;r<t;r++)e[r]=0}setRegion(e,t,r,n){if(t<0||e<0)throw new d("Left and top must be nonnegative");if(n<1||r<1)throw new d("Height and width must be at least 1");const i=e+r,a=t+n;if(a>this.height||i>this.width)throw new d("The region must fit inside the matrix");const o=this.rowSize,s=this.bits;for(let l=t;l<a;l++){const t=l*o;for(let r=e;r<i;r++)s[t+Math.floor(r/32)]|=1<<(31&r)&4294967295}}getRow(e,t){null==t||t.getSize()<this.width?t=new b(this.width):t.clear();const r=this.rowSize,n=this.bits,i=e*r;for(let a=0;a<r;a++)t.setBulk(32*a,n[i+a]);return t}setRow(e,t){g.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let r=new b(e),n=new b(e);for(let i=0,a=Math.floor((t+1)/2);i<a;i++)r=this.getRow(i,r),n=this.getRow(t-1-i,n),r.reverse(),n.reverse(),this.setRow(i,n),this.setRow(t-1-i,r)}getEnclosingRectangle(){const e=this.width,t=this.height,r=this.rowSize,n=this.bits;let i=e,a=t,o=-1,s=-1;for(let l=0;l<t;l++)for(let e=0;e<r;e++){const t=n[l*r+e];if(0!==t){if(l<a&&(a=l),l>s&&(s=l),32*e<i){let r=0;for(;!(t<<31-r&4294967295);)r++;32*e+r<i&&(i=32*e+r)}if(32*e+31>o){let r=31;for(;t>>>r===0;)r--;32*e+r>o&&(o=32*e+r)}}}return o<i||s<a?null:Int32Array.from([i,a,o-i+1,s-a+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let r=0;for(;r<t.length&&0===t[r];)r++;if(r===t.length)return null;const n=r/e;let i=r%e*32;const a=t[r];let o=0;for(;!(a<<31-o&4294967295);)o++;return i+=o,Int32Array.from([i,n])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let r=t.length-1;for(;r>=0&&0===t[r];)r--;if(r<0)return null;const n=Math.floor(r/e);let i=32*Math.floor(r%e);const a=t[r];let o=31;for(;a>>>o===0;)o--;return i+=o,Int32Array.from([i,n])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof R))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&v.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+v.hashCode(this.bits),e}toString(e="X ",t="  ",r="\n"){return this.buildToString(e,t,r)}buildToString(e,t,r){let n=new P;for(let i=0,a=this.height;i<a;i++){for(let r=0,a=this.width;r<a;r++)n.append(this.get(r,i)?e:t);n.append(r)}return n.toString()}clone(){return new R(this.width,this.height,this.rowSize,this.bits.slice())}}class M extends c{static getNotFoundInstance(){return new M}}M.kind="NotFoundException";class N extends p{constructor(e){super(e),this.luminances=N.EMPTY,this.buckets=new Int32Array(N.LUMINANCE_BUCKETS)}getBlackRow(e,t){const r=this.getLuminanceSource(),n=r.getWidth();null==t||t.getSize()<n?t=new b(n):t.clear(),this.initArrays(n);const i=r.getRow(e,this.luminances),a=this.buckets;for(let s=0;s<n;s++)a[(255&i[s])>>N.LUMINANCE_SHIFT]++;const o=N.estimateBlackPoint(a);if(n<3)for(let s=0;s<n;s++)(255&i[s])<o&&t.set(s);else{let e=255&i[0],r=255&i[1];for(let a=1;a<n-1;a++){const n=255&i[a+1];(4*r-e-n)/2<o&&t.set(a),e=r,r=n}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight(),n=new R(t,r);this.initArrays(t);const i=this.buckets;for(let s=1;s<5;s++){const n=Math.floor(r*s/5),a=e.getRow(n,this.luminances),o=Math.floor(4*t/5);for(let e=Math.floor(t/5);e<o;e++)i[(255&a[e])>>N.LUMINANCE_SHIFT]++}const a=N.estimateBlackPoint(i),o=e.getMatrix();for(let s=0;s<r;s++){const e=s*t;for(let r=0;r<t;r++)(255&o[e+r])<a&&n.set(r,s)}return n}createBinarizer(e){return new N(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let r=0;r<N.LUMINANCE_BUCKETS;r++)t[r]=0}static estimateBlackPoint(e){const t=e.length;let r=0,n=0,i=0;for(let c=0;c<t;c++)e[c]>i&&(n=c,i=e[c]),e[c]>r&&(r=e[c]);let a=0,o=0;for(let c=0;c<t;c++){const t=c-n,r=e[c]*t*t;r>o&&(a=c,o=r)}if(n>a){const e=n;n=a,a=e}if(a-n<=t/16)throw new M;let s=a-1,l=-1;for(let c=a-1;c>n;c--){const t=c-n,i=t*t*(a-c)*(r-e[c]);i>l&&(s=c,l=i)}return s<<N.LUMINANCE_SHIFT}}N.LUMINANCE_BITS=5,N.LUMINANCE_SHIFT=8-N.LUMINANCE_BITS,N.LUMINANCE_BUCKETS=1<<N.LUMINANCE_BITS,N.EMPTY=Uint8ClampedArray.from([0]);class D extends N{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),r=e.getHeight();if(t>=D.MINIMUM_DIMENSION&&r>=D.MINIMUM_DIMENSION){const n=e.getMatrix();let i=t>>D.BLOCK_SIZE_POWER;0!==(t&D.BLOCK_SIZE_MASK)&&i++;let a=r>>D.BLOCK_SIZE_POWER;0!==(r&D.BLOCK_SIZE_MASK)&&a++;const o=D.calculateBlackPoints(n,i,a,t,r),s=new R(t,r);D.calculateThresholdForBlock(n,i,a,t,r,o,s),this.matrix=s}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new D(e)}static calculateThresholdForBlock(e,t,r,n,i,a,o){const s=i-D.BLOCK_SIZE,l=n-D.BLOCK_SIZE;for(let c=0;c<r;c++){let i=c<<D.BLOCK_SIZE_POWER;i>s&&(i=s);const u=D.cap(c,2,r-3);for(let r=0;r<t;r++){let s=r<<D.BLOCK_SIZE_POWER;s>l&&(s=l);const c=D.cap(r,2,t-3);let d=0;for(let e=-2;e<=2;e++){const t=a[u+e];d+=t[c-2]+t[c-1]+t[c]+t[c+1]+t[c+2]}const h=d/25;D.thresholdBlock(e,s,i,h,n,o)}}}static cap(e,t,r){return e<t?t:e>r?r:e}static thresholdBlock(e,t,r,n,i,a){for(let o=0,s=r*i+t;o<D.BLOCK_SIZE;o++,s+=i)for(let i=0;i<D.BLOCK_SIZE;i++)(255&e[s+i])<=n&&a.set(t+i,r+o)}static calculateBlackPoints(e,t,r,n,i){const a=i-D.BLOCK_SIZE,o=n-D.BLOCK_SIZE,s=new Array(r);for(let l=0;l<r;l++){s[l]=new Int32Array(t);let r=l<<D.BLOCK_SIZE_POWER;r>a&&(r=a);for(let i=0;i<t;i++){let t=i<<D.BLOCK_SIZE_POWER;t>o&&(t=o);let a=0,c=255,u=0;for(let i=0,o=r*n+t;i<D.BLOCK_SIZE;i++,o+=n){for(let t=0;t<D.BLOCK_SIZE;t++){const r=255&e[o+t];a+=r,r<c&&(c=r),r>u&&(u=r)}if(u-c>D.MIN_DYNAMIC_RANGE)for(i++,o+=n;i<D.BLOCK_SIZE;i++,o+=n)for(let t=0;t<D.BLOCK_SIZE;t++)a+=255&e[o+t]}let d=a>>2*D.BLOCK_SIZE_POWER;if(u-c<=D.MIN_DYNAMIC_RANGE&&(d=c/2,l>0&&i>0)){const e=(s[l-1][i]+2*s[l][i-1]+s[l-1][i-1])/4;c<e&&(d=e)}s[l][i]=d}}return s}}D.BLOCK_SIZE_POWER=3,D.BLOCK_SIZE=1<<D.BLOCK_SIZE_POWER,D.BLOCK_SIZE_MASK=D.BLOCK_SIZE-1,D.MINIMUM_DIMENSION=5*D.BLOCK_SIZE,D.MIN_DYNAMIC_RANGE=24;class j{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,r,n){throw new _("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new _("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new _("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new P;for(let r=0;r<this.height;r++){const n=this.getRow(r,e);for(let e=0;e<this.width;e++){const r=255&n[e];let i;i=r<64?"#":r<128?"+":r<192?".":" ",t.append(i)}t.append("\n")}return t.toString()}}class k extends j{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const r=this.delegate.getRow(e,t),n=this.getWidth();for(let i=0;i<n;i++)r[i]=255-(255&r[i]);return r}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(t);for(let n=0;n<t;n++)r[n]=255-(255&e[n]);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,r,n){return new k(this.delegate.crop(e,t,r,n))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new k(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new k(this.delegate.rotateCounterClockwise45())}}class B extends j{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=B.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return B.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,r){const n=new Uint8ClampedArray(t*r);for(let i=0,a=0,o=e.length;i<o;i+=4,a++){let t;t=0===e[i+3]?255:306*e[i]+601*e[i+1]+117*e[i+2]+512>>10,n[a]=t}return n}getRow(e,t){if(e<0||e>=this.getHeight())throw new d("Requested row is outside the image: "+e);const r=this.getWidth(),n=e*r;return null===t?t=this.buffer.slice(n,n+r):(t.length<r&&(t=new Uint8ClampedArray(r)),t.set(this.buffer.slice(n,n+r))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,r,n){return super.crop(e,t,r,n),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),r=t.getContext("2d"),n=e*B.DEGREE_TO_RADIANS,i=this.canvas.width,a=this.canvas.height,o=Math.ceil(Math.abs(Math.cos(n))*i+Math.abs(Math.sin(n))*a),s=Math.ceil(Math.abs(Math.sin(n))*i+Math.abs(Math.cos(n))*a);return t.width=o,t.height=s,r.translate(o/2,s/2),r.rotate(n),r.drawImage(this.canvas,i/-2,a/-2),this.buffer=B.makeBufferFromCanvasImageData(t),this}invert(){return new k(this)}}B.DEGREE_TO_RADIANS=Math.PI/180;class L{constructor(e,t,r){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var F,U,z=(globalThis||I||self||window?(globalThis||I||self||window||void 0).__awaiter:void 0)||function(e,t,r,n){function i(e){return e instanceof r?e:new r(function(t){t(e)})}return new(r||(r=Promise))(function(r,a){function o(e){try{l(n.next(e))}catch(i_){a(i_)}}function s(e){try{l(n.throw(e))}catch(i_){a(i_)}}function l(e){e.done?r(e.value):i(e.value).then(o,s)}l((n=n.apply(e,t||[])).next())})};class H{constructor(e,t=500,r){this.reader=e,this.timeBetweenScansMillis=t,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return"undefined"!=typeof navigator}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return z(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const r of e){const e="video"===r.kind?"videoinput":r.kind;if("videoinput"!==e)continue;const n={deviceId:r.deviceId||r.id,label:r.label||`Video device ${t.length+1}`,kind:e,groupId:r.groupId};t.push(n)}return t})}getVideoInputDevices(){return z(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(e=>new L(e.deviceId,e.label))})}findDeviceById(e){return z(this,void 0,void 0,function*(){const t=yield this.listVideoInputDevices();return t?t.find(t=>t.deviceId===e):null})}decodeFromInputVideoDevice(e,t){return z(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,t)})}decodeOnceFromVideoDevice(e,t){return z(this,void 0,void 0,function*(){let r;this.reset(),r=e?{deviceId:{exact:e}}:{facingMode:"environment"};const n={video:r};return yield this.decodeOnceFromConstraints(n,t)})}decodeOnceFromConstraints(e,t){return z(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(r,t)})}decodeOnceFromStream(e,t){return z(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(e,t,r){return z(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,t,r)})}decodeFromVideoDevice(e,t,r){return z(this,void 0,void 0,function*(){let n;n=e?{deviceId:{exact:e}}:{facingMode:"environment"};const i={video:n};return yield this.decodeFromConstraints(i,t,r)})}decodeFromConstraints(e,t,r){return z(this,void 0,void 0,function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(n,t,r)})}decodeFromStream(e,t,r){return z(this,void 0,void 0,function*(){this.reset();const n=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(n,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return z(this,void 0,void 0,function*(){const r=this.prepareVideoElement(t);return this.addVideoSource(r,e),this.videoElement=r,this.stream=e,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(e){return new Promise((t,r)=>this.playVideoOnLoad(e,()=>t()))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return z(this,void 0,void 0,function*(){if(!this.isVideoPlaying(e))try{yield e.play()}catch(t){}})}getMediaElement(e,t){const r=document.getElementById(e);if(!r)throw new u(`element with id '${e}' not found`);if(r.nodeName.toLowerCase()!==t.toLowerCase())throw new u(`element with id '${e}' must be an ${t} element`);return r}decodeFromImage(e,t){if(!e&&!t)throw new u("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new u("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,r){if(void 0===e&&void 0===t)throw new u("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,r):this.decodeFromVideoElementContinuously(e,r)}decodeFromImageElement(e){if(!e)throw new u("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);let r;return this.imageElement=t,r=this.isImageLoaded(t)?this.decodeOnce(t,!1,!0):this._decodeOnLoadImage(t),r}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const r=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(r,t)}_decodeFromVideoElementSetup(e){if(!e)throw new u("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new u("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const r=this._decodeOnLoadImage(t);return t.src=e,r}decodeFromVideoUrl(e){if(!e)throw new u("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),r=this.decodeFromVideoElement(t);return t.src=e,r}decodeFromVideoUrlContinuously(e,t){if(!e)throw new u("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),n=this.decodeFromVideoElementContinuously(r,t);return r.src=e,n}_decodeOnLoadImage(e){return new Promise((t,r)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,r),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return z(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,t){return z(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)})}isImageLoaded(e){return!!e.complete&&0!==e.naturalWidth}prepareImageElement(e){let t;return void 0===e&&(t=document.createElement("img"),t.width=200,t.height=200),"string"==typeof e&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return e||"undefined"==typeof document||(t=document.createElement("video"),t.width=200,t.height=200),"string"==typeof e&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e,t=!0,r=!0){this._stopAsyncDecode=!1;const n=(i,a)=>{if(this._stopAsyncDecode)return a(new M("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{i(this.decode(e))}catch(i_){if(t&&i_ instanceof M||(i_ instanceof f||i_ instanceof C)&&r)return setTimeout(n,this._timeBetweenDecodingAttempts,i,a);a(i_)}};return new Promise((e,t)=>n(e,t))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const n=this.decode(e);t(n,null),setTimeout(r,this.timeBetweenScansMillis)}catch(i_){t(null,i_),(i_ instanceof f||i_ instanceof C||i_ instanceof M)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}_isHTMLVideoElement(e){return 0!==e.videoWidth}drawFrameOnCanvas(e,t,r){t||(t={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}drawImageOnCanvas(e,t,r=this.captureCanvasContext){t||(t={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}createBinaryBitmap(e){this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e);const t=this.getCaptureCanvas(e),r=new B(t),n=new D(r);return new h(n)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const t=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=t}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if("undefined"==typeof document)return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let r,n;return void 0!==e&&(e instanceof HTMLVideoElement?(r=e.videoWidth,n=e.videoHeight):e instanceof HTMLImageElement&&(r=e.naturalWidth||e.width,n=e.naturalHeight||e.height)),t.style.width=r+"px",t.style.height=n+"px",t.width=r,t.height=n,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(void 0!==this.videoEndedListener&&this.videoElement.removeEventListener("ended",this.videoEndedListener),void 0!==this.videoPlayingEventListener&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),void 0!==this.videoCanPlayListener&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch(r){e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch(t){e.src=""}this.videoElement.removeAttribute("src")}}class V{constructor(e,t,r=(null==t?0:8*t.length),n,i,a=g.currentTimeMillis()){this.text=e,this.rawBytes=t,this.numBits=r,this.resultPoints=n,this.format=i,this.timestamp=a,this.text=e,this.rawBytes=t,this.numBits=null==r?null==t?0:8*t.length:r,this.resultPoints=n,this.format=i,this.resultMetadata=null,this.timestamp=null==a?g.currentTimeMillis():a}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){null!==e&&(null===this.resultMetadata?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(null===t)this.resultPoints=e;else if(null!==e&&e.length>0){const r=new Array(t.length+e.length);g.arraycopy(t,0,r,0,t.length),g.arraycopy(e,0,r,t.length,e.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}(U=F||(F={}))[U.AZTEC=0]="AZTEC",U[U.CODABAR=1]="CODABAR",U[U.CODE_39=2]="CODE_39",U[U.CODE_93=3]="CODE_93",U[U.CODE_128=4]="CODE_128",U[U.DATA_MATRIX=5]="DATA_MATRIX",U[U.EAN_8=6]="EAN_8",U[U.EAN_13=7]="EAN_13",U[U.ITF=8]="ITF",U[U.MAXICODE=9]="MAXICODE",U[U.PDF_417=10]="PDF_417",U[U.QR_CODE=11]="QR_CODE",U[U.RSS_14=12]="RSS_14",U[U.RSS_EXPANDED=13]="RSS_EXPANDED",U[U.UPC_A=14]="UPC_A",U[U.UPC_E=15]="UPC_E",U[U.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION";var W,G,X=F;(G=W||(W={}))[G.OTHER=0]="OTHER",G[G.ORIENTATION=1]="ORIENTATION",G[G.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",G[G.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",G[G.ISSUE_NUMBER=4]="ISSUE_NUMBER",G[G.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",G[G.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",G[G.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",G[G.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",G[G.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",G[G.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY";var K,Y,q,Z,$,Q,J,ee,te,re,ne,ie=W;class ae{constructor(e,t,r,n,i=-1,a=-1){this.rawBytes=e,this.text=t,this.byteSegments=r,this.ecLevel=n,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=a,this.numBits=null==e?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class oe{exp(e){return this.expTable[e]}log(e){if(0===e)throw new d;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class se{constructor(e,t){if(0===t.length)throw new d;this.field=e;const r=t.length;if(r>1&&0===t[0]){let e=1;for(;e<r&&0===t[e];)e++;e===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-e),g.arraycopy(t,e,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);const t=this.coefficients;let r;if(1===e){r=0;for(let e=0,n=t.length;e!==n;e++){const n=t[e];r=oe.addOrSubtract(r,n)}return r}r=t[0];const n=t.length,i=this.field;for(let a=1;a<n;a++)r=oe.addOrSubtract(i.multiply(e,r),t[a]);return r}addOrSubtract(e){if(!this.field.equals(e.field))throw new d("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){const e=t;t=r,r=e}let n=new Int32Array(r.length);const i=r.length-t.length;g.arraycopy(r,0,n,0,i);for(let a=i;a<r.length;a++)n[a]=oe.addOrSubtract(t[a-i],r[a]);return new se(this.field,n)}multiply(e){if(!this.field.equals(e.field))throw new d("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,r=t.length,n=e.coefficients,i=n.length,a=new Int32Array(r+i-1),o=this.field;for(let s=0;s<r;s++){const e=t[s];for(let t=0;t<i;t++)a[s+t]=oe.addOrSubtract(a[s+t],o.multiply(e,n[t]))}return new se(o,a)}multiplyScalar(e){if(0===e)return this.field.getZero();if(1===e)return this;const t=this.coefficients.length,r=this.field,n=new Int32Array(t),i=this.coefficients;for(let a=0;a<t;a++)n[a]=r.multiply(i[a],e);return new se(r,n)}multiplyByMonomial(e,t){if(e<0)throw new d;if(0===t)return this.field.getZero();const r=this.coefficients,n=r.length,i=new Int32Array(n+e),a=this.field;for(let o=0;o<n;o++)i[o]=a.multiply(r[o],t);return new se(a,i)}divide(e){if(!this.field.equals(e.field))throw new d("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new d("Divide by 0");const t=this.field;let r=t.getZero(),n=this;const i=e.getCoefficient(e.getDegree()),a=t.inverse(i);for(;n.getDegree()>=e.getDegree()&&!n.isZero();){const i=n.getDegree()-e.getDegree(),o=t.multiply(n.getCoefficient(n.getDegree()),a),s=e.multiplyByMonomial(i,o),l=t.buildMonomial(i,o);r=r.addOrSubtract(l),n=n.addOrSubtract(s)}return[r,n]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);if(0!==r){if(r<0?(e+=" - ",r=-r):e.length>0&&(e+=" + "),0===t||1!==r){const t=this.field.log(r);0===t?e+="1":1===t?e+="a":(e+="a^",e+=t)}0!==t&&(1===t?e+="x":(e+="x^",e+=t))}}return e}}class le extends c{}le.kind="ArithmeticException";class ce extends oe{constructor(e,t,r){super(),this.primitive=e,this.size=t,this.generatorBase=r;const n=new Int32Array(t);let i=1;for(let o=0;o<t;o++)n[o]=i,i*=2,i>=t&&(i^=e,i&=t-1);this.expTable=n;const a=new Int32Array(t);for(let o=0;o<t-1;o++)a[n[o]]=o;this.logTable=a,this.zero=new se(this,Int32Array.from([0])),this.one=new se(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new d;if(0===t)return this.zero;const r=new Int32Array(e+1);return r[0]=t,new se(this,r)}inverse(e){if(0===e)throw new le;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+w.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}ce.AZTEC_DATA_12=new ce(4201,4096,1),ce.AZTEC_DATA_10=new ce(1033,1024,1),ce.AZTEC_DATA_6=new ce(67,64,1),ce.AZTEC_PARAM=new ce(19,16,1),ce.QR_CODE_FIELD_256=new ce(285,256,0),ce.DATA_MATRIX_FIELD_256=new ce(301,256,1),ce.AZTEC_DATA_8=ce.DATA_MATRIX_FIELD_256,ce.MAXICODE_FIELD_64=ce.AZTEC_DATA_6;class ue extends c{}ue.kind="ReedSolomonException";class de extends c{}de.kind="IllegalStateException";class he{constructor(e){this.field=e}decode(e,t){const r=this.field,n=new se(r,e),i=new Int32Array(t);let a=!0;for(let h=0;h<t;h++){const e=n.evaluateAt(r.exp(h+r.getGeneratorBase()));i[i.length-1-h]=e,0!==e&&(a=!1)}if(a)return;const o=new se(r,i),s=this.runEuclideanAlgorithm(r.buildMonomial(t,1),o,t),l=s[0],c=s[1],u=this.findErrorLocations(l),d=this.findErrorMagnitudes(c,u);for(let h=0;h<u.length;h++){const t=e.length-1-r.log(u[h]);if(t<0)throw new ue("Bad error location");e[t]=ce.addOrSubtract(e[t],d[h])}}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){const r=e;e=t,t=r}const n=this.field;let i=e,a=t,o=n.getZero(),s=n.getOne();for(;a.getDegree()>=(r/2|0);){let e=i,t=o;if(i=a,o=s,i.isZero())throw new ue("r_{i-1} was zero");a=e;let r=n.getZero();const l=i.getCoefficient(i.getDegree()),c=n.inverse(l);for(;a.getDegree()>=i.getDegree()&&!a.isZero();){const e=a.getDegree()-i.getDegree(),t=n.multiply(a.getCoefficient(a.getDegree()),c);r=r.addOrSubtract(n.buildMonomial(e,t)),a=a.addOrSubtract(i.multiplyByMonomial(e,t))}if(s=r.multiply(o).addOrSubtract(t),a.getDegree()>=i.getDegree())throw new de("Division algorithm failed to reduce polynomial?")}const l=s.getCoefficient(0);if(0===l)throw new ue("sigmaTilde(0) was zero");const c=n.inverse(l);return[s.multiplyScalar(c),a.multiplyScalar(c)]}findErrorLocations(e){const t=e.getDegree();if(1===t)return Int32Array.from([e.getCoefficient(1)]);const r=new Int32Array(t);let n=0;const i=this.field;for(let a=1;a<i.getSize()&&n<t;a++)0===e.evaluateAt(a)&&(r[n]=i.inverse(a),n++);if(n!==t)throw new ue("Error locator degree does not match number of roots");return r}findErrorMagnitudes(e,t){const r=t.length,n=new Int32Array(r),i=this.field;for(let a=0;a<r;a++){const o=i.inverse(t[a]);let s=1;for(let e=0;e<r;e++)if(a!==e){const r=i.multiply(t[e],o),n=1&r?-2&r:1|r;s=i.multiply(s,n)}n[a]=i.multiply(e.evaluateAt(o),i.inverse(s)),0!==i.getGeneratorBase()&&(n[a]=i.multiply(n[a],o))}return n}}(J=K||(K={}))[J.UPPER=0]="UPPER",J[J.LOWER=1]="LOWER",J[J.MIXED=2]="MIXED",J[J.DIGIT=3]="DIGIT",J[J.PUNCT=4]="PUNCT",J[J.BINARY=5]="BINARY";class fe{decode(e){this.ddata=e;let t=e.getBits(),r=this.extractBits(t),n=this.correctBits(r),i=fe.convertBoolArrayToByteArray(n),a=fe.getEncodedData(n),o=new ae(i,a,null,null);return o.setNumBits(n.length),o}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,r=K.UPPER,n=K.UPPER,i="",a=0;for(;a<t;)if(n===K.BINARY){if(t-a<5)break;let o=fe.readCode(e,a,5);if(a+=5,0===o){if(t-a<11)break;o=fe.readCode(e,a,11)+31,a+=11}for(let r=0;r<o;r++){if(t-a<8){a=t;break}const r=fe.readCode(e,a,8);i+=T.castAsNonUtf8Char(r),a+=8}n=r}else{let o=n===K.DIGIT?4:5;if(t-a<o)break;let s=fe.readCode(e,a,o);a+=o;let l=fe.getCharacter(n,s);l.startsWith("CTRL_")?(r=n,n=fe.getTable(l.charAt(5)),"L"===l.charAt(6)&&(r=n)):(i+=l,n=r)}return i}static getTable(e){switch(e){case"L":return K.LOWER;case"P":return K.PUNCT;case"M":return K.MIXED;case"D":return K.DIGIT;case"B":return K.BINARY;default:return K.UPPER}}static getCharacter(e,t){switch(e){case K.UPPER:return fe.UPPER_TABLE[t];case K.LOWER:return fe.LOWER_TABLE[t];case K.MIXED:return fe.MIXED_TABLE[t];case K.PUNCT:return fe.PUNCT_TABLE[t];case K.DIGIT:return fe.DIGIT_TABLE[t];default:throw new de("Bad table")}}correctBits(e){let t,r;this.ddata.getNbLayers()<=2?(r=6,t=ce.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,t=ce.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,t=ce.AZTEC_DATA_10):(r=12,t=ce.AZTEC_DATA_12);let n=this.ddata.getNbDatablocks(),i=e.length/r;if(i<n)throw new C;let a=e.length%r,o=new Int32Array(i);for(let h=0;h<i;h++,a+=r)o[h]=fe.readCode(e,a,r);try{new he(t).decode(o,i-n)}catch(d){throw new C(d)}let s=(1<<r)-1,l=0;for(let h=0;h<n;h++){let e=o[h];if(0===e||e===s)throw new C;1!==e&&e!==s-1||l++}let c=new Array(n*r-l),u=0;for(let h=0;h<n;h++){let e=o[h];if(1===e||e===s-1)c.fill(e>1,u,u+r-1),u+=r-1;else for(let t=r-1;t>=0;--t)c[u++]=!!(e&1<<t)}return c}extractBits(e){let t=this.ddata.isCompact(),r=this.ddata.getNbLayers(),n=(t?11:14)+4*r,i=new Int32Array(n),a=new Array(this.totalBitsInLayer(r,t));if(t)for(let o=0;o<i.length;o++)i[o]=o;else{let e=n+1+2*w.truncDivision(w.truncDivision(n,2)-1,15),t=n/2,r=w.truncDivision(e,2);for(let n=0;n<t;n++){let e=n+w.truncDivision(n,15);i[t-n-1]=r-e-1,i[t+n]=r+e+1}}for(let o=0,s=0;o<r;o++){let l=4*(r-o)+(t?9:12),c=2*o,u=n-1-c;for(let t=0;t<l;t++){let r=2*t;for(let n=0;n<2;n++)a[s+r+n]=e.get(i[c+n],i[c+t]),a[s+2*l+r+n]=e.get(i[c+t],i[u-n]),a[s+4*l+r+n]=e.get(i[u-n],i[u-t]),a[s+6*l+r+n]=e.get(i[u-t],i[c+n])}s+=8*l}return a}static readCode(e,t,r){let n=0;for(let i=t;i<t+r;i++)n<<=1,e[i]&&(n|=1);return n}static readByte(e,t){let r=e.length-t;return r>=8?fe.readCode(e,t,8):fe.readCode(e,t,r)<<8-r}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let r=0;r<t.length;r++)t[r]=fe.readByte(e,8*r);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}fe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],fe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],fe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],fe.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],fe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class pe{constructor(){}static round(e){return NaN===e?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,r,n){const i=e-r,a=t-n;return Math.sqrt(i*i+a*a)}static sum(e){let t=0;for(let r=0,n=e.length;r!==n;r++)t+=e[r];return t}}class ge{static floatToIntBits(e){return e}}ge.MAX_VALUE=Number.MAX_SAFE_INTEGER;class me{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof me){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*ge.floatToIntBits(this.x)+ge.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),r=this.distance(e[1],e[2]),n=this.distance(e[0],e[2]);let i,a,o;if(r>=t&&r>=n?(a=e[0],i=e[1],o=e[2]):n>=r&&n>=t?(a=e[1],i=e[0],o=e[2]):(a=e[2],i=e[0],o=e[1]),this.crossProductZ(i,a,o)<0){const e=i;i=o,o=e}e[0]=i,e[1]=a,e[2]=o}static distance(e,t){return pe.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,r){const n=t.x,i=t.y;return(r.x-n)*(e.y-i)-(r.y-i)*(e.x-n)}}class ye{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class ve extends ye{constructor(e,t,r,n,i){super(e,t),this.compact=r,this.nbDatablocks=n,this.nbLayers=i}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class we{constructor(e,t,r,n){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),null==t&&(t=we.INIT_SIZE),null==r&&(r=e.getWidth()/2|0),null==n&&(n=e.getHeight()/2|0);const i=t/2|0;if(this.leftInit=r-i,this.rightInit=r+i,this.upInit=n-i,this.downInit=n+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new M}detect(){let e=this.leftInit,t=this.rightInit,r=this.upInit,n=this.downInit,i=!1,a=!0,o=!1,s=!1,l=!1,c=!1,u=!1;const d=this.width,h=this.height;for(;a;){a=!1;let f=!0;for(;(f||!s)&&t<d;)f=this.containsBlackPoint(r,n,t,!1),f?(t++,a=!0,s=!0):s||t++;if(t>=d){i=!0;break}let p=!0;for(;(p||!l)&&n<h;)p=this.containsBlackPoint(e,t,n,!0),p?(n++,a=!0,l=!0):l||n++;if(n>=h){i=!0;break}let g=!0;for(;(g||!c)&&e>=0;)g=this.containsBlackPoint(r,n,e,!1),g?(e--,a=!0,c=!0):c||e--;if(e<0){i=!0;break}let m=!0;for(;(m||!u)&&r>=0;)m=this.containsBlackPoint(e,t,r,!0),m?(r--,a=!0,u=!0):u||r--;if(r<0){i=!0;break}a&&(o=!0)}if(!i&&o){const i=t-e;let a=null;for(let t=1;null===a&&t<i;t++)a=this.getBlackPointOnSegment(e,n-t,e+t,n);if(null==a)throw new M;let o=null;for(let t=1;null===o&&t<i;t++)o=this.getBlackPointOnSegment(e,r+t,e+t,r);if(null==o)throw new M;let s=null;for(let e=1;null===s&&e<i;e++)s=this.getBlackPointOnSegment(t,r+e,t-e,r);if(null==s)throw new M;let l=null;for(let e=1;null===l&&e<i;e++)l=this.getBlackPointOnSegment(t,n-e,t-e,n);if(null==l)throw new M;return this.centerEdges(l,a,s,o)}throw new M}getBlackPointOnSegment(e,t,r,n){const i=pe.round(pe.distance(e,t,r,n)),a=(r-e)/i,o=(n-t)/i,s=this.image;for(let l=0;l<i;l++){const r=pe.round(e+l*a),n=pe.round(t+l*o);if(s.get(r,n))return new me(r,n)}return null}centerEdges(e,t,r,n){const i=e.getX(),a=e.getY(),o=t.getX(),s=t.getY(),l=r.getX(),c=r.getY(),u=n.getX(),d=n.getY(),h=we.CORR;return i<this.width/2?[new me(u-h,d+h),new me(o+h,s+h),new me(l-h,c-h),new me(i+h,a-h)]:[new me(u+h,d+h),new me(o+h,s-h),new me(l-h,c+h),new me(i-h,a-h)]}containsBlackPoint(e,t,r,n){const i=this.image;if(n){for(let a=e;a<=t;a++)if(i.get(a,r))return!0}else for(let a=e;a<=t;a++)if(i.get(r,a))return!0;return!1}}we.INIT_SIZE=10,we.CORR=1;class be{static checkAndNudgePoints(e,t){const r=e.getWidth(),n=e.getHeight();let i=!0;for(let a=0;a<t.length&&i;a+=2){const e=Math.floor(t[a]),o=Math.floor(t[a+1]);if(e<-1||e>r||o<-1||o>n)throw new M;i=!1,-1===e?(t[a]=0,i=!0):e===r&&(t[a]=r-1,i=!0),-1===o?(t[a+1]=0,i=!0):o===n&&(t[a+1]=n-1,i=!0)}i=!0;for(let a=t.length-2;a>=0&&i;a-=2){const e=Math.floor(t[a]),o=Math.floor(t[a+1]);if(e<-1||e>r||o<-1||o>n)throw new M;i=!1,-1===e?(t[a]=0,i=!0):e===r&&(t[a]=r-1,i=!0),-1===o?(t[a+1]=0,i=!0):o===n&&(t[a+1]=n-1,i=!0)}}}class Ee{constructor(e,t,r,n,i,a,o,s,l){this.a11=e,this.a21=t,this.a31=r,this.a12=n,this.a22=i,this.a32=a,this.a13=o,this.a23=s,this.a33=l}static quadrilateralToQuadrilateral(e,t,r,n,i,a,o,s,l,c,u,d,h,f,p,g){const m=Ee.quadrilateralToSquare(e,t,r,n,i,a,o,s);return Ee.squareToQuadrilateral(l,c,u,d,h,f,p,g).times(m)}transformPoints(e){const t=e.length,r=this.a11,n=this.a12,i=this.a13,a=this.a21,o=this.a22,s=this.a23,l=this.a31,c=this.a32,u=this.a33;for(let d=0;d<t;d+=2){const t=e[d],h=e[d+1],f=i*t+s*h+u;e[d]=(r*t+a*h+l)/f,e[d+1]=(n*t+o*h+c)/f}}transformPointsWithValues(e,t){const r=this.a11,n=this.a12,i=this.a13,a=this.a21,o=this.a22,s=this.a23,l=this.a31,c=this.a32,u=this.a33,d=e.length;for(let h=0;h<d;h++){const d=e[h],f=t[h],p=i*d+s*f+u;e[h]=(r*d+a*f+l)/p,t[h]=(n*d+o*f+c)/p}}static squareToQuadrilateral(e,t,r,n,i,a,o,s){const l=e-r+i-o,c=t-n+a-s;if(0===l&&0===c)return new Ee(r-e,i-r,e,n-t,a-n,t,0,0,1);{const u=r-i,d=o-i,h=n-a,f=s-a,p=u*f-d*h,g=(l*f-d*c)/p,m=(u*c-l*h)/p;return new Ee(r-e+g*r,o-e+m*o,e,n-t+g*n,s-t+m*s,t,g,m,1)}}static quadrilateralToSquare(e,t,r,n,i,a,o,s){return Ee.squareToQuadrilateral(e,t,r,n,i,a,o,s).buildAdjoint()}buildAdjoint(){return new Ee(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Ee(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Ae extends be{sampleGrid(e,t,r,n,i,a,o,s,l,c,u,d,h,f,p,g,m,y,v){const w=Ee.quadrilateralToQuadrilateral(n,i,a,o,s,l,c,u,d,h,f,p,g,m,y,v);return this.sampleGridWithTransform(e,t,r,w)}sampleGridWithTransform(e,t,r,n){if(t<=0||r<=0)throw new M;const i=new R(t,r),a=new Float32Array(2*t);for(let s=0;s<r;s++){const t=a.length,r=s+.5;for(let e=0;e<t;e+=2)a[e]=e/2+.5,a[e+1]=r;n.transformPoints(a),be.checkAndNudgePoints(e,a);try{for(let r=0;r<t;r+=2)e.get(Math.floor(a[r]),Math.floor(a[r+1]))&&i.set(r/2,s)}catch(o){throw new M}}return i}}class xe{static setGridSampler(e){xe.gridSampler=e}static getInstance(){return xe.gridSampler}}xe.gridSampler=new Ae;class Ce{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new me(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Se{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),r=this.getBullsEyeCorners(t);if(e){let e=r[0];r[0]=r[2],r[2]=e}this.extractParameters(r);let n=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),i=this.getMatrixCornerPoints(r);return new ve(n,i,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!(this.isValidPoint(e[0])&&this.isValidPoint(e[1])&&this.isValidPoint(e[2])&&this.isValidPoint(e[3])))throw new M;let t=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(r,t);let n=0;for(let a=0;a<4;a++){let e=r[(this.shift+a)%4];this.compact?(n<<=7,n+=e>>1&127):(n<<=10,n+=(e>>2&992)+(e>>1&31))}let i=this.getCorrectedParameterData(n,this.compact);this.compact?(this.nbLayers=1+(i>>6),this.nbDataBlocks=1+(63&i)):(this.nbLayers=1+(i>>11),this.nbDataBlocks=1+(2047&i))}getRotation(e,t){let r=0;e.forEach((e,n,i)=>{r=(e>>t-2<<1)+(1&e)+(r<<3)}),r=((1&r)<<11)+(r>>1);for(let n=0;n<4;n++)if(w.bitCount(r^this.EXPECTED_CORNER_BITS[n])<=2)return n;throw new M}getCorrectedParameterData(e,t){let r,n;t?(r=7,n=2):(r=10,n=4);let i=r-n,a=new Int32Array(r);for(let l=r-1;l>=0;--l)a[l]=15&e,e>>=4;try{new he(ce.AZTEC_PARAM).decode(a,i)}catch(s){throw new M}let o=0;for(let l=0;l<n;l++)o=(o<<4)+a[l];return o}getBullsEyeCorners(e){let t=e,r=e,n=e,i=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let e=this.getFirstDifferent(t,a,1,-1),o=this.getFirstDifferent(r,a,1,1),s=this.getFirstDifferent(n,a,-1,1),l=this.getFirstDifferent(i,a,-1,-1);if(this.nbCenterLayers>2){let r=this.distancePoint(l,e)*this.nbCenterLayers/(this.distancePoint(i,t)*(this.nbCenterLayers+2));if(r<.75||r>1.25||!this.isWhiteOrBlackRectangle(e,o,s,l))break}t=e,r=o,n=s,i=l,a=!a}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new M;this.compact=5===this.nbCenterLayers;let o=new me(t.getX()+.5,t.getY()-.5),s=new me(r.getX()+.5,r.getY()+.5),l=new me(n.getX()-.5,n.getY()+.5),c=new me(i.getX()-.5,i.getY()-.5);return this.expandSquare([o,s,l,c],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,r,n;try{let i=new we(this.image).detect();e=i[0],t=i[1],r=i[2],n=i[3]}catch(i_){let a=this.image.getWidth()/2,o=this.image.getHeight()/2;e=this.getFirstDifferent(new Ce(a+7,o-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Ce(a+7,o+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Ce(a-7,o+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new Ce(a-7,o-7),!1,-1,-1).toResultPoint()}let i=pe.round((e.getX()+n.getX()+t.getX()+r.getX())/4),a=pe.round((e.getY()+n.getY()+t.getY()+r.getY())/4);try{let o=new we(this.image,15,i,a).detect();e=o[0],t=o[1],r=o[2],n=o[3]}catch(i_){e=this.getFirstDifferent(new Ce(i+7,a-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Ce(i+7,a+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Ce(i-7,a+7),!1,-1,1).toResultPoint(),n=this.getFirstDifferent(new Ce(i-7,a-7),!1,-1,-1).toResultPoint()}return i=pe.round((e.getX()+n.getX()+t.getX()+r.getX())/4),a=pe.round((e.getY()+n.getY()+t.getY()+r.getY())/4),new Ce(i,a)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,r,n,i){let a=xe.getInstance(),o=this.getDimension(),s=o/2-this.nbCenterLayers,l=o/2+this.nbCenterLayers;return a.sampleGrid(e,o,o,s,s,l,s,l,l,s,l,t.getX(),t.getY(),r.getX(),r.getY(),n.getX(),n.getY(),i.getX(),i.getY())}sampleLine(e,t,r){let n=0,i=this.distanceResultPoint(e,t),a=i/r,o=e.getX(),s=e.getY(),l=a*(t.getX()-e.getX())/i,c=a*(t.getY()-e.getY())/i;for(let u=0;u<r;u++)this.image.get(pe.round(o+u*l),pe.round(s+u*c))&&(n|=1<<r-u-1);return n}isWhiteOrBlackRectangle(e,t,r,n){let i=3;e=new Ce(e.getX()-i,e.getY()+i),t=new Ce(t.getX()-i,t.getY()-i),r=new Ce(r.getX()+i,r.getY()-i),n=new Ce(n.getX()+i,n.getY()+i);let a=this.getColor(n,e);if(0===a)return!1;let o=this.getColor(e,t);return o===a&&(o=this.getColor(t,r),o===a&&(o=this.getColor(r,n),o===a))}getColor(e,t){let r=this.distancePoint(e,t),n=(t.getX()-e.getX())/r,i=(t.getY()-e.getY())/r,a=0,o=e.getX(),s=e.getY(),l=this.image.get(e.getX(),e.getY()),c=Math.ceil(r);for(let d=0;d<c;d++)o+=n,s+=i,this.image.get(pe.round(o),pe.round(s))!==l&&a++;let u=a/r;return u>.1&&u<.9?0:u<=.1===l?1:-1}getFirstDifferent(e,t,r,n){let i=e.getX()+r,a=e.getY()+n;for(;this.isValid(i,a)&&this.image.get(i,a)===t;)i+=r,a+=n;for(i-=r,a-=n;this.isValid(i,a)&&this.image.get(i,a)===t;)i+=r;for(i-=r;this.isValid(i,a)&&this.image.get(i,a)===t;)a+=n;return a-=n,new Ce(i,a)}expandSquare(e,t,r){let n=r/(2*t),i=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),o=(e[0].getX()+e[2].getX())/2,s=(e[0].getY()+e[2].getY())/2,l=new me(o+n*i,s+n*a),c=new me(o-n*i,s-n*a);return i=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),o=(e[1].getX()+e[3].getX())/2,s=(e[1].getY()+e[3].getY())/2,[l,new me(o+n*i,s+n*a),c,new me(o-n*i,s-n*a)]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=pe.round(e.getX()),r=pe.round(e.getY());return this.isValid(t,r)}distancePoint(e,t){return pe.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return pe.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(w.truncDivision(this.nbLayers-4,8)+1)+15}}class _e{decode(e,t=null){let r=null,n=new Se(e.getBlackMatrix()),i=null,a=null;try{let e=n.detectMirror(!1);i=e.getPoints(),this.reportFoundResultPoints(t,i),a=(new fe).decode(e)}catch(i_){r=i_}if(null==a)try{let e=n.detectMirror(!0);i=e.getPoints(),this.reportFoundResultPoints(t,i),a=(new fe).decode(e)}catch(i_){if(null!=r)throw r;throw i_}let o=new V(a.getText(),a.getRawBytes(),a.getNumBits(),i,X.AZTEC,g.currentTimeMillis()),s=a.getByteSegments();null!=s&&o.putMetadata(ie.BYTE_SEGMENTS,s);let l=a.getECLevel();return null!=l&&o.putMetadata(ie.ERROR_CORRECTION_LEVEL,l),o}reportFoundResultPoints(e,t){if(null!=e){let r=e.get(x.NEED_RESULT_POINT_CALLBACK);null!=r&&t.forEach((e,t,n)=>{r.foundPossibleResultPoint(e)})}}reset(){}}class Ie extends H{constructor(e=500){super(new _e,e)}}class Oe{decode(e,t){try{return this.doDecode(e,t)}catch(r){if(t&&!0===t.get(x.TRY_HARDER)&&e.isRotateSupported()){const r=e.rotateCounterClockwise(),n=this.doDecode(r,t),i=n.getResultMetadata();let a=270;null!==i&&!0===i.get(ie.ORIENTATION)&&(a+=i.get(ie.ORIENTATION)%360),n.putMetadata(ie.ORIENTATION,a);const o=n.getResultPoints();if(null!==o){const e=r.getHeight();for(let t=0;t<o.length;t++)o[t]=new me(e-o[t].getY()-1,o[t].getX())}return n}throw new M}}reset(){}doDecode(e,t){const r=e.getWidth(),n=e.getHeight();let i=new b(r);const a=t&&!0===t.get(x.TRY_HARDER),o=Math.max(1,n>>(a?8:5));let s;s=a?n:15;const l=Math.trunc(n/2);for(let d=0;d<s;d++){const a=Math.trunc((d+1)/2),s=l+o*(1&d?-a:a);if(s<0||s>=n)break;try{i=e.getBlackRow(s,i)}catch(c){continue}for(let e=0;e<2;e++){if(1===e&&(i.reverse(),t&&!0===t.get(x.NEED_RESULT_POINT_CALLBACK))){const e=new Map;t.forEach((t,r)=>e.set(r,t)),e.delete(x.NEED_RESULT_POINT_CALLBACK),t=e}try{const n=this.decodeRow(s,i,t);if(1===e){n.putMetadata(ie.ORIENTATION,180);const e=n.getResultPoints();null!==e&&(e[0]=new me(r-e[0].getX()-1,e[0].getY()),e[1]=new me(r-e[1].getX()-1,e[1].getY()))}return n}catch(u){}}}throw new M}static recordPattern(e,t,r){const n=r.length;for(let l=0;l<n;l++)r[l]=0;const i=e.getSize();if(t>=i)throw new M;let a=!e.get(t),o=0,s=t;for(;s<i;){if(e.get(s)!==a)r[o]++;else{if(++o===n)break;r[o]=1,a=!a}s++}if(o!==n&&(o!==n-1||s!==i))throw new M}static recordPatternInReverse(e,t,r){let n=r.length,i=e.get(t);for(;t>0&&n>=0;)e.get(--t)!==i&&(n--,i=!i);if(n>=0)throw new M;Oe.recordPattern(e,t+1,r)}static patternMatchVariance(e,t,r){const n=e.length;let i=0,a=0;for(let l=0;l<n;l++)i+=e[l],a+=t[l];if(i<a)return Number.POSITIVE_INFINITY;const o=i/a;r*=o;let s=0;for(let l=0;l<n;l++){const n=e[l],i=t[l]*o,a=n>i?n-i:i-n;if(a>r)return Number.POSITIVE_INFINITY;s+=a}return s/i}}class Te extends Oe{static findStartPattern(e){const t=e.getSize(),r=e.getNextSet(0);let n=0,i=Int32Array.from([0,0,0,0,0,0]),a=r,o=!1;const s=6;for(let l=r;l<t;l++)if(e.get(l)!==o)i[n]++;else{if(n===s-1){let t=Te.MAX_AVG_VARIANCE,r=-1;for(let e=Te.CODE_START_A;e<=Te.CODE_START_C;e++){const n=Oe.patternMatchVariance(i,Te.CODE_PATTERNS[e],Te.MAX_INDIVIDUAL_VARIANCE);n<t&&(t=n,r=e)}if(r>=0&&e.isRange(Math.max(0,a-(l-a)/2),a,!1))return Int32Array.from([a,l,r]);a+=i[0]+i[1],i=i.slice(2,i.length-1),i[n-1]=0,i[n]=0,n--}else n++;i[n]=1,o=!o}throw new M}static decodeCode(e,t,r){Oe.recordPattern(e,r,t);let n=Te.MAX_AVG_VARIANCE,i=-1;for(let a=0;a<Te.CODE_PATTERNS.length;a++){const e=Te.CODE_PATTERNS[a],r=this.patternMatchVariance(t,e,Te.MAX_INDIVIDUAL_VARIANCE);r<n&&(n=r,i=a)}if(i>=0)return i;throw new M}decodeRow(e,t,r){const n=r&&!0===r.get(x.ASSUME_GS1),i=Te.findStartPattern(t),a=i[2];let o=0;const s=new Uint8Array(20);let l;switch(s[o++]=a,a){case Te.CODE_START_A:l=Te.CODE_CODE_A;break;case Te.CODE_START_B:l=Te.CODE_CODE_B;break;case Te.CODE_START_C:l=Te.CODE_CODE_C;break;default:throw new C}let c=!1,u=!1,d="",h=i[0],p=i[1];const g=Int32Array.from([0,0,0,0,0,0]);let m=0,y=0,v=a,w=0,b=!0,E=!1,A=!1;for(;!c;){const e=u;switch(u=!1,m=y,y=Te.decodeCode(t,g,p),s[o++]=y,y!==Te.CODE_STOP&&(b=!0),y!==Te.CODE_STOP&&(w++,v+=w*y),h=p,p+=g.reduce((e,t)=>e+t,0),y){case Te.CODE_START_A:case Te.CODE_START_B:case Te.CODE_START_C:throw new C}switch(l){case Te.CODE_CODE_A:if(y<64)d+=A===E?String.fromCharCode(" ".charCodeAt(0)+y):String.fromCharCode(" ".charCodeAt(0)+y+128),A=!1;else if(y<96)d+=A===E?String.fromCharCode(y-64):String.fromCharCode(y+64),A=!1;else switch(y!==Te.CODE_STOP&&(b=!1),y){case Te.CODE_FNC_1:n&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case Te.CODE_FNC_2:case Te.CODE_FNC_3:break;case Te.CODE_FNC_4_A:!E&&A?(E=!0,A=!1):E&&A?(E=!1,A=!1):A=!0;break;case Te.CODE_SHIFT:u=!0,l=Te.CODE_CODE_B;break;case Te.CODE_CODE_B:l=Te.CODE_CODE_B;break;case Te.CODE_CODE_C:l=Te.CODE_CODE_C;break;case Te.CODE_STOP:c=!0}break;case Te.CODE_CODE_B:if(y<96)d+=A===E?String.fromCharCode(" ".charCodeAt(0)+y):String.fromCharCode(" ".charCodeAt(0)+y+128),A=!1;else switch(y!==Te.CODE_STOP&&(b=!1),y){case Te.CODE_FNC_1:n&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case Te.CODE_FNC_2:case Te.CODE_FNC_3:break;case Te.CODE_FNC_4_B:!E&&A?(E=!0,A=!1):E&&A?(E=!1,A=!1):A=!0;break;case Te.CODE_SHIFT:u=!0,l=Te.CODE_CODE_A;break;case Te.CODE_CODE_A:l=Te.CODE_CODE_A;break;case Te.CODE_CODE_C:l=Te.CODE_CODE_C;break;case Te.CODE_STOP:c=!0}break;case Te.CODE_CODE_C:if(y<100)y<10&&(d+="0"),d+=y;else switch(y!==Te.CODE_STOP&&(b=!1),y){case Te.CODE_FNC_1:n&&(0===d.length?d+="]C1":d+=String.fromCharCode(29));break;case Te.CODE_CODE_A:l=Te.CODE_CODE_A;break;case Te.CODE_CODE_B:l=Te.CODE_CODE_B;break;case Te.CODE_STOP:c=!0}}e&&(l=l===Te.CODE_CODE_A?Te.CODE_CODE_B:Te.CODE_CODE_A)}const S=p-h;if(p=t.getNextUnset(p),!t.isRange(p,Math.min(t.getSize(),p+(p-h)/2),!1))throw new M;if(v-=w*m,v%103!==m)throw new f;const _=d.length;if(0===_)throw new M;_>0&&b&&(d=l===Te.CODE_CODE_C?d.substring(0,_-2):d.substring(0,_-1));const I=(i[1]+i[0])/2,O=h+S/2,T=s.length,P=new Uint8Array(T);for(let f=0;f<T;f++)P[f]=s[f];const R=[new me(I,e),new me(O,e)];return new V(d,P,0,R,X.CODE_128,(new Date).getTime())}}Te.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Te.MAX_AVG_VARIANCE=.25,Te.MAX_INDIVIDUAL_VARIANCE=.7,Te.CODE_SHIFT=98,Te.CODE_CODE_C=99,Te.CODE_CODE_B=100,Te.CODE_CODE_A=101,Te.CODE_FNC_1=102,Te.CODE_FNC_2=97,Te.CODE_FNC_3=96,Te.CODE_FNC_4_A=101,Te.CODE_FNC_4_B=100,Te.CODE_START_A=103,Te.CODE_START_B=104,Te.CODE_START_C=105,Te.CODE_STOP=106;class Pe extends Oe{constructor(e=!1,t=!1){super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,r){let n=this.counters;n.fill(0),this.decodeRowResult="";let i,a,o=Pe.findAsteriskPattern(t,n),s=t.getNextSet(o[1]),l=t.getSize();do{Pe.recordPattern(t,s,n);let e=Pe.toNarrowWidePattern(n);if(e<0)throw new M;i=Pe.patternToChar(e),this.decodeRowResult+=i,a=s;for(let t of n)s+=t;s=t.getNextSet(s)}while("*"!==i);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let c,u=0;for(let f of n)u+=f;if(s!==l&&2*(s-a-u)<u)throw new M;if(this.usingCheckDigit){let e=this.decodeRowResult.length-1,t=0;for(let r=0;r<e;r++)t+=Pe.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(r));if(this.decodeRowResult.charAt(e)!==Pe.ALPHABET_STRING.charAt(t%43))throw new f;this.decodeRowResult=this.decodeRowResult.substring(0,e)}if(0===this.decodeRowResult.length)throw new M;c=this.extendedMode?Pe.decodeExtended(this.decodeRowResult):this.decodeRowResult;let d=(o[1]+o[0])/2,h=a+u/2;return new V(c,null,0,[new me(d,e),new me(h,e)],X.CODE_39,(new Date).getTime())}static findAsteriskPattern(e,t){let r=e.getSize(),n=e.getNextSet(0),i=0,a=n,o=!1,s=t.length;for(let l=n;l<r;l++)if(e.get(l)!==o)t[i]++;else{if(i===s-1){if(this.toNarrowWidePattern(t)===Pe.ASTERISK_ENCODING&&e.isRange(Math.max(0,a-Math.floor((l-a)/2)),a,!1))return[a,l];a+=t[0]+t[1],t.copyWithin(0,2,2+i-1),t[i-1]=0,t[i]=0,i--}else i++;t[i]=1,o=!o}throw new M}static toNarrowWidePattern(e){let t,r=e.length,n=0;do{let i=2147483647;for(let t of e)t<i&&t>n&&(i=t);n=i,t=0;let a=0,o=0;for(let s=0;s<r;s++){let i=e[s];i>n&&(o|=1<<r-1-s,t++,a+=i)}if(3===t){for(let i=0;i<r&&t>0;i++){let r=e[i];if(r>n&&(t--,2*r>=a))return-1}return o}}while(t>3);return-1}static patternToChar(e){for(let t=0;t<Pe.CHARACTER_ENCODINGS.length;t++)if(Pe.CHARACTER_ENCODINGS[t]===e)return Pe.ALPHABET_STRING.charAt(t);if(e===Pe.ASTERISK_ENCODING)return"*";throw new M}static decodeExtended(e){let t=e.length,r="";for(let n=0;n<t;n++){let t=e.charAt(n);if("+"===t||"$"===t||"%"===t||"/"===t){let i=e.charAt(n+1),a="\0";switch(t){case"+":if(!(i>="A"&&i<="Z"))throw new C;a=String.fromCharCode(i.charCodeAt(0)+32);break;case"$":if(!(i>="A"&&i<="Z"))throw new C;a=String.fromCharCode(i.charCodeAt(0)-64);break;case"%":if(i>="A"&&i<="E")a=String.fromCharCode(i.charCodeAt(0)-38);else if(i>="F"&&i<="J")a=String.fromCharCode(i.charCodeAt(0)-11);else if(i>="K"&&i<="O")a=String.fromCharCode(i.charCodeAt(0)+16);else if(i>="P"&&i<="T")a=String.fromCharCode(i.charCodeAt(0)+43);else if("U"===i)a="\0";else if("V"===i)a="@";else if("W"===i)a="`";else{if("X"!==i&&"Y"!==i&&"Z"!==i)throw new C;a=""}break;case"/":if(i>="A"&&i<="O")a=String.fromCharCode(i.charCodeAt(0)-32);else{if("Z"!==i)throw new C;a=":"}}r+=a,n++}else r+=t}return r}}Pe.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Pe.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Pe.ASTERISK_ENCODING=148;class Re extends Oe{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,r){let n=this.decodeStart(t),i=this.decodeEnd(t),a=new P;Re.decodeMiddle(t,n[1],i[0],a);let o=a.toString(),s=null;null!=r&&(s=r.get(x.ALLOWED_LENGTHS)),null==s&&(s=Re.DEFAULT_ALLOWED_LENGTHS);let l=o.length,c=!1,u=0;for(let h of s){if(l===h){c=!0;break}h>u&&(u=h)}if(!c&&l>u&&(c=!0),!c)throw new C;const d=[new me(n[1],e),new me(i[0],e)];return new V(o,null,0,d,X.ITF,(new Date).getTime())}static decodeMiddle(e,t,r,n){let i=new Int32Array(10),a=new Int32Array(5),o=new Int32Array(5);for(i.fill(0),a.fill(0),o.fill(0);t<r;){Oe.recordPattern(e,t,i);for(let e=0;e<5;e++){let t=2*e;a[e]=i[t],o[e]=i[t+1]}let r=Re.decodeDigit(a);n.append(r.toString()),r=this.decodeDigit(o),n.append(r.toString()),i.forEach(function(e){t+=e})}}decodeStart(e){let t=Re.skipWhiteSpace(e),r=Re.findGuardPattern(e,t,Re.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(e,r[0]),r}validateQuietZone(e,t){let r=10*this.narrowLineWidth;r=r<t?r:t;for(let n=t-1;r>0&&n>=0&&!e.get(n);n--)r--;if(0!==r)throw new M}static skipWhiteSpace(e){const t=e.getSize(),r=e.getNextSet(0);if(r===t)throw new M;return r}decodeEnd(e){e.reverse();try{let r,n=Re.skipWhiteSpace(e);try{r=Re.findGuardPattern(e,n,Re.END_PATTERN_REVERSED[0])}catch(t){t instanceof M&&(r=Re.findGuardPattern(e,n,Re.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,r[0]);let i=r[0];return r[0]=e.getSize()-r[1],r[1]=e.getSize()-i,r}finally{e.reverse()}}static findGuardPattern(e,t,r){let n=r.length,i=new Int32Array(n),a=e.getSize(),o=!1,s=0,l=t;i.fill(0);for(let c=t;c<a;c++)if(e.get(c)!==o)i[s]++;else{if(s===n-1){if(Oe.patternMatchVariance(i,r,Re.MAX_INDIVIDUAL_VARIANCE)<Re.MAX_AVG_VARIANCE)return[l,c];l+=i[0]+i[1],g.arraycopy(i,2,i,0,s-1),i[s-1]=0,i[s]=0,s--}else s++;i[s]=1,o=!o}throw new M}static decodeDigit(e){let t=Re.MAX_AVG_VARIANCE,r=-1,n=Re.PATTERNS.length;for(let i=0;i<n;i++){let n=Re.PATTERNS[i],a=Oe.patternMatchVariance(e,n,Re.MAX_INDIVIDUAL_VARIANCE);a<t?(t=a,r=i):a===t&&(r=-1)}if(r>=0)return r%10;throw new M}}Re.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Re.MAX_AVG_VARIANCE=.38,Re.MAX_INDIVIDUAL_VARIANCE=.5,Re.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Re.START_PATTERN=Int32Array.from([1,1,1,1]),Re.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Me extends Oe{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t,r=!1,n=0,i=Int32Array.from([0,0,0]);for(;!r;){i=Int32Array.from([0,0,0]),t=Me.findGuardPattern(e,n,!1,this.START_END_PATTERN,i);let a=t[0];n=t[1];let o=a-(n-a);o>=0&&(r=e.isRange(o,a,!1))}return t}static checkChecksum(e){return Me.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(0===t)return!1;let r=parseInt(e.charAt(t-1),10);return Me.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let n=t-1;n>=0;n-=2){let t=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new C;r+=t}r*=3;for(let n=t-2;n>=0;n-=2){let t=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new C;r+=t}return(1e3-r)%10}static decodeEnd(e,t){return Me.findGuardPattern(e,t,!1,Me.START_END_PATTERN,new Int32Array(Me.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,r,n){return this.findGuardPattern(e,t,r,n,new Int32Array(n.length))}static findGuardPattern(e,t,r,n,i){let a=e.getSize(),o=0,s=t=r?e.getNextUnset(t):e.getNextSet(t),l=n.length,c=r;for(let u=t;u<a;u++)if(e.get(u)!==c)i[o]++;else{if(o===l-1){if(Oe.patternMatchVariance(i,n,Me.MAX_INDIVIDUAL_VARIANCE)<Me.MAX_AVG_VARIANCE)return Int32Array.from([s,u]);s+=i[0]+i[1];let e=i.slice(2,i.length-1);for(let t=0;t<o-1;t++)i[t]=e[t];i[o-1]=0,i[o]=0,o--}else o++;i[o]=1,c=!c}throw new M}static decodeDigit(e,t,r,n){this.recordPattern(e,r,t);let i=this.MAX_AVG_VARIANCE,a=-1,o=n.length;for(let s=0;s<o;s++){let e=n[s],r=Oe.patternMatchVariance(t,e,Me.MAX_INDIVIDUAL_VARIANCE);r<i&&(i=r,a=s)}if(a>=0)return a;throw new M}}Me.MAX_AVG_VARIANCE=.48,Me.MAX_INDIVIDUAL_VARIANCE=.7,Me.START_END_PATTERN=Int32Array.from([1,1,1]),Me.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Me.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Me.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ne{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let n=this.decodeRowStringBuffer,i=this.decodeMiddle(t,r,n),a=n.toString(),o=Ne.parseExtensionString(a),s=[new me((r[0]+r[1])/2,e),new me(i,e)],l=new V(a,null,0,s,X.UPC_EAN_EXTENSION,(new Date).getTime());return null!=o&&l.putAllMetadata(o),l}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),a=t[1],o=0;for(let l=0;l<5&&a<i;l++){let t=Me.decodeDigit(e,n,a,Me.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of n)a+=e;t>=10&&(o|=1<<4-l),4!==l&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(5!==r.length)throw new M;let s=this.determineCheckDigit(o);if(Ne.extensionChecksum(r.toString())!==s)throw new M;return a}static extensionChecksum(e){let t=e.length,r=0;for(let n=t-2;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);r*=3;for(let n=t-1;n>=0;n-=2)r+=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);return r*=3,r%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new M}static parseExtensionString(e){if(5!==e.length)return null;let t=Ne.parseExtension5String(e);return null==t?null:new Map([[ie.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="£";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t=""}let r=parseInt(e.substring(1)),n=r%100;return t+(r/100).toString()+"."+(n<10?"0"+n:n.toString())}}class De{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,r){let n=this.decodeRowStringBuffer,i=this.decodeMiddle(t,r,n),a=n.toString(),o=De.parseExtensionString(a),s=[new me((r[0]+r[1])/2,e),new me(i,e)],l=new V(a,null,0,s,X.UPC_EAN_EXTENSION,(new Date).getTime());return null!=o&&l.putAllMetadata(o),l}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),a=t[1],o=0;for(let s=0;s<2&&a<i;s++){let t=Me.decodeDigit(e,n,a,Me.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of n)a+=e;t>=10&&(o|=1<<1-s),1!==s&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(2!==r.length)throw new M;if(parseInt(r.toString())%4!==o)throw new M;return a}static parseExtensionString(e){return 2!==e.length?null:new Map([[ie.ISSUE_NUMBER,parseInt(e)]])}}class je{static decodeRow(e,t,r){let n=Me.findGuardPattern(t,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new Ne).decodeRow(e,t,n)}catch(i){return(new De).decodeRow(e,t,n)}}}je.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ke extends Me{constructor(){super(),this.decodeRowStringBuffer="",ke.L_AND_G_PATTERNS=ke.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let t=ke.L_PATTERNS[e-10],r=new Int32Array(t.length);for(let e=0;e<t.length;e++)r[e]=t[t.length-e-1];ke.L_AND_G_PATTERNS[e]=r}}decodeRow(e,t,r){let n=ke.findStartGuardPattern(t),i=null==r?null:r.get(x.NEED_RESULT_POINT_CALLBACK);if(null!=i){const t=new me((n[0]+n[1])/2,e);i.foundPossibleResultPoint(t)}let a=this.decodeMiddle(t,n,this.decodeRowStringBuffer),o=a.rowOffset,s=a.resultString;if(null!=i){const t=new me(o,e);i.foundPossibleResultPoint(t)}let l=this.decodeEnd(t,o);if(null!=i){const t=new me((l[0]+l[1])/2,e);i.foundPossibleResultPoint(t)}let c=l[1],u=c+(c-l[0]);if(u>=t.getSize()||!t.isRange(c,u,!1))throw new M;let d=s.toString();if(d.length<8)throw new C;if(!ke.checkChecksum(d))throw new f;let h=(n[1]+n[0])/2,p=(l[1]+l[0])/2,g=this.getBarcodeFormat(),m=[new me(h,e),new me(p,e)],y=new V(d,null,0,m,g,(new Date).getTime()),v=0;try{let r=je.decodeRow(e,t,l[1]);y.putMetadata(ie.UPC_EAN_EXTENSION,r.getText()),y.putAllMetadata(r.getResultMetadata()),y.addResultPoints(r.getResultPoints()),v=r.getText().length}catch(b){}let w=null==r?null:r.get(x.ALLOWED_EAN_EXTENSIONS);if(null!=w){let e=!1;for(let t in w)if(v.toString()===t){e=!0;break}if(!e)throw new M}return y}decodeEnd(e,t){return ke.findGuardPattern(e,t,!1,ke.START_END_PATTERN,new Int32Array(ke.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return ke.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(0===t)return!1;let r=parseInt(e.charAt(t-1),10);return ke.getStandardUPCEANChecksum(e.substring(0,t-1))===r}static getStandardUPCEANChecksum(e){let t=e.length,r=0;for(let n=t-1;n>=0;n-=2){let t=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new C;r+=t}r*=3;for(let n=t-2;n>=0;n-=2){let t=e.charAt(n).charCodeAt(0)-"0".charCodeAt(0);if(t<0||t>9)throw new C;r+=t}return(1e3-r)%10}}class Be extends ke{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){let n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),a=t[1],o=0;for(let s=0;s<6&&a<i;s++){let t=ke.decodeDigit(e,n,a,ke.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of n)a+=e;t>=10&&(o|=1<<5-s)}r=Be.determineFirstDigit(r,o),a=ke.findGuardPattern(e,a,!0,ke.MIDDLE_PATTERN,new Int32Array(ke.MIDDLE_PATTERN.length).fill(0))[1];for(let s=0;s<6&&a<i;s++){let t=ke.decodeDigit(e,n,a,ke.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of n)a+=e}return{rowOffset:a,resultString:r}}getBarcodeFormat(){return X.EAN_13}static determineFirstDigit(e,t){for(let r=0;r<10;r++)if(t===this.FIRST_DIGIT_ENCODINGS[r])return e=String.fromCharCode("0".charCodeAt(0)+r)+e;throw new M}}Be.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Le extends ke{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,r){const n=this.decodeMiddleCounters;n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),a=t[1];for(let o=0;o<4&&a<i;o++){let t=ke.decodeDigit(e,n,a,ke.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of n)a+=e}a=ke.findGuardPattern(e,a,!0,ke.MIDDLE_PATTERN,new Int32Array(ke.MIDDLE_PATTERN.length).fill(0))[1];for(let o=0;o<4&&a<i;o++){let t=ke.decodeDigit(e,n,a,ke.L_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t);for(let e of n)a+=e}return{rowOffset:a,resultString:r}}getBarcodeFormat(){return X.EAN_8}}class Fe extends ke{constructor(){super(...arguments),this.ean13Reader=new Be}getBarcodeFormat(){return X.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,r))}decodeMiddle(e,t,r){return this.ean13Reader.decodeMiddle(e,t,r)}maybeReturnResult(e){let t=e.getText();if("0"===t.charAt(0)){let r=new V(t.substring(1),null,null,e.getResultPoints(),X.UPC_A);return null!=e.getResultMetadata()&&r.putAllMetadata(e.getResultMetadata()),r}throw new M}reset(){this.ean13Reader.reset()}}class Ue extends ke{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,r){const n=this.decodeMiddleCounters.map(e=>e);n[0]=0,n[1]=0,n[2]=0,n[3]=0;const i=e.getSize();let a=t[1],o=0;for(let s=0;s<6&&a<i;s++){const t=Ue.decodeDigit(e,n,a,Ue.L_AND_G_PATTERNS);r+=String.fromCharCode("0".charCodeAt(0)+t%10);for(let e of n)a+=e;t>=10&&(o|=1<<5-s)}return{rowOffset:a,resultString:Ue.determineNumSysAndCheckDigit(r,o)}}decodeEnd(e,t){return Ue.findGuardPatternWithoutCounters(e,t,!0,Ue.MIDDLE_END_PATTERN)}checkChecksum(e){return ke.checkChecksum(Ue.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let r=0;r<=1;r++)for(let n=0;n<10;n++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][n])return String.fromCharCode("0".charCodeAt(0)+r)+e+String.fromCharCode("0".charCodeAt(0)+n);throw M.getNotFoundInstance()}getBarcodeFormat(){return X.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map(e=>e.charCodeAt(0)),r=new P;r.append(e.charAt(0));let n=t[5];switch(n){case 0:case 1:case 2:r.appendChars(t,0,2),r.append(n),r.append("0000"),r.appendChars(t,2,3);break;case 3:r.appendChars(t,0,3),r.append("00000"),r.appendChars(t,3,2);break;case 4:r.appendChars(t,0,4),r.append("00000"),r.append(t[4]);break;default:r.appendChars(t,0,5),r.append("0000"),r.append(n)}return e.length>=8&&r.append(e.charAt(7)),r.toString()}}Ue.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ue.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ze extends Oe{constructor(e){super();let r=null==e?null:e.get(x.POSSIBLE_FORMATS),n=[];t(r)?(n.push(new Be),n.push(new Fe),n.push(new Le),n.push(new Ue)):(r.indexOf(X.EAN_13)>-1&&n.push(new Be),r.indexOf(X.UPC_A)>-1&&n.push(new Fe),r.indexOf(X.EAN_8)>-1&&n.push(new Le),r.indexOf(X.UPC_E)>-1&&n.push(new Ue)),this.readers=n}decodeRow(e,t,r){for(let i of this.readers)try{const n=i.decodeRow(e,t,r),a=n.getBarcodeFormat()===X.EAN_13&&"0"===n.getText().charAt(0),o=null==r?null:r.get(x.POSSIBLE_FORMATS),s=null==o||o.includes(X.UPC_A);if(a&&s){const e=n.getRawBytes(),t=new V(n.getText().substring(1),e,e?e.length:null,n.getResultPoints(),X.UPC_A);return t.putAllMetadata(n.getResultMetadata()),t}return n}catch(n){}throw new M}reset(){for(let e of this.readers)e.reset()}}class He extends Oe{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let r=0;r<t.length;r++)if(Oe.patternMatchVariance(e,t[r],He.MAX_INDIVIDUAL_VARIANCE)<He.MAX_AVG_VARIANCE)return r;throw new M}static count(e){return pe.sum(new Int32Array(e))}static increment(e,t){let r=0,n=t[0];for(let i=1;i<e.length;i++)t[i]>n&&(n=t[i],r=i);e[r]++}static decrement(e,t){let r=0,n=t[0];for(let i=1;i<e.length;i++)t[i]<n&&(n=t[i],r=i);e[r]--}static isFinderPattern(e){let t=e[0]+e[1],r=t/(t+e[2]+e[3]);if(r>=He.MIN_FINDER_PATTERN_RATIO&&r<=He.MAX_FINDER_PATTERN_RATIO){let t=Number.MAX_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER;for(let n of e)n>r&&(r=n),n<t&&(t=n);return r<10*t}return!1}}He.MAX_AVG_VARIANCE=.2,He.MAX_INDIVIDUAL_VARIANCE=.45,He.MIN_FINDER_PATTERN_RATIO=9.5/12,He.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ve{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof Ve))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class We{constructor(e,t,r,n,i){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new me(r,i)),this.resultPoints.push(new me(n,i))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof We))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class Ge{constructor(){}static getRSSvalue(e,t,r){let n=0;for(let s of e)n+=s;let i=0,a=0,o=e.length;for(let s=0;s<o-1;s++){let l;for(l=1,a|=1<<s;l<e[s];l++,a&=~(1<<s)){let e=Ge.combins(n-l-1,o-s-2);if(r&&0===a&&n-l-(o-s-1)>=o-s-1&&(e-=Ge.combins(n-l-(o-s),o-s-2)),o-s-1>1){let r=0;for(let e=n-l-(o-s-2);e>t;e--)r+=Ge.combins(n-l-e-1,o-s-3);e-=r*(o-1-s)}else n-l>t&&e--;i+=e}n-=l}return i}static combins(e,t){let r,n;e-t>t?(n=t,r=e-t):(n=e-t,r=t);let i=1,a=1;for(let o=e;o>r;o--)i*=o,a<=n&&(i/=a,a++);for(;a<=n;)i/=a,a++;return i}}class Xe{static buildBitArray(e){let t=2*e.length-1;null==e[e.length-1].getRightChar()&&(t-=1);let r=new b(12*t),n=0,i=e[0].getRightChar().getValue();for(let a=11;a>=0;--a)i&1<<a&&r.set(n),n++;for(let a=1;a<e.length;++a){let t=e[a],i=t.getLeftChar().getValue();for(let e=11;e>=0;--e)i&1<<e&&r.set(n),n++;if(null!=t.getRightChar()){let e=t.getRightChar().getValue();for(let t=11;t>=0;--t)e&1<<t&&r.set(n),n++}}return r}}class Ke{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ye{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class qe extends Ye{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===qe.FNC1}}qe.FNC1="$";class Ze extends Ye{constructor(e,t,r){super(e),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class $e extends Ye{constructor(e,t,r){if(super(e),t<0||t>10||r<0||r>10)throw new C;this.firstDigit=t,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===$e.FNC1}isSecondDigitFNC1(){return this.secondDigit===$e.FNC1}isAnyFNC1(){return this.firstDigit===$e.FNC1||this.secondDigit===$e.FNC1}}$e.FNC1=10;class Qe{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new M;let t=e.substring(0,2);for(let i of Qe.TWO_DIGIT_DATA_LENGTH)if(i[0]===t)return i[1]===Qe.VARIABLE_LENGTH?Qe.processVariableAI(2,i[2],e):Qe.processFixedAI(2,i[1],e);if(e.length<3)throw new M;let r=e.substring(0,3);for(let i of Qe.THREE_DIGIT_DATA_LENGTH)if(i[0]===r)return i[1]===Qe.VARIABLE_LENGTH?Qe.processVariableAI(3,i[2],e):Qe.processFixedAI(3,i[1],e);for(let i of Qe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(i[0]===r)return i[1]===Qe.VARIABLE_LENGTH?Qe.processVariableAI(4,i[2],e):Qe.processFixedAI(4,i[1],e);if(e.length<4)throw new M;let n=e.substring(0,4);for(let i of Qe.FOUR_DIGIT_DATA_LENGTH)if(i[0]===n)return i[1]===Qe.VARIABLE_LENGTH?Qe.processVariableAI(4,i[2],e):Qe.processFixedAI(4,i[1],e);throw new M}static processFixedAI(e,t,r){if(r.length<e)throw new M;let n=r.substring(0,e);if(r.length<e+t)throw new M;let i=r.substring(e,e+t),a=r.substring(e+t),o="("+n+")"+i,s=Qe.parseFieldsInGeneralPurpose(a);return null==s?o:o+s}static processVariableAI(e,t,r){let n,i=r.substring(0,e);n=r.length<e+t?r.length:e+t;let a=r.substring(e,n),o=r.substring(n),s="("+i+")"+a,l=Qe.parseFieldsInGeneralPurpose(o);return null==l?s:s+l}}Qe.VARIABLE_LENGTH=[],Qe.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Qe.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Qe.VARIABLE_LENGTH,20],["22",Qe.VARIABLE_LENGTH,29],["30",Qe.VARIABLE_LENGTH,8],["37",Qe.VARIABLE_LENGTH,8],["90",Qe.VARIABLE_LENGTH,30],["91",Qe.VARIABLE_LENGTH,30],["92",Qe.VARIABLE_LENGTH,30],["93",Qe.VARIABLE_LENGTH,30],["94",Qe.VARIABLE_LENGTH,30],["95",Qe.VARIABLE_LENGTH,30],["96",Qe.VARIABLE_LENGTH,30],["97",Qe.VARIABLE_LENGTH,3],["98",Qe.VARIABLE_LENGTH,30],["99",Qe.VARIABLE_LENGTH,30]],Qe.THREE_DIGIT_DATA_LENGTH=[["240",Qe.VARIABLE_LENGTH,30],["241",Qe.VARIABLE_LENGTH,30],["242",Qe.VARIABLE_LENGTH,6],["250",Qe.VARIABLE_LENGTH,30],["251",Qe.VARIABLE_LENGTH,30],["253",Qe.VARIABLE_LENGTH,17],["254",Qe.VARIABLE_LENGTH,20],["400",Qe.VARIABLE_LENGTH,30],["401",Qe.VARIABLE_LENGTH,30],["402",17],["403",Qe.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Qe.VARIABLE_LENGTH,20],["421",Qe.VARIABLE_LENGTH,15],["422",3],["423",Qe.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Qe.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Qe.VARIABLE_LENGTH,15],["391",Qe.VARIABLE_LENGTH,18],["392",Qe.VARIABLE_LENGTH,15],["393",Qe.VARIABLE_LENGTH,18],["703",Qe.VARIABLE_LENGTH,30]],Qe.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Qe.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Qe.VARIABLE_LENGTH,20],["8003",Qe.VARIABLE_LENGTH,30],["8004",Qe.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Qe.VARIABLE_LENGTH,30],["8008",Qe.VARIABLE_LENGTH,12],["8018",18],["8020",Qe.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Qe.VARIABLE_LENGTH,70],["8200",Qe.VARIABLE_LENGTH,70]];class Je{constructor(e){this.buffer=new P,this.information=e}decodeAllCodes(e,t){let r=t,n=null;for(;;){let t=this.decodeGeneralPurposeField(r,n),i=Qe.parseFieldsInGeneralPurpose(t.getNewString());if(null!=i&&e.append(i),n=t.isRemaining()?""+t.getRemainingValue():null,r===t.getNewPosition())break;r=t.getNewPosition()}return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let t=this.extractNumericValueFromBitArray(e,4);return new $e(this.information.getSize(),0===t?$e.FNC1:t-1,$e.FNC1)}let t=this.extractNumericValueFromBitArray(e,7);return new $e(e+7,(t-8)/11,(t-8)%11)}extractNumericValueFromBitArray(e,t){return Je.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,r){let n=0;for(let i=0;i<r;++i)e.get(t+i)&&(n|=1<<r-i-1);return n}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),null!=t&&this.buffer.append(t),this.current.setPosition(e);let r=this.parseBlocks();return null!=r&&r.isRemaining()?new Ze(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new Ze(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let r=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),r===this.current.getPosition()&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return t=e.isSecondDigitFNC1()?new Ze(this.current.getPosition(),this.buffer.toString()):new Ze(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Ke(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let e=new Ze(this.current.getPosition(),this.buffer.toString());return new Ke(!0,e)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ke(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let e=new Ze(this.current.getPosition(),this.buffer.toString());return new Ke(!0,e)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ke(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let e=new Ze(this.current.getPosition(),this.buffer.toString());return new Ke(!0,e)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ke(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,7);if(r>=64&&r<116)return!0;if(e+8>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,8);return n>=232&&n<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new qe(e+5,qe.FNC1);if(t>=5&&t<15)return new qe(e+5,"0"+(t-5));let r,n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new qe(e+7,""+(n+1));if(n>=90&&n<116)return new qe(e+7,""+(n+7));switch(this.extractNumericValueFromBitArray(e,8)){case 232:r="!";break;case 233:r='"';break;case 234:r="%";break;case 235:r="&";break;case 236:r="'";break;case 237:r="(";break;case 238:r=")";break;case 239:r="*";break;case 240:r="+";break;case 241:r=",";break;case 242:r="-";break;case 243:r=".";break;case 244:r="/";break;case 245:r=":";break;case 246:r=";";break;case 247:r="<";break;case 248:r="=";break;case 249:r=">";break;case 250:r="?";break;case 251:r="_";break;case 252:r=" ";break;default:throw new C}return new qe(e+8,r)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,6);return r>=16&&r<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(15===t)return new qe(e+5,qe.FNC1);if(t>=5&&t<15)return new qe(e+5,"0"+(t-5));let r,n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new qe(e+6,""+(n+33));switch(n){case 58:r="*";break;case 59:r=",";break;case 60:r="-";break;case 61:r=".";break;case 62:r="/";break;default:throw new de("Decoding invalid alphanumeric value: "+n)}return new qe(e+6,r)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(2===t){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class et{constructor(e){this.information=e,this.generalDecoder=new Je(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class tt extends et{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let r=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,r)}encodeCompressedGtinWithoutAI(e,t,r){for(let n=0;n<4;++n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*n,10);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r)}tt.appendCheckDigit(e,r)}static appendCheckDigit(e,t){let r=0;for(let n=0;n<13;n++){let i=e.charAt(n+t).charCodeAt(0)-"0".charCodeAt(0);r+=1&n?i:3*i}r=10-r%10,10===r&&(r=0),e.append(r)}}tt.GTIN_SIZE=40;class rt extends tt{constructor(e){super(e)}parseInformation(){let e=new P;e.append("(01)");let t=e.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(rt.HEADER_SIZE,4);return e.append(r),this.encodeCompressedGtinWithoutAI(e,rt.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,rt.HEADER_SIZE+44)}}rt.HEADER_SIZE=4;class nt extends et{constructor(e){super(e)}parseInformation(){let e=new P;return this.getGeneralDecoder().decodeAllCodes(e,nt.HEADER_SIZE)}}nt.HEADER_SIZE=5;class it extends tt{constructor(e){super(e)}encodeCompressedWeight(e,t,r){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,r);this.addWeightCode(e,n);let i=this.checkWeight(n),a=1e5;for(let o=0;o<5;++o)i/a===0&&e.append("0"),a/=10;e.append(i)}}class at extends it{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=at.HEADER_SIZE+it.GTIN_SIZE+at.WEIGHT_SIZE)throw new M;let e=new P;return this.encodeCompressedGtin(e,at.HEADER_SIZE),this.encodeCompressedWeight(e,at.HEADER_SIZE+it.GTIN_SIZE,at.WEIGHT_SIZE),e.toString()}}at.HEADER_SIZE=5,at.WEIGHT_SIZE=15;class ot extends at{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class st extends at{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class lt extends tt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<lt.HEADER_SIZE+tt.GTIN_SIZE)throw new M;let e=new P;this.encodeCompressedGtin(e,lt.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(lt.HEADER_SIZE+tt.GTIN_SIZE,lt.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(lt.HEADER_SIZE+tt.GTIN_SIZE+lt.LAST_DIGIT_SIZE,null);return e.append(r.getNewString()),e.toString()}}lt.HEADER_SIZE=8,lt.LAST_DIGIT_SIZE=2;class ct extends tt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<ct.HEADER_SIZE+tt.GTIN_SIZE)throw new M;let e=new P;this.encodeCompressedGtin(e,ct.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(ct.HEADER_SIZE+tt.GTIN_SIZE,ct.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(ct.HEADER_SIZE+tt.GTIN_SIZE+ct.LAST_DIGIT_SIZE,ct.FIRST_THREE_DIGITS_SIZE);r/100==0&&e.append("0"),r/10==0&&e.append("0"),e.append(r);let n=this.getGeneralDecoder().decodeGeneralPurposeField(ct.HEADER_SIZE+tt.GTIN_SIZE+ct.LAST_DIGIT_SIZE+ct.FIRST_THREE_DIGITS_SIZE,null);return e.append(n.getNewString()),e.toString()}}ct.HEADER_SIZE=8,ct.LAST_DIGIT_SIZE=2,ct.FIRST_THREE_DIGITS_SIZE=10;class ut extends it{constructor(e,t,r){super(e),this.dateCode=r,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=ut.HEADER_SIZE+ut.GTIN_SIZE+ut.WEIGHT_SIZE+ut.DATE_SIZE)throw new M;let e=new P;return this.encodeCompressedGtin(e,ut.HEADER_SIZE),this.encodeCompressedWeight(e,ut.HEADER_SIZE+ut.GTIN_SIZE,ut.WEIGHT_SIZE),this.encodeCompressedDate(e,ut.HEADER_SIZE+ut.GTIN_SIZE+ut.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,ut.DATE_SIZE);if(38400==r)return;e.append("("),e.append(this.dateCode),e.append(")");let n=r%32;r/=32;let i=r%12+1;r/=12;let a=r;a/10==0&&e.append("0"),e.append(a),i/10==0&&e.append("0"),e.append(i),n/10==0&&e.append("0"),e.append(n)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}function dt(e){try{if(e.get(1))return new rt(e);if(!e.get(2))return new nt(e);switch(Je.extractNumericValueFromBitArray(e,1,4)){case 4:return new ot(e);case 5:return new st(e)}switch(Je.extractNumericValueFromBitArray(e,1,5)){case 12:return new lt(e);case 13:return new ct(e)}switch(Je.extractNumericValueFromBitArray(e,1,7)){case 56:return new ut(e,"310","11");case 57:return new ut(e,"320","11");case 58:return new ut(e,"310","13");case 59:return new ut(e,"320","13");case 60:return new ut(e,"310","15");case 61:return new ut(e,"320","15");case 62:return new ut(e,"310","17");case 63:return new ut(e,"320","17")}}catch(i_){throw new de("unknown decoder: "+e)}}ut.HEADER_SIZE=8,ut.WEIGHT_SIZE=20,ut.DATE_SIZE=16;class ht{constructor(e,t,r,n){this.leftchar=e,this.rightchar=t,this.finderpattern=r,this.maybeLast=n}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof ht&&ht.equalsOrNull(e.leftchar,t.leftchar)&&ht.equalsOrNull(e.rightchar,t.rightchar)&&ht.equalsOrNull(e.finderpattern,t.finderpattern)}static equalsOrNull(e,t){return null===e?null===t:ht.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ft{constructor(e,t,r){this.pairs=e,this.rowNumber=t,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof ft&&this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed}checkEqualitity(e,t){if(!e||!t)return;let r;return e.forEach((e,n)=>{t.forEach(t=>{e.getLeftChar().getValue()===t.getLeftChar().getValue()&&e.getRightChar().getValue()===t.getRightChar().getValue()&&e.getFinderPatter().getValue()===t.getFinderPatter().getValue()&&(r=!0)})}),r}}class pt extends He{constructor(e){super(...arguments),this.pairs=new Array(pt.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===e}decodeRow(e,t,r){this.pairs.length=0,this.startFromEven=!1;try{return pt.constructResult(this.decodeRow2pairs(e,t))}catch(i_){this.verbose}return this.pairs.length=0,this.startFromEven=!0,pt.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let r,n=!1;for(;!n;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(i){if(i instanceof M){if(!this.pairs.length)throw new M;n=!0}}if(this.checkChecksum())return this.pairs;if(r=!!this.rows.length,this.storeRow(e,!1),r){let e=this.checkRowsBoolean(!1);if(null!=e)return e;if(e=this.checkRowsBoolean(!0),null!=e)return e}throw new M}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(i_){this.verbose}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let r=t;r<this.rows.length;r++){let t=this.rows[r];this.pairs.length=0;for(let r of e)this.pairs.push(r.getPairs());if(this.pairs.push(t.getPairs()),!pt.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let n=new Array(e);n.push(t);try{return this.checkRows(n,r+1)}catch(i_){this.verbose}}throw new M}static isValidSequence(e){for(let t of pt.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let r=!0;for(let n=0;n<e.length;n++)if(e[n].getFinderPattern().getValue()!=t[n]){r=!1;break}if(r)return!0}return!1}storeRow(e,t){let r=0,n=!1,i=!1;for(;r<this.rows.length;){let t=this.rows[r];if(t.getRowNumber()>e){i=t.isEquivalent(this.pairs);break}n=t.isEquivalent(this.pairs),r++}i||n||pt.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new ft(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let r of t)if(r.getPairs().length!==e.length)for(let t of r.getPairs())for(let r of e)if(ht.equals(t,r))break}static isPartialRow(e,t){for(let r of t){let t=!0;for(let n of e){let e=!1;for(let t of r.getPairs())if(n.equals(t)){e=!0;break}if(!e){t=!1;break}}if(t)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=dt(Xe.buildBitArray(e)).parseInformation(),r=e[0].getFinderPattern().getResultPoints(),n=e[e.length-1].getFinderPattern().getResultPoints(),i=[r[0],r[1],n[0],n[1]];return new V(t,null,null,i,X.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),r=e.getRightChar();if(null==r)return!1;let n=r.getChecksumPortion(),i=2;for(let a=1;a<this.pairs.size();++a){let e=this.pairs.get(a);n+=e.getLeftChar().getChecksumPortion(),i++;let t=e.getRightChar();null!=t&&(n+=t.getChecksumPortion(),i++)}return n%=211,211*(i-4)+n==t.getValue()}static getNextSecondBar(e,t){let r;return e.get(t)?(r=e.getNextUnset(t),r=e.getNextSet(r)):(r=e.getNextSet(t),r=e.getNextUnset(r)),r}retrieveNextPair(e,t,r){let n,i=t.length%2==0;this.startFromEven&&(i=!i);let a=!0,o=-1;do{this.findNextPair(e,t,o),n=this.parseFoundFinderPattern(e,r,i),null==n?o=pt.getNextSecondBar(e,this.startEnd[0]):a=!1}while(a);let s,l=this.decodeDataCharacter(e,n,i,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new M;try{s=this.decodeDataCharacter(e,n,i,!1)}catch(i_){s=null,this.verbose}return new ht(l,s,n,!0)}isEmptyPair(e){return 0===e.length}findNextPair(e,t,r){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i,a=e.getSize();i=r>=0?r:this.isEmptyPair(t)?0:t[t.length-1].getFinderPattern().getStartEnd()[1];let o=t.length%2!=0;this.startFromEven&&(o=!o);let s=!1;for(;i<a&&(s=!e.get(i),s);)i++;let l=0,c=i;for(let u=i;u<a;u++)if(e.get(u)!=s)n[l]++;else{if(3==l){if(o&&pt.reverseCounters(n),pt.isFinderPattern(n))return this.startEnd[0]=c,void(this.startEnd[1]=u);o&&pt.reverseCounters(n),c+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,l--}else l++;n[l]=1,s=!s}throw new M}static reverseCounters(e){let t=e.length;for(let r=0;r<t/2;++r){let n=e[r];e[r]=e[t-r-1],e[t-r-1]=n}}parseFoundFinderPattern(e,t,r){let n,i,a;if(r){let t=this.startEnd[0]-1;for(;t>=0&&!e.get(t);)t--;t++,n=this.startEnd[0]-t,i=t,a=this.startEnd[1]}else i=this.startEnd[0],a=e.getNextUnset(this.startEnd[1]+1),n=a-this.startEnd[1];let o,s=this.getDecodeFinderCounters();g.arraycopy(s,0,s,1,s.length-1),s[0]=n;try{o=this.parseFinderValue(s,pt.FINDER_PATTERNS)}catch(i_){return null}return new We(o,[i,a],i,a,t)}decodeDataCharacter(e,t,r,n){let i=this.getDataCharacterCounters();for(let C=0;C<i.length;C++)i[C]=0;if(n)pt.recordPatternInReverse(e,t.getStartEnd()[0],i);else{pt.recordPattern(e,t.getStartEnd()[1],i);for(let e=0,t=i.length-1;e<t;e++,t--){let r=i[e];i[e]=i[t],i[t]=r}}let a=17,o=pe.sum(new Int32Array(i))/a,s=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(o-s)/s>.3)throw new M;let l=this.getOddCounts(),c=this.getEvenCounts(),u=this.getOddRoundingErrors(),d=this.getEvenRoundingErrors();for(let C=0;C<i.length;C++){let e=1*i[C]/o,t=e+.5;if(t<1){if(e<.3)throw new M;t=1}else if(t>8){if(e>8.7)throw new M;t=8}let r=C/2;1&C?(c[r]=t,d[r]=e-t):(l[r]=t,u[r]=e-t)}this.adjustOddEvenCounts(a);let h=4*t.getValue()+(r?0:2)+(n?0:1)-1,f=0,p=0;for(let C=l.length-1;C>=0;C--){if(pt.isNotA1left(t,r,n)){let e=pt.WEIGHTS[h][2*C];p+=l[C]*e}f+=l[C]}let g=0;for(let C=c.length-1;C>=0;C--)if(pt.isNotA1left(t,r,n)){let e=pt.WEIGHTS[h][2*C+1];g+=c[C]*e}let m=p+g;if(1&f||f>13||f<4)throw new M;let y=(13-f)/2,v=pt.SYMBOL_WIDEST[y],w=9-v,b=Ge.getRSSvalue(l,v,!0),E=Ge.getRSSvalue(c,w,!1),A=pt.EVEN_TOTAL_SUBSET[y],x=pt.GSUM[y];return new Ve(b*A+E+x,m)}static isNotA1left(e,t,r){return!(0==e.getValue()&&t&&r)}adjustOddEvenCounts(e){let t=pe.sum(new Int32Array(this.getOddCounts())),r=pe.sum(new Int32Array(this.getEvenCounts())),n=!1,i=!1;t>13?i=!0:t<4&&(n=!0);let a=!1,o=!1;r>13?o=!0:r<4&&(a=!0);let s=t+r-e,l=!(1&~t),c=!(1&r);if(1==s)if(l){if(c)throw new M;i=!0}else{if(!c)throw new M;o=!0}else if(-1==s)if(l){if(c)throw new M;n=!0}else{if(!c)throw new M;a=!0}else{if(0!=s)throw new M;if(l){if(!c)throw new M;t<r?(n=!0,o=!0):(i=!0,a=!0)}else if(c)throw new M}if(n){if(i)throw new M;pt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(i&&pt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(o)throw new M;pt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}o&&pt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}pt.SYMBOL_WIDEST=[7,5,4,3,1],pt.EVEN_TOTAL_SUBSET=[4,20,52,104,204],pt.GSUM=[0,348,1388,2948,3988],pt.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],pt.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],pt.FINDER_PAT_A=0,pt.FINDER_PAT_B=1,pt.FINDER_PAT_C=2,pt.FINDER_PAT_D=3,pt.FINDER_PAT_E=4,pt.FINDER_PAT_F=5,pt.FINDER_PATTERN_SEQUENCES=[[pt.FINDER_PAT_A,pt.FINDER_PAT_A],[pt.FINDER_PAT_A,pt.FINDER_PAT_B,pt.FINDER_PAT_B],[pt.FINDER_PAT_A,pt.FINDER_PAT_C,pt.FINDER_PAT_B,pt.FINDER_PAT_D],[pt.FINDER_PAT_A,pt.FINDER_PAT_E,pt.FINDER_PAT_B,pt.FINDER_PAT_D,pt.FINDER_PAT_C],[pt.FINDER_PAT_A,pt.FINDER_PAT_E,pt.FINDER_PAT_B,pt.FINDER_PAT_D,pt.FINDER_PAT_D,pt.FINDER_PAT_F],[pt.FINDER_PAT_A,pt.FINDER_PAT_E,pt.FINDER_PAT_B,pt.FINDER_PAT_D,pt.FINDER_PAT_E,pt.FINDER_PAT_F,pt.FINDER_PAT_F],[pt.FINDER_PAT_A,pt.FINDER_PAT_A,pt.FINDER_PAT_B,pt.FINDER_PAT_B,pt.FINDER_PAT_C,pt.FINDER_PAT_C,pt.FINDER_PAT_D,pt.FINDER_PAT_D],[pt.FINDER_PAT_A,pt.FINDER_PAT_A,pt.FINDER_PAT_B,pt.FINDER_PAT_B,pt.FINDER_PAT_C,pt.FINDER_PAT_C,pt.FINDER_PAT_D,pt.FINDER_PAT_E,pt.FINDER_PAT_E],[pt.FINDER_PAT_A,pt.FINDER_PAT_A,pt.FINDER_PAT_B,pt.FINDER_PAT_B,pt.FINDER_PAT_C,pt.FINDER_PAT_C,pt.FINDER_PAT_D,pt.FINDER_PAT_E,pt.FINDER_PAT_F,pt.FINDER_PAT_F],[pt.FINDER_PAT_A,pt.FINDER_PAT_A,pt.FINDER_PAT_B,pt.FINDER_PAT_B,pt.FINDER_PAT_C,pt.FINDER_PAT_D,pt.FINDER_PAT_D,pt.FINDER_PAT_E,pt.FINDER_PAT_E,pt.FINDER_PAT_F,pt.FINDER_PAT_F]],pt.MAX_PAIRS=11;class gt extends Ve{constructor(e,t,r){super(e,t),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class mt extends He{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,r){const n=this.decodePair(t,!1,e,r);mt.addOrTally(this.possibleLeftPairs,n),t.reverse();let i=this.decodePair(t,!0,e,r);mt.addOrTally(this.possibleRightPairs,i),t.reverse();for(let a of this.possibleLeftPairs)if(a.getCount()>1)for(let e of this.possibleRightPairs)if(e.getCount()>1&&mt.checkChecksum(a,e))return mt.constructResult(a,e);throw new M}static addOrTally(e,t){if(null==t)return;let r=!1;for(let n of e)if(n.getValue()===t.getValue()){n.incrementCount(),r=!0;break}r||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let r=4537077*e.getValue()+t.getValue(),n=new String(r).toString(),i=new P;for(let l=13-n.length;l>0;l--)i.append("0");i.append(n);let a=0;for(let l=0;l<13;l++){let e=i.charAt(l).charCodeAt(0)-"0".charCodeAt(0);a+=1&l?e:3*e}a=10-a%10,10===a&&(a=0),i.append(a.toString());let o=e.getFinderPattern().getResultPoints(),s=t.getFinderPattern().getResultPoints();return new V(i.toString(),null,0,[o[0],o[1],s[0],s[1]],X.RSS_14,(new Date).getTime())}static checkChecksum(e,t){let r=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,n=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return n>72&&n--,n>8&&n--,r===n}decodePair(e,t,r,n){try{let i=this.findFinderPattern(e,t),a=this.parseFoundFinderPattern(e,r,t,i),o=null==n?null:n.get(x.NEED_RESULT_POINT_CALLBACK);if(null!=o){let n=(i[0]+i[1])/2;t&&(n=e.getSize()-1-n),o.foundPossibleResultPoint(new me(n,r))}let s=this.decodeDataCharacter(e,a,!0),l=this.decodeDataCharacter(e,a,!1);return new gt(1597*s.getValue()+l.getValue(),s.getChecksumPortion()+4*l.getChecksumPortion(),a)}catch(i){return null}}decodeDataCharacter(e,t,r){let n=this.getDataCharacterCounters();for(let g=0;g<n.length;g++)n[g]=0;if(r)Oe.recordPatternInReverse(e,t.getStartEnd()[0],n);else{Oe.recordPattern(e,t.getStartEnd()[1]+1,n);for(let e=0,t=n.length-1;e<t;e++,t--){let r=n[e];n[e]=n[t],n[t]=r}}let i=r?16:15,a=pe.sum(new Int32Array(n))/i,o=this.getOddCounts(),s=this.getEvenCounts(),l=this.getOddRoundingErrors(),c=this.getEvenRoundingErrors();for(let g=0;g<n.length;g++){let e=n[g]/a,t=Math.floor(e+.5);t<1?t=1:t>8&&(t=8);let r=Math.floor(g/2);1&g?(s[r]=t,c[r]=e-t):(o[r]=t,l[r]=e-t)}this.adjustOddEvenCounts(r,i);let u=0,d=0;for(let g=o.length-1;g>=0;g--)d*=9,d+=o[g],u+=o[g];let h=0,f=0;for(let g=s.length-1;g>=0;g--)h*=9,h+=s[g],f+=s[g];let p=d+3*h;if(r){if(1&u||u>12||u<4)throw new M;let e=(12-u)/2,t=mt.OUTSIDE_ODD_WIDEST[e],r=9-t,n=Ge.getRSSvalue(o,t,!1),i=Ge.getRSSvalue(s,r,!0),a=mt.OUTSIDE_EVEN_TOTAL_SUBSET[e],l=mt.OUTSIDE_GSUM[e];return new Ve(n*a+i+l,p)}{if(1&f||f>10||f<4)throw new M;let e=(10-f)/2,t=mt.INSIDE_ODD_WIDEST[e],r=9-t,n=Ge.getRSSvalue(o,t,!0),i=Ge.getRSSvalue(s,r,!1),a=mt.INSIDE_ODD_TOTAL_SUBSET[e],l=mt.INSIDE_GSUM[e];return new Ve(i*a+n+l,p)}}findFinderPattern(e,t){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let n=e.getSize(),i=!1,a=0;for(;a<n&&(i=!e.get(a),t!==i);)a++;let o=0,s=a;for(let l=a;l<n;l++)if(e.get(l)!==i)r[o]++;else{if(3===o){if(He.isFinderPattern(r))return[s,l];s+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,o--}else o++;r[o]=1,i=!i}throw new M}parseFoundFinderPattern(e,t,r,n){let i=e.get(n[0]),a=n[0]-1;for(;a>=0&&i!==e.get(a);)a--;a++;const o=n[0]-a,s=this.getDecodeFinderCounters(),l=new Int32Array(s.length);g.arraycopy(s,0,l,1,s.length-1),l[0]=o;const c=this.parseFinderValue(l,mt.FINDER_PATTERNS);let u=a,d=n[1];return r&&(u=e.getSize()-1-u,d=e.getSize()-1-d),new We(c,[a,n[1]],u,d,t)}adjustOddEvenCounts(e,t){let r=pe.sum(new Int32Array(this.getOddCounts())),n=pe.sum(new Int32Array(this.getEvenCounts())),i=!1,a=!1,o=!1,s=!1;e?(r>12?a=!0:r<4&&(i=!0),n>12?s=!0:n<4&&(o=!0)):(r>11?a=!0:r<5&&(i=!0),n>10?s=!0:n<4&&(o=!0));let l=r+n-t,c=(1&r)==(e?1:0),u=!(1&~n);if(1===l)if(c){if(u)throw new M;a=!0}else{if(!u)throw new M;s=!0}else if(-1===l)if(c){if(u)throw new M;i=!0}else{if(!u)throw new M;o=!0}else{if(0!==l)throw new M;if(c){if(!u)throw new M;r<n?(i=!0,s=!0):(a=!0,o=!0)}else if(u)throw new M}if(i){if(a)throw new M;He.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&He.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(s)throw new M;He.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&He.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}mt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],mt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],mt.OUTSIDE_GSUM=[0,161,961,2015,2715],mt.INSIDE_GSUM=[0,336,1036,1516],mt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],mt.INSIDE_ODD_WIDEST=[2,4,6,8],mt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class yt extends Oe{constructor(e,t){super(),this.readers=[],this.verbose=!0===t;const r=e?e.get(x.POSSIBLE_FORMATS):null,n=e&&void 0!==e.get(x.ASSUME_CODE_39_CHECK_DIGIT);r?((r.includes(X.EAN_13)||r.includes(X.UPC_A)||r.includes(X.EAN_8)||r.includes(X.UPC_E))&&this.readers.push(new ze(e)),r.includes(X.CODE_39)&&this.readers.push(new Pe(n)),r.includes(X.CODE_128)&&this.readers.push(new Te),r.includes(X.ITF)&&this.readers.push(new Re),r.includes(X.RSS_14)&&this.readers.push(new mt),r.includes(X.RSS_EXPANDED)&&this.readers.push(new pt(this.verbose))):(this.readers.push(new ze(e)),this.readers.push(new Pe),this.readers.push(new ze(e)),this.readers.push(new Te),this.readers.push(new Re),this.readers.push(new mt),this.readers.push(new pt(this.verbose)))}decodeRow(e,t,r){for(let i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(e,t,r)}catch(n){}throw new M}reset(){this.readers.forEach(e=>e.reset())}}class vt extends H{constructor(e=500,t){super(new yt(t),e,t)}}class wt{constructor(e,t,r){this.ecCodewords=e,this.ecBlocks=[t],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class bt{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Et{constructor(e,t,r,n,i,a){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=r,this.dataRegionSizeRows=n,this.dataRegionSizeColumns=i,this.ecBlocks=a;let o=0;const s=a.getECCodewords(),l=a.getECBlocks();for(let c of l)o+=c.getCount()*(c.getDataCodewords()+s);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if(1&e||1&t)throw new C;for(let r of Et.VERSIONS)if(r.symbolSizeRows===e&&r.symbolSizeColumns===t)return r;throw new C}toString(){return""+this.versionNumber}static buildVersions(){return[new Et(1,10,10,8,8,new wt(5,new bt(1,3))),new Et(2,12,12,10,10,new wt(7,new bt(1,5))),new Et(3,14,14,12,12,new wt(10,new bt(1,8))),new Et(4,16,16,14,14,new wt(12,new bt(1,12))),new Et(5,18,18,16,16,new wt(14,new bt(1,18))),new Et(6,20,20,18,18,new wt(18,new bt(1,22))),new Et(7,22,22,20,20,new wt(20,new bt(1,30))),new Et(8,24,24,22,22,new wt(24,new bt(1,36))),new Et(9,26,26,24,24,new wt(28,new bt(1,44))),new Et(10,32,32,14,14,new wt(36,new bt(1,62))),new Et(11,36,36,16,16,new wt(42,new bt(1,86))),new Et(12,40,40,18,18,new wt(48,new bt(1,114))),new Et(13,44,44,20,20,new wt(56,new bt(1,144))),new Et(14,48,48,22,22,new wt(68,new bt(1,174))),new Et(15,52,52,24,24,new wt(42,new bt(2,102))),new Et(16,64,64,14,14,new wt(56,new bt(2,140))),new Et(17,72,72,16,16,new wt(36,new bt(4,92))),new Et(18,80,80,18,18,new wt(48,new bt(4,114))),new Et(19,88,88,20,20,new wt(56,new bt(4,144))),new Et(20,96,96,22,22,new wt(68,new bt(4,174))),new Et(21,104,104,24,24,new wt(56,new bt(6,136))),new Et(22,120,120,18,18,new wt(68,new bt(6,175))),new Et(23,132,132,20,20,new wt(62,new bt(8,163))),new Et(24,144,144,22,22,new wt(62,new bt(8,156),new bt(2,155))),new Et(25,8,18,6,16,new wt(7,new bt(1,5))),new Et(26,8,32,6,14,new wt(11,new bt(1,10))),new Et(27,12,26,10,24,new wt(14,new bt(1,16))),new Et(28,12,36,10,16,new wt(18,new bt(1,22))),new Et(29,16,36,14,16,new wt(24,new bt(1,32))),new Et(30,16,48,14,22,new wt(28,new bt(1,49)))]}}Et.VERSIONS=Et.buildVersions();class At{constructor(e){const t=e.getHeight();if(t<8||t>144||1&t)throw new C;this.version=At.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new R(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),r=e.getWidth();return Et.getVersionForDimensions(t,r)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,r=4,n=0;const i=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth();let o=!1,s=!1,l=!1,c=!1;do{if(r!==i||0!==n||o)if(r===i-2&&0===n&&3&a&&!s)e[t++]=255&this.readCorner2(i,a),r-=2,n+=2,s=!0;else if(r!==i+4||2!==n||7&a||l)if(r!==i-2||0!==n||4!=(7&a)||c){do{r<i&&n>=0&&!this.readMappingMatrix.get(n,r)&&(e[t++]=255&this.readUtah(r,n,i,a)),r-=2,n+=2}while(r>=0&&n<a);r+=1,n+=3;do{r>=0&&n<a&&!this.readMappingMatrix.get(n,r)&&(e[t++]=255&this.readUtah(r,n,i,a)),r+=2,n-=2}while(r<i&&n>=0);r+=3,n+=1}else e[t++]=255&this.readCorner4(i,a),r-=2,n+=2,c=!0;else e[t++]=255&this.readCorner3(i,a),r-=2,n+=2,l=!0;else e[t++]=255&this.readCorner1(i,a),r-=2,n+=2,o=!0}while(r<i||n<a);if(t!==this.version.getTotalCodewords())throw new C;return e}readModule(e,t,r,n){return e<0&&(e+=r,t+=4-(r+4&7)),t<0&&(t+=n,e+=4-(n+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,r,n){let i=0;return this.readModule(e-2,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e-2,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e-1,t,r,n)&&(i|=1),i<<=1,this.readModule(e,t-2,r,n)&&(i|=1),i<<=1,this.readModule(e,t-1,r,n)&&(i|=1),i<<=1,this.readModule(e,t,r,n)&&(i|=1),i}readCorner1(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,1,e,t)&&(r|=1),r<<=1,this.readModule(e-1,2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}readCorner2(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-4,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner3(e,t){let r=0;return this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(0,t-3,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-3,e,t)&&(r|=1),r<<=1,this.readModule(1,t-2,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r}readCorner4(e,t){let r=0;return this.readModule(e-3,0,e,t)&&(r|=1),r<<=1,this.readModule(e-2,0,e,t)&&(r|=1),r<<=1,this.readModule(e-1,0,e,t)&&(r|=1),r<<=1,this.readModule(0,t-2,e,t)&&(r|=1),r<<=1,this.readModule(0,t-1,e,t)&&(r|=1),r<<=1,this.readModule(1,t-1,e,t)&&(r|=1),r<<=1,this.readModule(2,t-1,e,t)&&(r|=1),r<<=1,this.readModule(3,t-1,e,t)&&(r|=1),r}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new d("Dimension of bitMatrix must match the version size");const n=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),a=t/n|0,o=r/i|0,s=new R(o*i,a*n);for(let l=0;l<a;++l){const t=l*n;for(let r=0;r<o;++r){const a=r*i;for(let o=0;o<n;++o){const c=l*(n+2)+1+o,u=t+o;for(let t=0;t<i;++t){const n=r*(i+2)+1+t;if(e.get(n,c)){const e=a+t;s.set(e,u)}}}}}return s}}class xt{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const r=t.getECBlocks();let n=0;const i=r.getECBlocks();for(let d of i)n+=d.getCount();const a=new Array(n);let o=0;for(let d of i)for(let e=0;e<d.getCount();e++){const e=d.getDataCodewords(),t=r.getECCodewords()+e;a[o++]=new xt(e,new Uint8Array(t))}const s=a[0].codewords.length-r.getECCodewords(),l=s-1;let c=0;for(let d=0;d<l;d++)for(let t=0;t<o;t++)a[t].codewords[d]=e[c++];const u=24===t.getVersionNumber(),h=u?8:o;for(let d=0;d<h;d++)a[d].codewords[s-1]=e[c++];const f=a[0].codewords.length;for(let d=s;d<f;d++)for(let t=0;t<o;t++){const r=u?(t+8)%o:t,n=u&&r>7?d-1:d;a[r].codewords[n]=e[c++]}if(c!==e.length)throw new d;return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ct{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new d(""+e);let t=0,r=this.bitOffset,n=this.byteOffset;const i=this.bytes;if(r>0){const a=8-r,o=e<a?e:a,s=a-o,l=255>>8-o<<s;t=(i[n]&l)>>s,e-=o,r+=o,8===r&&(r=0,n++)}if(e>0){for(;e>=8;)t=t<<8|255&i[n],n++,e-=8;if(e>0){const a=8-e,o=255>>a<<a;t=t<<e|(i[n]&o)>>a,r+=e}}return this.bitOffset=r,this.byteOffset=n,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}(ee=Y||(Y={}))[ee.PAD_ENCODE=0]="PAD_ENCODE",ee[ee.ASCII_ENCODE=1]="ASCII_ENCODE",ee[ee.C40_ENCODE=2]="C40_ENCODE",ee[ee.TEXT_ENCODE=3]="TEXT_ENCODE",ee[ee.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",ee[ee.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",ee[ee.BASE256_ENCODE=6]="BASE256_ENCODE";class St{static decode(e){const t=new Ct(e),r=new P,n=new P,i=new Array;let a=Y.ASCII_ENCODE;do{if(a===Y.ASCII_ENCODE)a=this.decodeAsciiSegment(t,r,n);else{switch(a){case Y.C40_ENCODE:this.decodeC40Segment(t,r);break;case Y.TEXT_ENCODE:this.decodeTextSegment(t,r);break;case Y.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,r);break;case Y.EDIFACT_ENCODE:this.decodeEdifactSegment(t,r);break;case Y.BASE256_ENCODE:this.decodeBase256Segment(t,r,i);break;default:throw new C}a=Y.ASCII_ENCODE}}while(a!==Y.PAD_ENCODE&&t.available()>0);return n.length()>0&&r.append(n.toString()),new ae(e,r.toString(),0===i.length?null:i,null)}static decodeAsciiSegment(e,t,r){let n=!1;do{let i=e.readBits(8);if(0===i)throw new C;if(i<=128)return n&&(i+=128),t.append(String.fromCharCode(i-1)),Y.ASCII_ENCODE;if(129===i)return Y.PAD_ENCODE;if(i<=229){const e=i-130;e<10&&t.append("0"),t.append(""+e)}else switch(i){case 230:return Y.C40_ENCODE;case 231:return Y.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:n=!0;break;case 236:t.append("[)>05"),r.insert(0,"");break;case 237:t.append("[)>06"),r.insert(0,"");break;case 238:return Y.ANSIX12_ENCODE;case 239:return Y.TEXT_ENCODE;case 240:return Y.EDIFACT_ENCODE;default:if(254!==i||0!==e.available())throw new C}}while(e.available()>0);return Y.ASCII_ENCODE}static decodeC40Segment(e,t){let r=!1;const n=[];let i=0;do{if(8===e.available())return;const a=e.readBits(8);if(254===a)return;this.parseTwoBytes(a,e.readBits(8),n);for(let e=0;e<3;e++){const a=n[e];switch(i){case 0:if(a<3)i=a+1;else{if(!(a<this.C40_BASIC_SET_CHARS.length))throw new C;{const e=this.C40_BASIC_SET_CHARS[a];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e)}}break;case 1:r?(t.append(String.fromCharCode(a+128)),r=!1):t.append(String.fromCharCode(a)),i=0;break;case 2:if(a<this.C40_SHIFT2_SET_CHARS.length){const e=this.C40_SHIFT2_SET_CHARS[a];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e)}else switch(a){case 27:t.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new C}i=0;break;case 3:r?(t.append(String.fromCharCode(a+224)),r=!1):t.append(String.fromCharCode(a+96)),i=0;break;default:throw new C}}}while(e.available()>0)}static decodeTextSegment(e,t){let r=!1,n=[],i=0;do{if(8===e.available())return;const a=e.readBits(8);if(254===a)return;this.parseTwoBytes(a,e.readBits(8),n);for(let e=0;e<3;e++){const a=n[e];switch(i){case 0:if(a<3)i=a+1;else{if(!(a<this.TEXT_BASIC_SET_CHARS.length))throw new C;{const e=this.TEXT_BASIC_SET_CHARS[a];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e)}}break;case 1:r?(t.append(String.fromCharCode(a+128)),r=!1):t.append(String.fromCharCode(a)),i=0;break;case 2:if(a<this.TEXT_SHIFT2_SET_CHARS.length){const e=this.TEXT_SHIFT2_SET_CHARS[a];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e)}else switch(a){case 27:t.append(String.fromCharCode(29));break;case 30:r=!0;break;default:throw new C}i=0;break;case 3:if(!(a<this.TEXT_SHIFT3_SET_CHARS.length))throw new C;{const e=this.TEXT_SHIFT3_SET_CHARS[a];r?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),r=!1):t.append(e),i=0}break;default:throw new C}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const r=[];do{if(8===e.available())return;const n=e.readBits(8);if(254===n)return;this.parseTwoBytes(n,e.readBits(8),r);for(let e=0;e<3;e++){const n=r[e];switch(n){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(n<14)t.append(String.fromCharCode(n+44));else{if(!(n<40))throw new C;t.append(String.fromCharCode(n+51))}}}}while(e.available()>0)}static parseTwoBytes(e,t,r){let n=(e<<8)+t-1,i=Math.floor(n/1600);r[0]=i,n-=1600*i,i=Math.floor(n/40),r[1]=i,r[2]=n-40*i}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let r=0;r<4;r++){let r=e.readBits(6);if(31===r){const t=8-e.getBitOffset();return void(8!==t&&e.readBits(t))}32&r||(r|=64),t.append(String.fromCharCode(r))}}while(e.available()>0)}static decodeBase256Segment(e,t,r){let n=1+e.getByteOffset();const i=this.unrandomize255State(e.readBits(8),n++);let a;if(a=0===i?e.available()/8|0:i<250?i:250*(i-249)+this.unrandomize255State(e.readBits(8),n++),a<0)throw new C;const o=new Uint8Array(a);for(let l=0;l<a;l++){if(e.available()<8)throw new C;o[l]=this.unrandomize255State(e.readBits(8),n++)}r.push(o);try{t.append(O.decode(o,T.ISO88591))}catch(s){throw new de("Platform does not support required encoding: "+s.message)}}static unrandomize255State(e,t){const r=e-(149*t%255+1);return r>=0?r:r+256}}St.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],St.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],St.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],St.TEXT_SHIFT2_SET_CHARS=St.C40_SHIFT2_SET_CHARS,St.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class _t{constructor(){this.rsDecoder=new he(ce.DATA_MATRIX_FIELD_256)}decode(e){const t=new At(e),r=t.getVersion(),n=t.readCodewords(),i=xt.getDataBlocks(n,r);let a=0;for(let l of i)a+=l.getNumDataCodewords();const o=new Uint8Array(a),s=i.length;for(let l=0;l<s;l++){const e=i[l],t=e.getCodewords(),r=e.getNumDataCodewords();this.correctErrors(t,r);for(let n=0;n<r;n++)o[n*s+l]=t[n]}return St.decode(o)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch(n){throw new f}for(let i=0;i<t;i++)e[i]=r[i]}}class It{constructor(e){this.image=e,this.rectangleDetector=new we(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new M;t=this.shiftToModuleCenter(t);const r=t[0],n=t[1],i=t[2],a=t[3];let o=this.transitionsBetween(r,a)+1,s=this.transitionsBetween(i,a)+1;1&~o||(o+=1),1&~s||(s+=1),4*o<7*s&&4*s<7*o&&(o=s=Math.max(o,s));let l=It.sampleGrid(this.image,r,n,i,a,o,s);return new ye(l,[r,n,i,a])}static shiftPoint(e,t,r){let n=(t.getX()-e.getX())/(r+1),i=(t.getY()-e.getY())/(r+1);return new me(e.getX()+n,e.getY()+i)}static moveAway(e,t,r){let n=e.getX(),i=e.getY();return n<t?n-=1:n+=1,i<r?i-=1:i+=1,new me(n,i)}detectSolid1(e){let t=e[0],r=e[1],n=e[3],i=e[2],a=this.transitionsBetween(t,r),o=this.transitionsBetween(r,n),s=this.transitionsBetween(n,i),l=this.transitionsBetween(i,t),c=a,u=[i,t,r,n];return c>o&&(c=o,u[0]=t,u[1]=r,u[2]=n,u[3]=i),c>s&&(c=s,u[0]=r,u[1]=n,u[2]=i,u[3]=t),c>l&&(u[0]=n,u[1]=i,u[2]=t,u[3]=r),u}detectSolid2(e){let t=e[0],r=e[1],n=e[2],i=e[3],a=this.transitionsBetween(t,i),o=It.shiftPoint(r,n,4*(a+1)),s=It.shiftPoint(n,r,4*(a+1));return this.transitionsBetween(o,t)<this.transitionsBetween(s,i)?(e[0]=t,e[1]=r,e[2]=n,e[3]=i):(e[0]=r,e[1]=n,e[2]=i,e[3]=t),e}correctTopRight(e){let t=e[0],r=e[1],n=e[2],i=e[3],a=this.transitionsBetween(t,i),o=this.transitionsBetween(r,i),s=It.shiftPoint(t,r,4*(o+1)),l=It.shiftPoint(n,r,4*(a+1));a=this.transitionsBetween(s,i),o=this.transitionsBetween(l,i);let c=new me(i.getX()+(n.getX()-r.getX())/(a+1),i.getY()+(n.getY()-r.getY())/(a+1)),u=new me(i.getX()+(t.getX()-r.getX())/(o+1),i.getY()+(t.getY()-r.getY())/(o+1));return this.isValid(c)?this.isValid(u)?this.transitionsBetween(s,c)+this.transitionsBetween(l,c)>this.transitionsBetween(s,u)+this.transitionsBetween(l,u)?c:u:c:this.isValid(u)?u:null}shiftToModuleCenter(e){let t=e[0],r=e[1],n=e[2],i=e[3],a=this.transitionsBetween(t,i)+1,o=this.transitionsBetween(n,i)+1,s=It.shiftPoint(t,r,4*o),l=It.shiftPoint(n,r,4*a);a=this.transitionsBetween(s,i)+1,o=this.transitionsBetween(l,i)+1,1&~a||(a+=1),1&~o||(o+=1);let c,u,d=(t.getX()+r.getX()+n.getX()+i.getX())/4,h=(t.getY()+r.getY()+n.getY()+i.getY())/4;return t=It.moveAway(t,d,h),r=It.moveAway(r,d,h),n=It.moveAway(n,d,h),i=It.moveAway(i,d,h),s=It.shiftPoint(t,r,4*o),s=It.shiftPoint(s,i,4*a),c=It.shiftPoint(r,t,4*o),c=It.shiftPoint(c,n,4*a),l=It.shiftPoint(n,i,4*o),l=It.shiftPoint(l,r,4*a),u=It.shiftPoint(i,n,4*o),u=It.shiftPoint(u,t,4*a),[s,c,l,u]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,r,n,i,a,o){return xe.getInstance().sampleGrid(e,a,o,.5,.5,a-.5,.5,a-.5,o-.5,.5,o-.5,t.getX(),t.getY(),i.getX(),i.getY(),n.getX(),n.getY(),r.getX(),r.getY())}transitionsBetween(e,t){let r=Math.trunc(e.getX()),n=Math.trunc(e.getY()),i=Math.trunc(t.getX()),a=Math.trunc(t.getY()),o=Math.abs(a-n)>Math.abs(i-r);if(o){let e=r;r=n,n=e,e=i,i=a,a=e}let s=Math.abs(i-r),l=Math.abs(a-n),c=-s/2,u=n<a?1:-1,d=r<i?1:-1,h=0,f=this.image.get(o?n:r,o?r:n);for(let p=r,g=n;p!==i;p+=d){let e=this.image.get(o?g:p,o?p:g);if(e!==f&&(h++,f=e),c+=l,c>0){if(g===a)break;g+=u,c-=s}}return h}}class Ot{constructor(){this.decoder=new _t}decode(e,t=null){let r,n;if(null!=t&&t.has(x.PURE_BARCODE)){const t=Ot.extractPureBits(e.getBlackMatrix());r=this.decoder.decode(t),n=Ot.NO_POINTS}else{const t=new It(e.getBlackMatrix()).detect();r=this.decoder.decode(t.getBits()),n=t.getPoints()}const i=r.getRawBytes(),a=new V(r.getText(),i,8*i.length,n,X.DATA_MATRIX,g.currentTimeMillis()),o=r.getByteSegments();null!=o&&a.putMetadata(ie.BYTE_SEGMENTS,o);const s=r.getECLevel();return null!=s&&a.putMetadata(ie.ERROR_CORRECTION_LEVEL,s),a}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(null==t||null==r)throw new M;const n=this.moduleSize(t,e);let i=t[1];const a=r[1];let o=t[0];const s=(r[0]-o+1)/n,l=(a-i+1)/n;if(s<=0||l<=0)throw new M;const c=n/2;i+=c,o+=c;const u=new R(s,l);for(let d=0;d<l;d++){const t=i+d*n;for(let r=0;r<s;r++)e.get(o+r*n,t)&&u.set(r,d)}return u}static moduleSize(e,t){const r=t.getWidth();let n=e[0];const i=e[1];for(;n<r&&t.get(n,i);)n++;if(n===r)throw new M;const a=n-e[0];if(0===a)throw new M;return a}}Ot.NO_POINTS=[];class Tt extends H{constructor(e=500){super(new Ot,e)}}(te=q||(q={}))[te.L=0]="L",te[te.M=1]="M",te[te.Q=2]="Q",te[te.H=3]="H";class Pt{constructor(e,t,r){this.value=e,this.stringValue=t,this.bits=r,Pt.FOR_BITS.set(r,this),Pt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return Pt.L;case"M":return Pt.M;case"Q":return Pt.Q;case"H":return Pt.H;default:throw new u(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof Pt))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=Pt.FOR_BITS.size)throw new d;return Pt.FOR_BITS.get(e)}}Pt.FOR_BITS=new Map,Pt.FOR_VALUE=new Map,Pt.L=new Pt(q.L,"L",1),Pt.M=new Pt(q.M,"M",0),Pt.Q=new Pt(q.Q,"Q",3),Pt.H=new Pt(q.H,"H",2);class Rt{constructor(e){this.errorCorrectionLevel=Pt.forBits(e>>3&3),this.dataMask=7&e}static numBitsDiffering(e,t){return w.bitCount(e^t)}static decodeFormatInformation(e,t){const r=Rt.doDecodeFormatInformation(e,t);return null!==r?r:Rt.doDecodeFormatInformation(e^Rt.FORMAT_INFO_MASK_QR,t^Rt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let r=Number.MAX_SAFE_INTEGER,n=0;for(const i of Rt.FORMAT_INFO_DECODE_LOOKUP){const a=i[0];if(a===e||a===t)return new Rt(i[1]);let o=Rt.numBitsDiffering(e,a);o<r&&(n=i[1],r=o),e!==t&&(o=Rt.numBitsDiffering(t,a),o<r&&(n=i[1],r=o))}return r<=3?new Rt(n):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Rt))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}Rt.FORMAT_INFO_MASK_QR=21522,Rt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Mt{constructor(e,...t){this.ecCodewordsPerBlock=e,this.ecBlocks=t}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const r of t)e+=r.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Nt{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Dt{constructor(e,t,...r){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=r;let n=0;const i=r[0].getECCodewordsPerBlock(),a=r[0].getECBlocks();for(const o of a)n+=o.getCount()*(o.getDataCodewords()+i);this.totalCodewords=n}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!=1)throw new C;try{return this.getVersionForNumber((e-17)/4)}catch(t){throw new C}}static getVersionForNumber(e){if(e<1||e>40)throw new d;return Dt.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,r=0;for(let n=0;n<Dt.VERSION_DECODE_INFO.length;n++){const i=Dt.VERSION_DECODE_INFO[n];if(i===e)return Dt.getVersionForNumber(n+7);const a=Rt.numBitsDiffering(e,i);a<t&&(r=n+7,t=a)}return t<=3?Dt.getVersionForNumber(r):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new R(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const r=this.alignmentPatternCenters.length;for(let n=0;n<r;n++){const e=this.alignmentPatternCenters[n]-2;for(let i=0;i<r;i++)0===n&&(0===i||i===r-1)||n===r-1&&0===i||t.setRegion(this.alignmentPatternCenters[i]-2,e,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}Dt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Dt.VERSIONS=[new Dt(1,new Int32Array(0),new Mt(7,new Nt(1,19)),new Mt(10,new Nt(1,16)),new Mt(13,new Nt(1,13)),new Mt(17,new Nt(1,9))),new Dt(2,Int32Array.from([6,18]),new Mt(10,new Nt(1,34)),new Mt(16,new Nt(1,28)),new Mt(22,new Nt(1,22)),new Mt(28,new Nt(1,16))),new Dt(3,Int32Array.from([6,22]),new Mt(15,new Nt(1,55)),new Mt(26,new Nt(1,44)),new Mt(18,new Nt(2,17)),new Mt(22,new Nt(2,13))),new Dt(4,Int32Array.from([6,26]),new Mt(20,new Nt(1,80)),new Mt(18,new Nt(2,32)),new Mt(26,new Nt(2,24)),new Mt(16,new Nt(4,9))),new Dt(5,Int32Array.from([6,30]),new Mt(26,new Nt(1,108)),new Mt(24,new Nt(2,43)),new Mt(18,new Nt(2,15),new Nt(2,16)),new Mt(22,new Nt(2,11),new Nt(2,12))),new Dt(6,Int32Array.from([6,34]),new Mt(18,new Nt(2,68)),new Mt(16,new Nt(4,27)),new Mt(24,new Nt(4,19)),new Mt(28,new Nt(4,15))),new Dt(7,Int32Array.from([6,22,38]),new Mt(20,new Nt(2,78)),new Mt(18,new Nt(4,31)),new Mt(18,new Nt(2,14),new Nt(4,15)),new Mt(26,new Nt(4,13),new Nt(1,14))),new Dt(8,Int32Array.from([6,24,42]),new Mt(24,new Nt(2,97)),new Mt(22,new Nt(2,38),new Nt(2,39)),new Mt(22,new Nt(4,18),new Nt(2,19)),new Mt(26,new Nt(4,14),new Nt(2,15))),new Dt(9,Int32Array.from([6,26,46]),new Mt(30,new Nt(2,116)),new Mt(22,new Nt(3,36),new Nt(2,37)),new Mt(20,new Nt(4,16),new Nt(4,17)),new Mt(24,new Nt(4,12),new Nt(4,13))),new Dt(10,Int32Array.from([6,28,50]),new Mt(18,new Nt(2,68),new Nt(2,69)),new Mt(26,new Nt(4,43),new Nt(1,44)),new Mt(24,new Nt(6,19),new Nt(2,20)),new Mt(28,new Nt(6,15),new Nt(2,16))),new Dt(11,Int32Array.from([6,30,54]),new Mt(20,new Nt(4,81)),new Mt(30,new Nt(1,50),new Nt(4,51)),new Mt(28,new Nt(4,22),new Nt(4,23)),new Mt(24,new Nt(3,12),new Nt(8,13))),new Dt(12,Int32Array.from([6,32,58]),new Mt(24,new Nt(2,92),new Nt(2,93)),new Mt(22,new Nt(6,36),new Nt(2,37)),new Mt(26,new Nt(4,20),new Nt(6,21)),new Mt(28,new Nt(7,14),new Nt(4,15))),new Dt(13,Int32Array.from([6,34,62]),new Mt(26,new Nt(4,107)),new Mt(22,new Nt(8,37),new Nt(1,38)),new Mt(24,new Nt(8,20),new Nt(4,21)),new Mt(22,new Nt(12,11),new Nt(4,12))),new Dt(14,Int32Array.from([6,26,46,66]),new Mt(30,new Nt(3,115),new Nt(1,116)),new Mt(24,new Nt(4,40),new Nt(5,41)),new Mt(20,new Nt(11,16),new Nt(5,17)),new Mt(24,new Nt(11,12),new Nt(5,13))),new Dt(15,Int32Array.from([6,26,48,70]),new Mt(22,new Nt(5,87),new Nt(1,88)),new Mt(24,new Nt(5,41),new Nt(5,42)),new Mt(30,new Nt(5,24),new Nt(7,25)),new Mt(24,new Nt(11,12),new Nt(7,13))),new Dt(16,Int32Array.from([6,26,50,74]),new Mt(24,new Nt(5,98),new Nt(1,99)),new Mt(28,new Nt(7,45),new Nt(3,46)),new Mt(24,new Nt(15,19),new Nt(2,20)),new Mt(30,new Nt(3,15),new Nt(13,16))),new Dt(17,Int32Array.from([6,30,54,78]),new Mt(28,new Nt(1,107),new Nt(5,108)),new Mt(28,new Nt(10,46),new Nt(1,47)),new Mt(28,new Nt(1,22),new Nt(15,23)),new Mt(28,new Nt(2,14),new Nt(17,15))),new Dt(18,Int32Array.from([6,30,56,82]),new Mt(30,new Nt(5,120),new Nt(1,121)),new Mt(26,new Nt(9,43),new Nt(4,44)),new Mt(28,new Nt(17,22),new Nt(1,23)),new Mt(28,new Nt(2,14),new Nt(19,15))),new Dt(19,Int32Array.from([6,30,58,86]),new Mt(28,new Nt(3,113),new Nt(4,114)),new Mt(26,new Nt(3,44),new Nt(11,45)),new Mt(26,new Nt(17,21),new Nt(4,22)),new Mt(26,new Nt(9,13),new Nt(16,14))),new Dt(20,Int32Array.from([6,34,62,90]),new Mt(28,new Nt(3,107),new Nt(5,108)),new Mt(26,new Nt(3,41),new Nt(13,42)),new Mt(30,new Nt(15,24),new Nt(5,25)),new Mt(28,new Nt(15,15),new Nt(10,16))),new Dt(21,Int32Array.from([6,28,50,72,94]),new Mt(28,new Nt(4,116),new Nt(4,117)),new Mt(26,new Nt(17,42)),new Mt(28,new Nt(17,22),new Nt(6,23)),new Mt(30,new Nt(19,16),new Nt(6,17))),new Dt(22,Int32Array.from([6,26,50,74,98]),new Mt(28,new Nt(2,111),new Nt(7,112)),new Mt(28,new Nt(17,46)),new Mt(30,new Nt(7,24),new Nt(16,25)),new Mt(24,new Nt(34,13))),new Dt(23,Int32Array.from([6,30,54,78,102]),new Mt(30,new Nt(4,121),new Nt(5,122)),new Mt(28,new Nt(4,47),new Nt(14,48)),new Mt(30,new Nt(11,24),new Nt(14,25)),new Mt(30,new Nt(16,15),new Nt(14,16))),new Dt(24,Int32Array.from([6,28,54,80,106]),new Mt(30,new Nt(6,117),new Nt(4,118)),new Mt(28,new Nt(6,45),new Nt(14,46)),new Mt(30,new Nt(11,24),new Nt(16,25)),new Mt(30,new Nt(30,16),new Nt(2,17))),new Dt(25,Int32Array.from([6,32,58,84,110]),new Mt(26,new Nt(8,106),new Nt(4,107)),new Mt(28,new Nt(8,47),new Nt(13,48)),new Mt(30,new Nt(7,24),new Nt(22,25)),new Mt(30,new Nt(22,15),new Nt(13,16))),new Dt(26,Int32Array.from([6,30,58,86,114]),new Mt(28,new Nt(10,114),new Nt(2,115)),new Mt(28,new Nt(19,46),new Nt(4,47)),new Mt(28,new Nt(28,22),new Nt(6,23)),new Mt(30,new Nt(33,16),new Nt(4,17))),new Dt(27,Int32Array.from([6,34,62,90,118]),new Mt(30,new Nt(8,122),new Nt(4,123)),new Mt(28,new Nt(22,45),new Nt(3,46)),new Mt(30,new Nt(8,23),new Nt(26,24)),new Mt(30,new Nt(12,15),new Nt(28,16))),new Dt(28,Int32Array.from([6,26,50,74,98,122]),new Mt(30,new Nt(3,117),new Nt(10,118)),new Mt(28,new Nt(3,45),new Nt(23,46)),new Mt(30,new Nt(4,24),new Nt(31,25)),new Mt(30,new Nt(11,15),new Nt(31,16))),new Dt(29,Int32Array.from([6,30,54,78,102,126]),new Mt(30,new Nt(7,116),new Nt(7,117)),new Mt(28,new Nt(21,45),new Nt(7,46)),new Mt(30,new Nt(1,23),new Nt(37,24)),new Mt(30,new Nt(19,15),new Nt(26,16))),new Dt(30,Int32Array.from([6,26,52,78,104,130]),new Mt(30,new Nt(5,115),new Nt(10,116)),new Mt(28,new Nt(19,47),new Nt(10,48)),new Mt(30,new Nt(15,24),new Nt(25,25)),new Mt(30,new Nt(23,15),new Nt(25,16))),new Dt(31,Int32Array.from([6,30,56,82,108,134]),new Mt(30,new Nt(13,115),new Nt(3,116)),new Mt(28,new Nt(2,46),new Nt(29,47)),new Mt(30,new Nt(42,24),new Nt(1,25)),new Mt(30,new Nt(23,15),new Nt(28,16))),new Dt(32,Int32Array.from([6,34,60,86,112,138]),new Mt(30,new Nt(17,115)),new Mt(28,new Nt(10,46),new Nt(23,47)),new Mt(30,new Nt(10,24),new Nt(35,25)),new Mt(30,new Nt(19,15),new Nt(35,16))),new Dt(33,Int32Array.from([6,30,58,86,114,142]),new Mt(30,new Nt(17,115),new Nt(1,116)),new Mt(28,new Nt(14,46),new Nt(21,47)),new Mt(30,new Nt(29,24),new Nt(19,25)),new Mt(30,new Nt(11,15),new Nt(46,16))),new Dt(34,Int32Array.from([6,34,62,90,118,146]),new Mt(30,new Nt(13,115),new Nt(6,116)),new Mt(28,new Nt(14,46),new Nt(23,47)),new Mt(30,new Nt(44,24),new Nt(7,25)),new Mt(30,new Nt(59,16),new Nt(1,17))),new Dt(35,Int32Array.from([6,30,54,78,102,126,150]),new Mt(30,new Nt(12,121),new Nt(7,122)),new Mt(28,new Nt(12,47),new Nt(26,48)),new Mt(30,new Nt(39,24),new Nt(14,25)),new Mt(30,new Nt(22,15),new Nt(41,16))),new Dt(36,Int32Array.from([6,24,50,76,102,128,154]),new Mt(30,new Nt(6,121),new Nt(14,122)),new Mt(28,new Nt(6,47),new Nt(34,48)),new Mt(30,new Nt(46,24),new Nt(10,25)),new Mt(30,new Nt(2,15),new Nt(64,16))),new Dt(37,Int32Array.from([6,28,54,80,106,132,158]),new Mt(30,new Nt(17,122),new Nt(4,123)),new Mt(28,new Nt(29,46),new Nt(14,47)),new Mt(30,new Nt(49,24),new Nt(10,25)),new Mt(30,new Nt(24,15),new Nt(46,16))),new Dt(38,Int32Array.from([6,32,58,84,110,136,162]),new Mt(30,new Nt(4,122),new Nt(18,123)),new Mt(28,new Nt(13,46),new Nt(32,47)),new Mt(30,new Nt(48,24),new Nt(14,25)),new Mt(30,new Nt(42,15),new Nt(32,16))),new Dt(39,Int32Array.from([6,26,54,82,110,138,166]),new Mt(30,new Nt(20,117),new Nt(4,118)),new Mt(28,new Nt(40,47),new Nt(7,48)),new Mt(30,new Nt(43,24),new Nt(22,25)),new Mt(30,new Nt(10,15),new Nt(67,16))),new Dt(40,Int32Array.from([6,30,58,86,114,142,170]),new Mt(30,new Nt(19,118),new Nt(6,119)),new Mt(28,new Nt(18,47),new Nt(31,48)),new Mt(30,new Nt(34,24),new Nt(34,25)),new Mt(30,new Nt(20,15),new Nt(61,16)))],(re=Z||(Z={}))[re.DATA_MASK_000=0]="DATA_MASK_000",re[re.DATA_MASK_001=1]="DATA_MASK_001",re[re.DATA_MASK_010=2]="DATA_MASK_010",re[re.DATA_MASK_011=3]="DATA_MASK_011",re[re.DATA_MASK_100=4]="DATA_MASK_100",re[re.DATA_MASK_101=5]="DATA_MASK_101",re[re.DATA_MASK_110=6]="DATA_MASK_110",re[re.DATA_MASK_111=7]="DATA_MASK_111";class jt{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let r=0;r<t;r++)for(let n=0;n<t;n++)this.isMasked(r,n)&&e.flip(n,r)}}jt.values=new Map([[Z.DATA_MASK_000,new jt(Z.DATA_MASK_000,(e,t)=>!(e+t&1))],[Z.DATA_MASK_001,new jt(Z.DATA_MASK_001,(e,t)=>!(1&e))],[Z.DATA_MASK_010,new jt(Z.DATA_MASK_010,(e,t)=>t%3==0)],[Z.DATA_MASK_011,new jt(Z.DATA_MASK_011,(e,t)=>(e+t)%3==0)],[Z.DATA_MASK_100,new jt(Z.DATA_MASK_100,(e,t)=>!(Math.floor(e/2)+Math.floor(t/3)&1))],[Z.DATA_MASK_101,new jt(Z.DATA_MASK_101,(e,t)=>e*t%6==0)],[Z.DATA_MASK_110,new jt(Z.DATA_MASK_110,(e,t)=>e*t%6<3)],[Z.DATA_MASK_111,new jt(Z.DATA_MASK_111,(e,t)=>!(e+t+e*t%3&1))]]);class kt{constructor(e){const t=e.getHeight();if(t<21||1!=(3&t))throw new C;this.bitMatrix=e}readFormatInformation(){if(null!==this.parsedFormatInfo&&void 0!==this.parsedFormatInfo)return this.parsedFormatInfo;let e=0;for(let i=0;i<6;i++)e=this.copyBit(i,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let i=5;i>=0;i--)e=this.copyBit(8,i,e);const t=this.bitMatrix.getHeight();let r=0;const n=t-7;for(let i=t-1;i>=n;i--)r=this.copyBit(8,i,r);for(let i=t-8;i<t;i++)r=this.copyBit(i,8,r);if(this.parsedFormatInfo=Rt.decodeFormatInformation(e,r),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new C}readVersion(){if(null!==this.parsedVersion&&void 0!==this.parsedVersion)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Dt.getVersionForNumber(t);let r=0;const n=e-11;for(let a=5;a>=0;a--)for(let t=e-9;t>=n;t--)r=this.copyBit(t,a,r);let i=Dt.decodeVersionInformation(r);if(null!==i&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;r=0;for(let a=5;a>=0;a--)for(let t=e-9;t>=n;t--)r=this.copyBit(a,t,r);if(i=Dt.decodeVersionInformation(r),null!==i&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;throw new C}copyBit(e,t,r){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?r<<1|1:r<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),r=jt.values.get(e.getDataMask()),n=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,n);const i=t.buildFunctionPattern();let a=!0;const o=new Uint8Array(t.getTotalCodewords());let s=0,l=0,c=0;for(let u=n-1;u>0;u-=2){6===u&&u--;for(let e=0;e<n;e++){const t=a?n-1-e:e;for(let e=0;e<2;e++)i.get(u-e,t)||(c++,l<<=1,this.bitMatrix.get(u-e,t)&&(l|=1),8===c&&(o[s++]=l,c=0,l=0))}a=!a}if(s!==t.getTotalCodewords())throw new C;return o}remask(){if(null===this.parsedFormatInfo)return;const e=jt.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,r=e.getWidth();t<r;t++)for(let n=t+1,i=e.getHeight();n<i;n++)e.get(t,n)!==e.get(n,t)&&(e.flip(n,t),e.flip(t,n))}}class Bt{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,r){if(e.length!==t.getTotalCodewords())throw new d;const n=t.getECBlocksForLevel(r);let i=0;const a=n.getECBlocks();for(const d of a)i+=d.getCount();const o=new Array(i);let s=0;for(const d of a)for(let e=0;e<d.getCount();e++){const e=d.getDataCodewords(),t=n.getECCodewordsPerBlock()+e;o[s++]=new Bt(e,new Uint8Array(t))}const l=o[0].codewords.length;let c=o.length-1;for(;c>=0&&o[c].codewords.length!==l;)c--;c++;const u=l-n.getECCodewordsPerBlock();let h=0;for(let d=0;d<u;d++)for(let t=0;t<s;t++)o[t].codewords[d]=e[h++];for(let d=c;d<s;d++)o[d].codewords[u]=e[h++];const f=o[0].codewords.length;for(let d=u;d<f;d++)for(let t=0;t<s;t++){const r=t<c?d:d+1;o[t].codewords[r]=e[h++]}return o}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}(ne=$||($={}))[ne.TERMINATOR=0]="TERMINATOR",ne[ne.NUMERIC=1]="NUMERIC",ne[ne.ALPHANUMERIC=2]="ALPHANUMERIC",ne[ne.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",ne[ne.BYTE=4]="BYTE",ne[ne.ECI=5]="ECI",ne[ne.KANJI=6]="KANJI",ne[ne.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",ne[ne.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",ne[ne.HANZI=9]="HANZI";class Lt{constructor(e,t,r,n){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=r,this.bits=n,Lt.FOR_BITS.set(n,this),Lt.FOR_VALUE.set(e,this)}static forBits(e){const t=Lt.FOR_BITS.get(e);if(void 0===t)throw new d;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let r;return r=t<=9?0:t<=26?1:2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof Lt))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}Lt.FOR_BITS=new Map,Lt.FOR_VALUE=new Map,Lt.TERMINATOR=new Lt($.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Lt.NUMERIC=new Lt($.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Lt.ALPHANUMERIC=new Lt($.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Lt.STRUCTURED_APPEND=new Lt($.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Lt.BYTE=new Lt($.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Lt.ECI=new Lt($.ECI,"ECI",Int32Array.from([0,0,0]),7),Lt.KANJI=new Lt($.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Lt.FNC1_FIRST_POSITION=new Lt($.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Lt.FNC1_SECOND_POSITION=new Lt($.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Lt.HANZI=new Lt($.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ft{static decode(e,t,r,n){const i=new Ct(e);let a=new P;const o=new Array;let s=-1,l=-1;try{let e,r=null,c=!1;do{if(i.available()<4)e=Lt.TERMINATOR;else{const t=i.readBits(4);e=Lt.forBits(t)}switch(e){case Lt.TERMINATOR:break;case Lt.FNC1_FIRST_POSITION:case Lt.FNC1_SECOND_POSITION:c=!0;break;case Lt.STRUCTURED_APPEND:if(i.available()<16)throw new C;s=i.readBits(8),l=i.readBits(8);break;case Lt.ECI:const u=Ft.parseECIValue(i);if(r=S.getCharacterSetECIByValue(u),null===r)throw new C;break;case Lt.HANZI:const d=i.readBits(4),h=i.readBits(e.getCharacterCountBits(t));d===Ft.GB2312_SUBSET&&Ft.decodeHanziSegment(i,a,h);break;default:const f=i.readBits(e.getCharacterCountBits(t));switch(e){case Lt.NUMERIC:Ft.decodeNumericSegment(i,a,f);break;case Lt.ALPHANUMERIC:Ft.decodeAlphanumericSegment(i,a,f,c);break;case Lt.BYTE:Ft.decodeByteSegment(i,a,f,r,o,n);break;case Lt.KANJI:Ft.decodeKanjiSegment(i,a,f);break;default:throw new C}}}while(e!==Lt.TERMINATOR)}catch(c){throw new C}return new ae(e,a.toString(),0===o.length?null:o,null===r?null:r.toString(),s,l)}static decodeHanziSegment(e,t,r){if(13*r>e.available())throw new C;const n=new Uint8Array(2*r);let i=0;for(;r>0;){const t=e.readBits(13);let a=t/96<<8&4294967295|t%96;a+=a<959?41377:42657,n[i]=a>>8&255,n[i+1]=255&a,i+=2,r--}try{t.append(O.decode(n,T.GB2312))}catch(a){throw new C(a)}}static decodeKanjiSegment(e,t,r){if(13*r>e.available())throw new C;const n=new Uint8Array(2*r);let i=0;for(;r>0;){const t=e.readBits(13);let a=t/192<<8&4294967295|t%192;a+=a<7936?33088:49472,n[i]=a>>8,n[i+1]=a,i+=2,r--}try{t.append(O.decode(n,T.SHIFT_JIS))}catch(a){throw new C(a)}}static decodeByteSegment(e,t,r,n,i,a){if(8*r>e.available())throw new C;const o=new Uint8Array(r);for(let c=0;c<r;c++)o[c]=e.readBits(8);let s;s=null===n?T.guessEncoding(o,a):n.getName();try{t.append(O.decode(o,s))}catch(l){throw new C(l)}i.push(o)}static toAlphaNumericChar(e){if(e>=Ft.ALPHANUMERIC_CHARS.length)throw new C;return Ft.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,r,n){const i=t.length();for(;r>1;){if(e.available()<11)throw new C;const n=e.readBits(11);t.append(Ft.toAlphaNumericChar(Math.floor(n/45))),t.append(Ft.toAlphaNumericChar(n%45)),r-=2}if(1===r){if(e.available()<6)throw new C;t.append(Ft.toAlphaNumericChar(e.readBits(6)))}if(n)for(let a=i;a<t.length();a++)"%"===t.charAt(a)&&(a<t.length()-1&&"%"===t.charAt(a+1)?t.deleteCharAt(a+1):t.setCharAt(a,String.fromCharCode(29)))}static decodeNumericSegment(e,t,r){for(;r>=3;){if(e.available()<10)throw new C;const n=e.readBits(10);if(n>=1e3)throw new C;t.append(Ft.toAlphaNumericChar(Math.floor(n/100))),t.append(Ft.toAlphaNumericChar(Math.floor(n/10)%10)),t.append(Ft.toAlphaNumericChar(n%10)),r-=3}if(2===r){if(e.available()<7)throw new C;const r=e.readBits(7);if(r>=100)throw new C;t.append(Ft.toAlphaNumericChar(Math.floor(r/10))),t.append(Ft.toAlphaNumericChar(r%10))}else if(1===r){if(e.available()<4)throw new C;const r=e.readBits(4);if(r>=10)throw new C;t.append(Ft.toAlphaNumericChar(r))}}static parseECIValue(e){const t=e.readBits(8);if(!(128&t))return 127&t;if(128==(192&t))return(63&t)<<8&4294967295|e.readBits(8);if(192==(224&t))return(31&t)<<16&4294967295|e.readBits(16);throw new C}}Ft.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ft.GB2312_SUBSET=1;class Ut{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||null===e||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class zt{constructor(){this.rsDecoder=new he(ce.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(R.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const r=new kt(e);let n=null;try{return this.decodeBitMatrixParser(r,t)}catch(i_){n=i_}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const e=this.decodeBitMatrixParser(r,t);return e.setOther(new Ut(!0)),e}catch(i_){if(null!==n)throw n;throw i_}}decodeBitMatrixParser(e,t){const r=e.readVersion(),n=e.readFormatInformation().getErrorCorrectionLevel(),i=e.readCodewords(),a=Bt.getDataBlocks(i,r,n);let o=0;for(const c of a)o+=c.getNumDataCodewords();const s=new Uint8Array(o);let l=0;for(const c of a){const e=c.getCodewords(),t=c.getNumDataCodewords();this.correctErrors(e,t);for(let r=0;r<t;r++)s[l++]=e[r]}return Ft.decode(s,r,n,t)}correctErrors(e,t){const r=new Int32Array(e);try{this.rsDecoder.decode(r,e.length-t)}catch(n){throw new f}for(let i=0;i<t;i++)e[i]=r[i]}}class Ht extends me{constructor(e,t,r){super(e,t),this.estimatedModuleSize=r}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const n=(this.getX()+t)/2,i=(this.getY()+e)/2,a=(this.estimatedModuleSize+r)/2;return new Ht(n,i,a)}}class Vt{constructor(e,t,r,n,i,a,o){this.image=e,this.startX=t,this.startY=r,this.width=n,this.height=i,this.moduleSize=a,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,r=e+this.width,n=this.startY+t/2,i=new Int32Array(3),a=this.image;for(let o=0;o<t;o++){const t=n+(1&o?-Math.floor((o+1)/2):Math.floor((o+1)/2));i[0]=0,i[1]=0,i[2]=0;let s=e;for(;s<r&&!a.get(s,t);)s++;let l=0;for(;s<r;){if(a.get(s,t))if(1===l)i[1]++;else if(2===l){if(this.foundPatternCross(i)){const e=this.handlePossibleCenter(i,t,s);if(null!==e)return e}i[0]=i[2],i[1]=1,i[2]=0,l=1}else i[++l]++;else 1===l&&l++,i[l]++;s++}if(this.foundPatternCross(i)){const e=this.handlePossibleCenter(i,t,r);if(null!==e)return e}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new M}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,r=t/2;for(let n=0;n<3;n++)if(Math.abs(t-e[n])>=r)return!1;return!0}crossCheckVertical(e,t,r,n){const i=this.image,a=i.getHeight(),o=this.crossCheckStateCount;o[0]=0,o[1]=0,o[2]=0;let s=e;for(;s>=0&&i.get(t,s)&&o[1]<=r;)o[1]++,s--;if(s<0||o[1]>r)return NaN;for(;s>=0&&!i.get(t,s)&&o[0]<=r;)o[0]++,s--;if(o[0]>r)return NaN;for(s=e+1;s<a&&i.get(t,s)&&o[1]<=r;)o[1]++,s++;if(s===a||o[1]>r)return NaN;for(;s<a&&!i.get(t,s)&&o[2]<=r;)o[2]++,s++;if(o[2]>r)return NaN;const l=o[0]+o[1]+o[2];return 5*Math.abs(l-n)>=2*n?NaN:this.foundPatternCross(o)?Vt.centerFromEnd(o,s):NaN}handlePossibleCenter(e,t,r){const n=e[0]+e[1]+e[2],i=Vt.centerFromEnd(e,r),a=this.crossCheckVertical(t,i,2*e[1],n);if(!isNaN(a)){const t=(e[0]+e[1]+e[2])/3;for(const e of this.possibleCenters)if(e.aboutEquals(t,a,i))return e.combineEstimate(a,i,t);const r=new Ht(i,a,t);this.possibleCenters.push(r),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(r)}return null}}class Wt extends me{constructor(e,t,r,n){super(e,t),this.estimatedModuleSize=r,this.count=n,void 0===n&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,r){if(Math.abs(t-this.getY())<=e&&Math.abs(r-this.getX())<=e){const t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,t,r){const n=this.count+1,i=(this.count*this.getX()+t)/n,a=(this.count*this.getY()+e)/n,o=(this.count*this.estimatedModuleSize+r)/n;return new Wt(i,a,o,n)}}class Gt{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Xt{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=null!=e&&void 0!==e.get(x.TRY_HARDER),r=null!=e&&void 0!==e.get(x.PURE_BARCODE),n=this.image,i=n.getHeight(),a=n.getWidth();let o=Math.floor(3*i/(4*Xt.MAX_MODULES));(o<Xt.MIN_SKIP||t)&&(o=Xt.MIN_SKIP);let s=!1;const l=new Int32Array(5);for(let u=o-1;u<i&&!s;u+=o){l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0;let e=0;for(let t=0;t<a;t++)if(n.get(t,u))1&~e||e++,l[e]++;else if(1&e)l[e]++;else if(4===e)if(Xt.foundPatternCross(l)){if(!0!==this.handlePossibleCenter(l,u,t,r)){l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,e=3;continue}if(o=2,!0===this.hasSkipped)s=this.haveMultiplyConfirmedCenters();else{const e=this.findRowSkip();e>l[2]&&(u+=e-l[2]-o,t=a-1)}e=0,l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0}else l[0]=l[2],l[1]=l[3],l[2]=l[4],l[3]=1,l[4]=0,e=3;else l[++e]++;Xt.foundPatternCross(l)&&!0===this.handlePossibleCenter(l,u,a,r)&&(o=l[0],this.hasSkipped&&(s=this.haveMultiplyConfirmedCenters()))}const c=this.selectBestPatterns();return me.orderBestPatterns(c),new Gt(c)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let i=0;i<5;i++){const r=e[i];if(0===r)return!1;t+=r}if(t<7)return!1;const r=t/7,n=r/2;return Math.abs(r-e[0])<n&&Math.abs(r-e[1])<n&&Math.abs(3*r-e[2])<3*n&&Math.abs(r-e[3])<n&&Math.abs(r-e[4])<n}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,r,n){const i=this.getCrossCheckStateCount();let a=0;const o=this.image;for(;e>=a&&t>=a&&o.get(t-a,e-a);)i[2]++,a++;if(e<a||t<a)return!1;for(;e>=a&&t>=a&&!o.get(t-a,e-a)&&i[1]<=r;)i[1]++,a++;if(e<a||t<a||i[1]>r)return!1;for(;e>=a&&t>=a&&o.get(t-a,e-a)&&i[0]<=r;)i[0]++,a++;if(i[0]>r)return!1;const s=o.getHeight(),l=o.getWidth();for(a=1;e+a<s&&t+a<l&&o.get(t+a,e+a);)i[2]++,a++;if(e+a>=s||t+a>=l)return!1;for(;e+a<s&&t+a<l&&!o.get(t+a,e+a)&&i[3]<r;)i[3]++,a++;if(e+a>=s||t+a>=l||i[3]>=r)return!1;for(;e+a<s&&t+a<l&&o.get(t+a,e+a)&&i[4]<r;)i[4]++,a++;if(i[4]>=r)return!1;const c=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(c-n)<2*n&&Xt.foundPatternCross(i)}crossCheckVertical(e,t,r,n){const i=this.image,a=i.getHeight(),o=this.getCrossCheckStateCount();let s=e;for(;s>=0&&i.get(t,s);)o[2]++,s--;if(s<0)return NaN;for(;s>=0&&!i.get(t,s)&&o[1]<=r;)o[1]++,s--;if(s<0||o[1]>r)return NaN;for(;s>=0&&i.get(t,s)&&o[0]<=r;)o[0]++,s--;if(o[0]>r)return NaN;for(s=e+1;s<a&&i.get(t,s);)o[2]++,s++;if(s===a)return NaN;for(;s<a&&!i.get(t,s)&&o[3]<r;)o[3]++,s++;if(s===a||o[3]>=r)return NaN;for(;s<a&&i.get(t,s)&&o[4]<r;)o[4]++,s++;if(o[4]>=r)return NaN;const l=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(l-n)>=2*n?NaN:Xt.foundPatternCross(o)?Xt.centerFromEnd(o,s):NaN}crossCheckHorizontal(e,t,r,n){const i=this.image,a=i.getWidth(),o=this.getCrossCheckStateCount();let s=e;for(;s>=0&&i.get(s,t);)o[2]++,s--;if(s<0)return NaN;for(;s>=0&&!i.get(s,t)&&o[1]<=r;)o[1]++,s--;if(s<0||o[1]>r)return NaN;for(;s>=0&&i.get(s,t)&&o[0]<=r;)o[0]++,s--;if(o[0]>r)return NaN;for(s=e+1;s<a&&i.get(s,t);)o[2]++,s++;if(s===a)return NaN;for(;s<a&&!i.get(s,t)&&o[3]<r;)o[3]++,s++;if(s===a||o[3]>=r)return NaN;for(;s<a&&i.get(s,t)&&o[4]<r;)o[4]++,s++;if(o[4]>=r)return NaN;const l=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(l-n)>=n?NaN:Xt.foundPatternCross(o)?Xt.centerFromEnd(o,s):NaN}handlePossibleCenter(e,t,r,n){const i=e[0]+e[1]+e[2]+e[3]+e[4];let a=Xt.centerFromEnd(e,r),o=this.crossCheckVertical(t,Math.floor(a),e[2],i);if(!isNaN(o)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(o),e[2],i),!isNaN(a)&&(!n||this.crossCheckDiagonal(Math.floor(o),Math.floor(a),e[2],i)))){const e=i/7;let t=!1;const r=this.possibleCenters;for(let n=0,i=r.length;n<i;n++){const i=r[n];if(i.aboutEquals(e,o,a)){r[n]=i.combineEstimate(o,a,e),t=!0;break}}if(!t){const t=new Wt(a,o,e);r.push(t),null!==this.resultPointCallback&&void 0!==this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(t)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let e=null;for(const t of this.possibleCenters)if(t.getCount()>=Xt.CENTER_QUORUM){if(null!=e)return this.hasSkipped=!0,Math.floor((Math.abs(e.getX()-t.getX())-Math.abs(e.getY()-t.getY()))/2);e=t}return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const r=this.possibleCenters.length;for(const a of this.possibleCenters)a.getCount()>=Xt.CENTER_QUORUM&&(e++,t+=a.getEstimatedModuleSize());if(e<3)return!1;const n=t/r;let i=0;for(const a of this.possibleCenters)i+=Math.abs(a.getEstimatedModuleSize()-n);return i<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new M;const t=this.possibleCenters;let r;if(e>3){let n=0,i=0;for(const e of this.possibleCenters){const t=e.getEstimatedModuleSize();n+=t,i+=t*t}r=n/e;let a=Math.sqrt(i/e-r*r);t.sort((e,t)=>{const n=Math.abs(t.getEstimatedModuleSize()-r),i=Math.abs(e.getEstimatedModuleSize()-r);return n<i?-1:n>i?1:0});const o=Math.max(.2*r,a);for(let e=0;e<t.length&&t.length>3;e++){const n=t[e];Math.abs(n.getEstimatedModuleSize()-r)>o&&(t.splice(e,1),e--)}}if(t.length>3){let e=0;for(const r of t)e+=r.getEstimatedModuleSize();r=e/t.length,t.sort((e,t)=>{if(t.getCount()===e.getCount()){const n=Math.abs(t.getEstimatedModuleSize()-r),i=Math.abs(e.getEstimatedModuleSize()-r);return n<i?1:n>i?-1:0}return t.getCount()-e.getCount()}),t.splice(3)}return[t[0],t[1],t[2]]}}Xt.CENTER_QUORUM=2,Xt.MIN_SKIP=3,Xt.MAX_MODULES=57;class Kt{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=null==e?null:e.get(x.NEED_RESULT_POINT_CALLBACK);const t=new Xt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(t)}processFinderPatternInfo(e){const t=e.getTopLeft(),r=e.getTopRight(),n=e.getBottomLeft(),i=this.calculateModuleSize(t,r,n);if(i<1)throw new M("No pattern found in proccess finder.");const a=Kt.computeDimension(t,r,n,i),o=Dt.getProvisionalVersionForDimension(a),s=o.getDimensionForVersion()-7;let l=null;if(o.getAlignmentPatternCenters().length>0){const e=r.getX()-t.getX()+n.getX(),a=r.getY()-t.getY()+n.getY(),o=1-3/s,c=Math.floor(t.getX()+o*(e-t.getX())),u=Math.floor(t.getY()+o*(a-t.getY()));for(let t=4;t<=16;t<<=1)try{l=this.findAlignmentInRegion(i,c,u,t);break}catch(h){if(!(h instanceof M))throw h}}const c=Kt.createTransform(t,r,n,l,a),u=Kt.sampleGrid(this.image,c,a);let d;return d=null===l?[n,t,r]:[n,t,r,l],new ye(u,d)}static createTransform(e,t,r,n,i){const a=i-3.5;let o,s,l,c;return null!==n?(o=n.getX(),s=n.getY(),l=a-3,c=l):(o=t.getX()-e.getX()+r.getX(),s=t.getY()-e.getY()+r.getY(),l=a,c=a),Ee.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,l,c,3.5,a,e.getX(),e.getY(),t.getX(),t.getY(),o,s,r.getX(),r.getY())}static sampleGrid(e,t,r){return xe.getInstance().sampleGridWithTransform(e,r,r,t)}static computeDimension(e,t,r,n){const i=pe.round(me.distance(e,t)/n),a=pe.round(me.distance(e,r)/n);let o=Math.floor((i+a)/2)+7;switch(3&o){case 0:o++;break;case 2:o--;break;case 3:throw new M("Dimensions could be not found.")}return o}calculateModuleSize(e,t,r){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,r))/2}calculateModuleSizeOneWay(e,t){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(r)?n/7:isNaN(n)?r/7:(r+n)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,r,n){let i=this.sizeOfBlackWhiteBlackRun(e,t,r,n),a=1,o=e-(r-e);o<0?(a=e/(e-o),o=0):o>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(o-e),o=this.image.getWidth()-1);let s=Math.floor(t-(n-t)*a);return a=1,s<0?(a=t/(t-s),s=0):s>=this.image.getHeight()&&(a=(this.image.getHeight()-1-t)/(s-t),s=this.image.getHeight()-1),o=Math.floor(e+(o-e)*a),i+=this.sizeOfBlackWhiteBlackRun(e,t,o,s),i-1}sizeOfBlackWhiteBlackRun(e,t,r,n){const i=Math.abs(n-t)>Math.abs(r-e);if(i){let i=e;e=t,t=i,i=r,r=n,n=i}const a=Math.abs(r-e),o=Math.abs(n-t);let s=-a/2;const l=e<r?1:-1,c=t<n?1:-1;let u=0;const d=r+l;for(let h=e,f=t;h!==d;h+=l){const r=i?f:h,l=i?h:f;if(1===u===this.image.get(r,l)){if(2===u)return pe.distance(h,f,e,t);u++}if(s+=o,s>0){if(f===n)break;f+=c,s-=a}}return 2===u?pe.distance(r+l,n,e,t):NaN}findAlignmentInRegion(e,t,r,n){const i=Math.floor(n*e),a=Math.max(0,t-i),o=Math.min(this.image.getWidth()-1,t+i);if(o-a<3*e)throw new M("Alignment top exceeds estimated module size.");const s=Math.max(0,r-i),l=Math.min(this.image.getHeight()-1,r+i);if(l-s<3*e)throw new M("Alignment bottom exceeds estimated module size.");return new Vt(this.image,a,s,o-a,l-s,e,this.resultPointCallback).find()}}class Yt{constructor(){this.decoder=new zt}getDecoder(){return this.decoder}decode(e,t){let r,n;if(null!=t&&void 0!==t.get(x.PURE_BARCODE)){const i=Yt.extractPureBits(e.getBlackMatrix());r=this.decoder.decodeBitMatrix(i,t),n=Yt.NO_POINTS}else{const i=new Kt(e.getBlackMatrix()).detect(t);r=this.decoder.decodeBitMatrix(i.getBits(),t),n=i.getPoints()}r.getOther()instanceof Ut&&r.getOther().applyMirroredCorrection(n);const i=new V(r.getText(),r.getRawBytes(),void 0,n,X.QR_CODE,void 0),a=r.getByteSegments();null!==a&&i.putMetadata(ie.BYTE_SEGMENTS,a);const o=r.getECLevel();return null!==o&&i.putMetadata(ie.ERROR_CORRECTION_LEVEL,o),r.hasStructuredAppend()&&(i.putMetadata(ie.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),i.putMetadata(ie.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),i}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),r=e.getBottomRightOnBit();if(null===t||null===r)throw new M;const n=this.moduleSize(t,e);let i=t[1],a=r[1],o=t[0],s=r[0];if(o>=s||i>=a)throw new M;if(a-i!==s-o&&(s=o+(a-i),s>=e.getWidth()))throw new M;const l=Math.round((s-o+1)/n),c=Math.round((a-i+1)/n);if(l<=0||c<=0)throw new M;if(c!==l)throw new M;const u=Math.floor(n/2);i+=u,o+=u;const d=o+Math.floor((l-1)*n)-s;if(d>0){if(d>u)throw new M;o-=d}const h=i+Math.floor((c-1)*n)-a;if(h>0){if(h>u)throw new M;i-=h}const f=new R(l,c);for(let p=0;p<c;p++){const t=i+Math.floor(p*n);for(let r=0;r<l;r++)e.get(o+Math.floor(r*n),t)&&f.set(r,p)}return f}static moduleSize(e,t){const r=t.getHeight(),n=t.getWidth();let i=e[0],a=e[1],o=!0,s=0;for(;i<n&&a<r;){if(o!==t.get(i,a)){if(5===++s)break;o=!o}i++,a++}if(i===n||a===r)throw new M;return(i-e[0])/7}}Yt.NO_POINTS=new Array;class qt{PDF417Common(){}static getBitCountSum(e){return pe.sum(e)}static toIntArray(e){if(null==e||!e.length)return qt.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let r=0;for(const n of e)t[r++]=n;return t}static getCodeword(e){const t=v.binarySearch(qt.SYMBOL_TABLE,262143&e);return t<0?-1:(qt.CODEWORD_TABLE[t]-1)%qt.NUMBER_OF_CODEWORDS}}qt.NUMBER_OF_CODEWORDS=929,qt.MAX_CODEWORDS_IN_BARCODE=qt.NUMBER_OF_CODEWORDS-1,qt.MIN_ROWS_IN_BARCODE=3,qt.MAX_ROWS_IN_BARCODE=90,qt.MODULES_IN_CODEWORD=17,qt.MODULES_IN_STOP_PATTERN=18,qt.BARS_IN_MODULE=8,qt.EMPTY_INT_ARRAY=new Int32Array([]),qt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),qt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Zt{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class $t{static detectMultiple(e,t,r){let n=e.getBlackMatrix(),i=$t.detect(r,n);return i.length||(n=n.clone(),n.rotate180(),i=$t.detect(r,n)),new Zt(n,i)}static detect(e,t){const r=new Array;let n=0,i=0,a=!1;for(;n<t.getHeight();){const o=$t.findVertices(t,n,i);if(null!=o[0]||null!=o[3]){if(a=!0,r.push(o),!e)break;null!=o[2]?(i=Math.trunc(o[2].getX()),n=Math.trunc(o[2].getY())):(i=Math.trunc(o[4].getX()),n=Math.trunc(o[4].getY()))}else{if(!a)break;a=!1,i=0;for(const e of r)null!=e[1]&&(n=Math.trunc(Math.max(n,e[1].getY()))),null!=e[3]&&(n=Math.max(n,Math.trunc(e[3].getY())));n+=$t.ROW_STEP}}return r}static findVertices(e,t,r){const n=e.getHeight(),i=e.getWidth(),a=new Array(8);return $t.copyToResult(a,$t.findRowsWithPattern(e,n,i,t,r,$t.START_PATTERN),$t.INDEXES_START_PATTERN),null!=a[4]&&(r=Math.trunc(a[4].getX()),t=Math.trunc(a[4].getY())),$t.copyToResult(a,$t.findRowsWithPattern(e,n,i,t,r,$t.STOP_PATTERN),$t.INDEXES_STOP_PATTERN),a}static copyToResult(e,t,r){for(let n=0;n<r.length;n++)e[r[n]]=t[n]}static findRowsWithPattern(e,t,r,n,i,a){const o=new Array(4);let s=!1;const l=new Int32Array(a.length);for(;n<t;n+=$t.ROW_STEP){let t=$t.findGuardPattern(e,i,n,r,!1,a,l);if(null!=t){for(;n>0;){const o=$t.findGuardPattern(e,i,--n,r,!1,a,l);if(null==o){n++;break}t=o}o[0]=new me(t[0],n),o[1]=new me(t[1],n),s=!0;break}}let c=n+1;if(s){let n=0,i=Int32Array.from([Math.trunc(o[0].getX()),Math.trunc(o[1].getX())]);for(;c<t;c++){const t=$t.findGuardPattern(e,i[0],c,r,!1,a,l);if(null!=t&&Math.abs(i[0]-t[0])<$t.MAX_PATTERN_DRIFT&&Math.abs(i[1]-t[1])<$t.MAX_PATTERN_DRIFT)i=t,n=0;else{if(n>$t.SKIPPED_ROW_COUNT_MAX)break;n++}}c-=n+1,o[2]=new me(i[0],c),o[3]=new me(i[1],c)}return c-n<$t.BARCODE_MIN_HEIGHT&&v.fill(o,null),o}static findGuardPattern(e,t,r,n,i,a,o){v.fillWithin(o,0,o.length,0);let s=t,l=0;for(;e.get(s,r)&&s>0&&l++<$t.MAX_PIXEL_DRIFT;)s--;let c=s,u=0,d=a.length;for(let h=i;c<n;c++)if(e.get(c,r)!==h)o[u]++;else{if(u===d-1){if($t.patternMatchVariance(o,a,$t.MAX_INDIVIDUAL_VARIANCE)<$t.MAX_AVG_VARIANCE)return new Int32Array([s,c]);s+=o[0]+o[1],g.arraycopy(o,2,o,0,u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,h=!h}return u===d-1&&$t.patternMatchVariance(o,a,$t.MAX_INDIVIDUAL_VARIANCE)<$t.MAX_AVG_VARIANCE?new Int32Array([s,c-1]):null}static patternMatchVariance(e,t,r){let n=e.length,i=0,a=0;for(let l=0;l<n;l++)i+=e[l],a+=t[l];if(i<a)return 1/0;let o=i/a;r*=o;let s=0;for(let l=0;l<n;l++){let n=e[l],i=t[l]*o,a=n>i?n-i:i-n;if(a>r)return 1/0;s+=a}return s/i}}$t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),$t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),$t.MAX_AVG_VARIANCE=.42,$t.MAX_INDIVIDUAL_VARIANCE=.8,$t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),$t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),$t.MAX_PIXEL_DRIFT=3,$t.MAX_PATTERN_DRIFT=5,$t.SKIPPED_ROW_COUNT_MAX=25,$t.ROW_STEP=5,$t.BARCODE_MIN_HEIGHT=10;class Qt{constructor(e,t){if(0===t.length)throw new d;this.field=e;let r=t.length;if(r>1&&0===t[0]){let e=1;for(;e<r&&0===t[e];)e++;e===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-e),g.arraycopy(t,e,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(0===e)return this.getCoefficient(0);if(1===e){let e=0;for(let t of this.coefficients)e=this.field.add(e,t);return e}let t=this.coefficients[0],r=this.coefficients.length;for(let n=1;n<r;n++)t=this.field.add(this.field.multiply(e,t),this.coefficients[n]);return t}add(e){if(!this.field.equals(e.field))throw new d("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,r=e.coefficients;if(t.length>r.length){let e=t;t=r,r=e}let n=new Int32Array(r.length),i=r.length-t.length;g.arraycopy(r,0,n,0,i);for(let a=i;a<r.length;a++)n[a]=this.field.add(t[a-i],r[a]);return new Qt(this.field,n)}subtract(e){if(!this.field.equals(e.field))throw new d("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Qt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new d("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Qt(this.field,new Int32Array([0]));let t=this.coefficients,r=t.length,n=e.coefficients,i=n.length,a=new Int32Array(r+i-1);for(let o=0;o<r;o++){let e=t[o];for(let t=0;t<i;t++)a[o+t]=this.field.add(a[o+t],this.field.multiply(e,n[t]))}return new Qt(this.field,a)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=this.field.subtract(0,this.coefficients[r]);return new Qt(this.field,t)}multiplyScalar(e){if(0===e)return new Qt(this.field,new Int32Array([0]));if(1===e)return this;let t=this.coefficients.length,r=new Int32Array(t);for(let n=0;n<t;n++)r[n]=this.field.multiply(this.coefficients[n],e);return new Qt(this.field,r)}multiplyByMonomial(e,t){if(e<0)throw new d;if(0===t)return new Qt(this.field,new Int32Array([0]));let r=this.coefficients.length,n=new Int32Array(r+e);for(let i=0;i<r;i++)n[i]=this.field.multiply(this.coefficients[i],t);return new Qt(this.field,n)}toString(){let e=new P;for(let t=this.getDegree();t>=0;t--){let r=this.getCoefficient(t);0!==r&&(r<0?(e.append(" - "),r=-r):e.length()>0&&e.append(" + "),0!==t&&1===r||e.append(r),0!==t&&(1===t?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class Jt{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(0===e)throw new d;return this.logTable[e]}inverse(e){if(0===e)throw new le;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class er extends Jt{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let r=1;for(let n=0;n<e;n++)this.expTable[n]=r,r=r*t%e;for(let n=0;n<e-1;n++)this.logTable[this.expTable[n]]=n;this.zero=new Qt(this,new Int32Array([0])),this.one=new Qt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new d;if(0===t)return this.zero;let r=new Int32Array(e+1);return r[0]=t,new Qt(this,r)}}er.PDF417_GF=new er(qt.NUMBER_OF_CODEWORDS,3);class tr{constructor(){this.field=er.PDF417_GF}decode(e,t,r){let n=new Qt(this.field,e),i=new Int32Array(t),a=!1;for(let f=t;f>0;f--){let e=n.evaluateAt(this.field.exp(f));i[t-f]=e,0!==e&&(a=!0)}if(!a)return 0;let o=this.field.getOne();if(null!=r)for(const f of r){let t=this.field.exp(e.length-1-f),r=new Qt(this.field,new Int32Array([this.field.subtract(0,t),1]));o=o.multiply(r)}let s=new Qt(this.field,i),l=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),s,t),c=l[0],u=l[1],d=this.findErrorLocations(c),h=this.findErrorMagnitudes(u,c,d);for(let p=0;p<d.length;p++){let t=e.length-1-this.field.log(d[p]);if(t<0)throw f.getChecksumInstance();e[t]=this.field.subtract(e[t],h[p])}return d.length}runEuclideanAlgorithm(e,t,r){if(e.getDegree()<t.getDegree()){let r=e;e=t,t=r}let n=e,i=t,a=this.field.getZero(),o=this.field.getOne();for(;i.getDegree()>=Math.round(r/2);){let e=n,t=a;if(n=i,a=o,n.isZero())throw f.getChecksumInstance();i=e;let r=this.field.getZero(),s=n.getCoefficient(n.getDegree()),l=this.field.inverse(s);for(;i.getDegree()>=n.getDegree()&&!i.isZero();){let e=i.getDegree()-n.getDegree(),t=this.field.multiply(i.getCoefficient(i.getDegree()),l);r=r.add(this.field.buildMonomial(e,t)),i=i.subtract(n.multiplyByMonomial(e,t))}o=r.multiply(a).subtract(t).negative()}let s=o.getCoefficient(0);if(0===s)throw f.getChecksumInstance();let l=this.field.inverse(s);return[o.multiply(l),i.multiply(l)]}findErrorLocations(e){let t=e.getDegree(),r=new Int32Array(t),n=0;for(let i=1;i<this.field.getSize()&&n<t;i++)0===e.evaluateAt(i)&&(r[n]=this.field.inverse(i),n++);if(n!==t)throw f.getChecksumInstance();return r}findErrorMagnitudes(e,t,r){let n=t.getDegree(),i=new Int32Array(n);for(let l=1;l<=n;l++)i[n-l]=this.field.multiply(l,t.getCoefficient(l));let a=new Qt(this.field,i),o=r.length,s=new Int32Array(o);for(let l=0;l<o;l++){let t=this.field.inverse(r[l]),n=this.field.subtract(0,e.evaluateAt(t)),i=this.field.inverse(a.evaluateAt(t));s[l]=this.field.multiply(n,i)}return s}}class rr{constructor(e,t,r,n,i){e instanceof rr?this.constructor_2(e):this.constructor_1(e,t,r,n,i)}constructor_1(e,t,r,n,i){const a=null==t||null==r,o=null==n||null==i;if(a&&o)throw new M;a?(t=new me(0,n.getY()),r=new me(0,i.getY())):o&&(n=new me(e.getWidth()-1,t.getY()),i=new me(e.getWidth()-1,r.getY())),this.image=e,this.topLeft=t,this.bottomLeft=r,this.topRight=n,this.bottomRight=i,this.minX=Math.trunc(Math.min(t.getX(),r.getX())),this.maxX=Math.trunc(Math.max(n.getX(),i.getX())),this.minY=Math.trunc(Math.min(t.getY(),n.getY())),this.maxY=Math.trunc(Math.max(r.getY(),i.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return null==e?t:null==t?e:new rr(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,r){let n=this.topLeft,i=this.bottomLeft,a=this.topRight,o=this.bottomRight;if(e>0){let t=r?this.topLeft:this.topRight,i=Math.trunc(t.getY()-e);i<0&&(i=0);let o=new me(t.getX(),i);r?n=o:a=o}if(t>0){let e=r?this.bottomLeft:this.bottomRight,n=Math.trunc(e.getY()+t);n>=this.image.getHeight()&&(n=this.image.getHeight()-1);let a=new me(e.getX(),n);r?i=a:o=a}return new rr(this.image,n,i,a,o)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class nr{constructor(e,t,r,n){this.columnCount=e,this.errorCorrectionLevel=n,this.rowCountUpperPart=t,this.rowCountLowerPart=r,this.rowCount=t+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ir{constructor(){this.buffer=""}static form(e,t){let r=-1;function n(e,n,i,a,o,s){if("%%"===e)return"%";if(void 0===t[++r])return;e=a?parseInt(a.substr(1)):void 0;let l,c=o?parseInt(o.substr(1)):void 0;switch(s){case"s":l=t[r];break;case"c":l=t[r][0];break;case"f":l=parseFloat(t[r]).toFixed(e);break;case"p":l=parseFloat(t[r]).toPrecision(e);break;case"e":l=parseFloat(t[r]).toExponential(e);break;case"x":l=parseInt(t[r]).toString(c||16);break;case"d":l=parseFloat(parseInt(t[r],c||10).toPrecision(e)).toFixed(0)}l="object"==typeof l?JSON.stringify(l):(+l).toString(c);let u=parseInt(i),d=i&&i[0]+""=="0"?"0":" ";for(;l.length<u;)l=void 0!==n?l+d:d+l;return l}let i=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(i,n)}format(e,...t){this.buffer+=ir.form(e,t)}toString(){return this.buffer}}class ar{constructor(e){this.boundingBox=new rr(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(null!=t)return t;for(let r=1;r<ar.MAX_NEARBY_DISTANCE;r++){let n=this.imageRowToCodewordIndex(e)-r;if(n>=0&&(t=this.codewords[n],null!=t))return t;if(n=this.imageRowToCodewordIndex(e)+r,n<this.codewords.length&&(t=this.codewords[n],null!=t))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new ir;let t=0;for(const r of this.codewords)null!=r?e.format("%3d: %3d|%3d%n",t++,r.getRowNumber(),r.getValue()):e.format("%3d:    |   %n",t++);return e.toString()}}ar.MAX_NEARBY_DISTANCE=5;class or{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);null==t&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[r,n]of this.values.entries()){const i={getKey:()=>r,getValue:()=>n};i.getValue()>e?(e=i.getValue(),t=[],t.push(i.getKey())):i.getValue()===e&&t.push(i.getKey())}return qt.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class sr extends ar{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())null!=e&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let r=this.getBoundingBox(),n=this._isLeft?r.getTopLeft():r.getTopRight(),i=this._isLeft?r.getBottomLeft():r.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(n.getY())),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=-1,l=1,c=0;for(let u=a;u<o;u++){if(null==t[u])continue;let r=t[u],n=r.getRowNumber()-s;if(0===n)c++;else if(1===n)l=Math.max(l,c),c=1,s=r.getRowNumber();else if(n<0||r.getRowNumber()>=e.getRowCount()||n>u)t[u]=null;else{let e;e=l>2?(l-2)*n:n;let i=e>=u;for(let r=1;r<=e&&!i;r++)i=null!=t[u-r];i?t[u]=null:(s=r.getRowNumber(),c=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(null==e)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let r of this.getCodewords())if(null!=r){let e=r.getRowNumber();if(e>=t.length)continue;t[e]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),r=this._isLeft?t.getTopLeft():t.getTopRight(),n=this._isLeft?t.getBottomLeft():t.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(r.getY())),a=this.imageRowToCodewordIndex(Math.trunc(n.getY())),o=this.getCodewords(),s=-1;for(let l=i;l<a;l++){if(null==o[l])continue;let t=o[l];t.setRowNumberAsRowIndicatorColumn();let r=t.getRowNumber()-s;0===r||(1===r?s=t.getRowNumber():t.getRowNumber()>=e.getRowCount()?o[l]=null:s=t.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new or,r=new or,n=new or,i=new or;for(let o of e){if(null==o)continue;o.setRowNumberAsRowIndicatorColumn();let e=o.getValue()%30,a=o.getRowNumber();switch(this._isLeft||(a+=2),a%3){case 0:r.setValue(3*e+1);break;case 1:i.setValue(e/3),n.setValue(e%3);break;case 2:t.setValue(e+1)}}if(0===t.getValue().length||0===r.getValue().length||0===n.getValue().length||0===i.getValue().length||t.getValue()[0]<1||r.getValue()[0]+n.getValue()[0]<qt.MIN_ROWS_IN_BARCODE||r.getValue()[0]+n.getValue()[0]>qt.MAX_ROWS_IN_BARCODE)return null;let a=new nr(t.getValue()[0],r.getValue()[0],n.getValue()[0],i.getValue()[0]);return this.removeIncorrectCodewords(e,a),a}removeIncorrectCodewords(e,t){for(let r=0;r<e.length;r++){let n=e[r];if(null==e[r])continue;let i=n.getValue()%30,a=n.getRowNumber();if(a>t.getRowCount())e[r]=null;else switch(this._isLeft||(a+=2),a%3){case 0:3*i+1!==t.getRowCountUpperPart()&&(e[r]=null);break;case 1:Math.trunc(i/3)===t.getErrorCorrectionLevel()&&i%3===t.getRowCountLowerPart()||(e[r]=null);break;case 2:i+1!==t.getColumnCount()&&(e[r]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class lr{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e,t=qt.MAX_CODEWORDS_IN_BARCODE;do{e=t,t=this.adjustRowNumbersAndGetCount()}while(t>0&&t<e);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){null!=e&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(0===e)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let e=this.detectionResultColumns[t].getCodewords();for(let r=0;r<e.length;r++)null!=e[r]&&(e[r].hasValidRowNumber()||this.adjustRowNumbers(t,r,e))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<e.length;r++)if(null!=e[r]&&null!=t[r]&&e[r].getRowNumber()===t[r].getRowNumber())for(let t=1;t<=this.barcodeColumnCount;t++){let n=this.detectionResultColumns[t].getCodewords()[r];null!=n&&(n.setRowNumber(e[r].getRowNumber()),n.hasValidRowNumber()||(this.detectionResultColumns[t].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++){if(null==t[r])continue;let n=t[r].getRowNumber(),i=0;for(let t=this.barcodeColumnCount+1;t>0&&i<this.ADJUST_ROW_NUMBER_SKIP;t--){let a=this.detectionResultColumns[t].getCodewords()[r];null!=a&&(i=lr.adjustRowNumberIfValid(n,i,a),a.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let r=0;r<t.length;r++){if(null==t[r])continue;let n=t[r].getRowNumber(),i=0;for(let t=1;t<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;t++){let a=this.detectionResultColumns[t].getCodewords()[r];null!=a&&(i=lr.adjustRowNumberIfValid(n,i,a),a.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,r){return null==r||r.hasValidRowNumber()||(r.isValidRowNumber(e)?(r.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,r){if(!this.detectionResultColumns[e-1])return;let n=r[t],i=this.detectionResultColumns[e-1].getCodewords(),a=i;null!=this.detectionResultColumns[e+1]&&(a=this.detectionResultColumns[e+1].getCodewords());let o=new Array(14);o[2]=i[t],o[3]=a[t],t>0&&(o[0]=r[t-1],o[4]=i[t-1],o[5]=a[t-1]),t>1&&(o[8]=r[t-2],o[10]=i[t-2],o[11]=a[t-2]),t<r.length-1&&(o[1]=r[t+1],o[6]=i[t+1],o[7]=a[t+1]),t<r.length-2&&(o[9]=r[t+2],o[12]=i[t+2],o[13]=a[t+2]);for(let s of o)if(lr.adjustRowNumber(n,s))return}static adjustRowNumber(e,t){return!(null==t||!t.hasValidRowNumber()||t.getBucket()!==e.getBucket()||(e.setRowNumber(t.getRowNumber()),0))}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];null==e&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new ir;for(let r=0;r<e.getCodewords().length;r++){t.format("CW %3d:",r);for(let e=0;e<this.barcodeColumnCount+2;e++){if(null==this.detectionResultColumns[e]){t.format("    |   ");continue}let n=this.detectionResultColumns[e].getCodewords()[r];null!=n?t.format(" %3d|%3d",n.getRowNumber(),n.getValue()):t.format("    |   ")}t.format("%n")}return t.toString()}}class cr{constructor(e,t,r,n){this.rowNumber=cr.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(r),this.value=Math.trunc(n)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==cr.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}cr.BARCODE_ROW_UNKNOWN=-1;class ur{static initialize(){for(let e=0;e<qt.SYMBOL_TABLE.length;e++){let t=qt.SYMBOL_TABLE[e],r=1&t;for(let n=0;n<qt.BARS_IN_MODULE;n++){let i=0;for(;(1&t)===r;)i+=1,t>>=1;r=1&t,ur.RATIOS_TABLE[e]||(ur.RATIOS_TABLE[e]=new Array(qt.BARS_IN_MODULE)),ur.RATIOS_TABLE[e][qt.BARS_IN_MODULE-n-1]=Math.fround(i/qt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=ur.getDecodedCodewordValue(ur.sampleBitCounts(e));return-1!==t?t:ur.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=pe.sum(e),r=new Int32Array(qt.BARS_IN_MODULE),n=0,i=0;for(let a=0;a<qt.MODULES_IN_CODEWORD;a++){let o=t/(2*qt.MODULES_IN_CODEWORD)+a*t/qt.MODULES_IN_CODEWORD;i+e[n]<=o&&(i+=e[n],n++),r[n]++}return r}static getDecodedCodewordValue(e){let t=ur.getBitValue(e);return-1===qt.getCodeword(t)?-1:t}static getBitValue(e){let t=0;for(let r=0;r<e.length;r++)for(let n=0;n<e[r];n++)t=t<<1|(r%2==0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=pe.sum(e),r=new Array(qt.BARS_IN_MODULE);if(t>1)for(let a=0;a<r.length;a++)r[a]=Math.fround(e[a]/t);let n=ge.MAX_VALUE,i=-1;this.bSymbolTableReady||ur.initialize();for(let a=0;a<ur.RATIOS_TABLE.length;a++){let e=0,t=ur.RATIOS_TABLE[a];for(let i=0;i<qt.BARS_IN_MODULE;i++){let a=Math.fround(t[i]-r[i]);if(e+=Math.fround(a*a),e>=n)break}e<n&&(n=e,i=qt.SYMBOL_TABLE[a])}return i}}ur.bSymbolTableReady=!1,ur.RATIOS_TABLE=new Array(qt.SYMBOL_TABLE.length).map(e=>new Array(qt.BARS_IN_MODULE));class dr{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class hr{static parseLong(e,t=void 0){return parseInt(e,t)}}class fr extends c{}fr.kind="NullPointerException";class pr{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,r){if(null==e)throw new fr;if(t<0||t>e.length||r<0||t+r>e.length||t+r<0)throw new m;if(0!==r)for(let n=0;n<r;n++)this.write(e[t+n])}flush(){}close(){}}class gr extends c{}class mr extends pr{constructor(e=32){if(super(),this.count=0,e<0)throw new d("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let t=this.buf.length<<1;if(t-e<0&&(t=e),t<0){if(e<0)throw new gr;t=w.MAX_VALUE}this.buf=v.copyOfUint8Array(this.buf,t)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,r){if(t<0||t>e.length||r<0||t+r-e.length>0)throw new m;this.ensureCapacity(this.count+r),g.arraycopy(e,t,this.buf,this.count,r),this.count+=r}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return v.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?"string"==typeof e?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}function yr(){if("undefined"!=typeof window)return window.BigInt||null;if(void 0!==I)return I.BigInt||null;if("undefined"!=typeof self)return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let vr;function wr(e){if(void 0===vr&&(vr=yr()),null===vr)throw new Error("BigInt is not supported!");return vr(e)}function br(){let e=[];e[0]=wr(1);let t=wr(900);e[1]=t;for(let r=2;r<16;r++)e[r]=e[r-1]*t;return e}!function(e){e[e.ALPHA=0]="ALPHA",e[e.LOWER=1]="LOWER",e[e.MIXED=2]="MIXED",e[e.PUNCT=3]="PUNCT",e[e.ALPHA_SHIFT=4]="ALPHA_SHIFT",e[e.PUNCT_SHIFT=5]="PUNCT_SHIFT"}(Q||(Q={}));class Er{static decode(e,t){let r=new P(""),n=S.ISO8859_1;r.enableDecoding(n);let i=1,a=e[i++],o=new dr;for(;i<e[0];){switch(a){case Er.TEXT_COMPACTION_MODE_LATCH:i=Er.textCompaction(e,i,r);break;case Er.BYTE_COMPACTION_MODE_LATCH:case Er.BYTE_COMPACTION_MODE_LATCH_6:i=Er.byteCompaction(a,e,n,i,r);break;case Er.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(e[i++]);break;case Er.NUMERIC_COMPACTION_MODE_LATCH:i=Er.numericCompaction(e,i,r);break;case Er.ECI_CHARSET:S.getCharacterSetECIByValue(e[i++]);break;case Er.ECI_GENERAL_PURPOSE:i+=2;break;case Er.ECI_USER_DEFINED:i++;break;case Er.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=Er.decodeMacroBlock(e,i,o);break;case Er.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Er.MACRO_PDF417_TERMINATOR:throw new C;default:i--,i=Er.textCompaction(e,i,r)}if(!(i<e.length))throw C.getFormatInstance();a=e[i++]}if(0===r.length())throw C.getFormatInstance();let s=new ae(null,r.toString(),null,t);return s.setOther(o),s}static decodeMacroBlock(e,t,r){if(t+Er.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw C.getFormatInstance();let n=new Int32Array(Er.NUMBER_OF_SEQUENCE_CODEWORDS);for(let o=0;o<Er.NUMBER_OF_SEQUENCE_CODEWORDS;o++,t++)n[o]=e[t];r.setSegmentIndex(w.parseInt(Er.decodeBase900toBase10(n,Er.NUMBER_OF_SEQUENCE_CODEWORDS)));let i=new P;t=Er.textCompaction(e,t,i),r.setFileId(i.toString());let a=-1;for(e[t]===Er.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=t+1);t<e[0];)switch(e[t]){case Er.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(e[++t]){case Er.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let n=new P;t=Er.textCompaction(e,t+1,n),r.setFileName(n.toString());break;case Er.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let i=new P;t=Er.textCompaction(e,t+1,i),r.setSender(i.toString());break;case Er.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let a=new P;t=Er.textCompaction(e,t+1,a),r.setAddressee(a.toString());break;case Er.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let o=new P;t=Er.numericCompaction(e,t+1,o),r.setSegmentCount(w.parseInt(o.toString()));break;case Er.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let s=new P;t=Er.numericCompaction(e,t+1,s),r.setTimestamp(hr.parseLong(s.toString()));break;case Er.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let l=new P;t=Er.numericCompaction(e,t+1,l),r.setChecksum(w.parseInt(l.toString()));break;case Er.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let c=new P;t=Er.numericCompaction(e,t+1,c),r.setFileSize(hr.parseLong(c.toString()));break;default:throw C.getFormatInstance()}break;case Er.MACRO_PDF417_TERMINATOR:t++,r.setLastSegment(!0);break;default:throw C.getFormatInstance()}if(-1!==a){let n=t-a;r.isLastSegment()&&n--,r.setOptionalData(v.copyOfRange(e,a,a+n))}return t}static textCompaction(e,t,r){let n=new Int32Array(2*(e[0]-t)),i=new Int32Array(2*(e[0]-t)),a=0,o=!1;for(;t<e[0]&&!o;){let r=e[t++];if(r<Er.TEXT_COMPACTION_MODE_LATCH)n[a]=r/30,n[a+1]=r%30,a+=2;else switch(r){case Er.TEXT_COMPACTION_MODE_LATCH:n[a++]=Er.TEXT_COMPACTION_MODE_LATCH;break;case Er.BYTE_COMPACTION_MODE_LATCH:case Er.BYTE_COMPACTION_MODE_LATCH_6:case Er.NUMERIC_COMPACTION_MODE_LATCH:case Er.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Er.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Er.MACRO_PDF417_TERMINATOR:t--,o=!0;break;case Er.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n[a]=Er.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,r=e[t++],i[a]=r,a++}}return Er.decodeTextCompaction(n,i,a,r),t}static decodeTextCompaction(e,t,r,n){let i=Q.ALPHA,a=Q.ALPHA,o=0;for(;o<r;){let r=e[o],s="";switch(i){case Q.ALPHA:if(r<26)s=String.fromCharCode(65+r);else switch(r){case 26:s=" ";break;case Er.LL:i=Q.LOWER;break;case Er.ML:i=Q.MIXED;break;case Er.PS:a=i,i=Q.PUNCT_SHIFT;break;case Er.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[o]);break;case Er.TEXT_COMPACTION_MODE_LATCH:i=Q.ALPHA}break;case Q.LOWER:if(r<26)s=String.fromCharCode(97+r);else switch(r){case 26:s=" ";break;case Er.AS:a=i,i=Q.ALPHA_SHIFT;break;case Er.ML:i=Q.MIXED;break;case Er.PS:a=i,i=Q.PUNCT_SHIFT;break;case Er.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[o]);break;case Er.TEXT_COMPACTION_MODE_LATCH:i=Q.ALPHA}break;case Q.MIXED:if(r<Er.PL)s=Er.MIXED_CHARS[r];else switch(r){case Er.PL:i=Q.PUNCT;break;case 26:s=" ";break;case Er.LL:i=Q.LOWER;break;case Er.AL:i=Q.ALPHA;break;case Er.PS:a=i,i=Q.PUNCT_SHIFT;break;case Er.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[o]);break;case Er.TEXT_COMPACTION_MODE_LATCH:i=Q.ALPHA}break;case Q.PUNCT:if(r<Er.PAL)s=Er.PUNCT_CHARS[r];else switch(r){case Er.PAL:i=Q.ALPHA;break;case Er.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[o]);break;case Er.TEXT_COMPACTION_MODE_LATCH:i=Q.ALPHA}break;case Q.ALPHA_SHIFT:if(i=a,r<26)s=String.fromCharCode(65+r);else switch(r){case 26:s=" ";break;case Er.TEXT_COMPACTION_MODE_LATCH:i=Q.ALPHA}break;case Q.PUNCT_SHIFT:if(i=a,r<Er.PAL)s=Er.PUNCT_CHARS[r];else switch(r){case Er.PAL:i=Q.ALPHA;break;case Er.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(t[o]);break;case Er.TEXT_COMPACTION_MODE_LATCH:i=Q.ALPHA}}""!==s&&n.append(s),o++}}static byteCompaction(e,t,r,n,i){let a=new mr,o=0,s=0,l=!1;switch(e){case Er.BYTE_COMPACTION_MODE_LATCH:let e=new Int32Array(6),r=t[n++];for(;n<t[0]&&!l;)switch(e[o++]=r,s=900*s+r,r=t[n++],r){case Er.TEXT_COMPACTION_MODE_LATCH:case Er.BYTE_COMPACTION_MODE_LATCH:case Er.NUMERIC_COMPACTION_MODE_LATCH:case Er.BYTE_COMPACTION_MODE_LATCH_6:case Er.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Er.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Er.MACRO_PDF417_TERMINATOR:n--,l=!0;break;default:if(o%5==0&&o>0){for(let e=0;e<6;++e)a.write(Number(wr(s)>>wr(8*(5-e))));s=0,o=0}}n===t[0]&&r<Er.TEXT_COMPACTION_MODE_LATCH&&(e[o++]=r);for(let t=0;t<o;t++)a.write(e[t]);break;case Er.BYTE_COMPACTION_MODE_LATCH_6:for(;n<t[0]&&!l;){let e=t[n++];if(e<Er.TEXT_COMPACTION_MODE_LATCH)o++,s=900*s+e;else switch(e){case Er.TEXT_COMPACTION_MODE_LATCH:case Er.BYTE_COMPACTION_MODE_LATCH:case Er.NUMERIC_COMPACTION_MODE_LATCH:case Er.BYTE_COMPACTION_MODE_LATCH_6:case Er.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Er.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Er.MACRO_PDF417_TERMINATOR:n--,l=!0}if(o%5==0&&o>0){for(let e=0;e<6;++e)a.write(Number(wr(s)>>wr(8*(5-e))));s=0,o=0}}}return i.append(O.decode(a.toByteArray(),r)),n}static numericCompaction(e,t,r){let n=0,i=!1,a=new Int32Array(Er.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!i;){let o=e[t++];if(t===e[0]&&(i=!0),o<Er.TEXT_COMPACTION_MODE_LATCH)a[n]=o,n++;else switch(o){case Er.TEXT_COMPACTION_MODE_LATCH:case Er.BYTE_COMPACTION_MODE_LATCH:case Er.BYTE_COMPACTION_MODE_LATCH_6:case Er.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Er.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Er.MACRO_PDF417_TERMINATOR:t--,i=!0}(n%Er.MAX_NUMERIC_CODEWORDS===0||o===Er.NUMERIC_COMPACTION_MODE_LATCH||i)&&n>0&&(r.append(Er.decodeBase900toBase10(a,n)),n=0)}return t}static decodeBase900toBase10(e,t){let r=wr(0);for(let i=0;i<t;i++)r+=Er.EXP900[t-i-1]*wr(e[i]);let n=r.toString();if("1"!==n.charAt(0))throw new C;return n.substring(1)}}Er.TEXT_COMPACTION_MODE_LATCH=900,Er.BYTE_COMPACTION_MODE_LATCH=901,Er.NUMERIC_COMPACTION_MODE_LATCH=902,Er.BYTE_COMPACTION_MODE_LATCH_6=924,Er.ECI_USER_DEFINED=925,Er.ECI_GENERAL_PURPOSE=926,Er.ECI_CHARSET=927,Er.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Er.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Er.MACRO_PDF417_TERMINATOR=922,Er.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Er.MAX_NUMERIC_CODEWORDS=15,Er.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Er.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Er.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Er.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Er.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Er.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Er.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Er.PL=25,Er.LL=27,Er.AS=27,Er.ML=28,Er.AL=28,Er.PS=29,Er.PAL=29,Er.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",Er.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",Er.EXP900=yr()?br():[],Er.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ar{constructor(){}static decode(e,t,r,n,i,a,o){let s,l=new rr(e,t,r,n,i),c=null,u=null;for(let f=!0;;f=!1){if(null!=t&&(c=Ar.getRowIndicatorColumn(e,l,t,!0,a,o)),null!=n&&(u=Ar.getRowIndicatorColumn(e,l,n,!1,a,o)),s=Ar.merge(c,u),null==s)throw M.getNotFoundInstance();let r=s.getBoundingBox();if(!f||null==r||!(r.getMinY()<l.getMinY()||r.getMaxY()>l.getMaxY()))break;l=r}s.setBoundingBox(l);let d=s.getBarcodeColumnCount()+1;s.setDetectionResultColumn(0,c),s.setDetectionResultColumn(d,u);let h=null!=c;for(let f=1;f<=d;f++){let t,r=h?f:d-f;if(void 0!==s.getDetectionResultColumn(r))continue;t=0===r||r===d?new sr(l,0===r):new ar(l),s.setDetectionResultColumn(r,t);let n=-1,i=n;for(let c=l.getMinY();c<=l.getMaxY();c++){if(n=Ar.getStartColumn(s,r,c,h),n<0||n>l.getMaxX()){if(-1===i)continue;n=i}let u=Ar.detectCodeword(e,l.getMinX(),l.getMaxX(),h,n,c,a,o);null!=u&&(t.setCodeword(c,u),i=n,a=Math.min(a,u.getWidth()),o=Math.max(o,u.getWidth()))}}return Ar.createDecoderResult(s)}static merge(e,t){if(null==e&&null==t)return null;let r=Ar.getBarcodeMetadata(e,t);if(null==r)return null;let n=rr.merge(Ar.adjustBoundingBox(e),Ar.adjustBoundingBox(t));return new lr(r,n)}static adjustBoundingBox(e){if(null==e)return null;let t=e.getRowHeights();if(null==t)return null;let r=Ar.getMax(t),n=0;for(let o of t)if(n+=r-o,o>0)break;let i=e.getCodewords();for(let o=0;n>0&&null==i[o];o++)n--;let a=0;for(let o=t.length-1;o>=0&&(a+=r-t[o],!(t[o]>0));o--);for(let o=i.length-1;a>0&&null==i[o];o--)a--;return e.getBoundingBox().addMissingRows(n,a,e.isLeft())}static getMax(e){let t=-1;for(let r of e)t=Math.max(t,r);return t}static getBarcodeMetadata(e,t){let r,n;return null==e||null==(r=e.getBarcodeMetadata())?null==t?null:t.getBarcodeMetadata():null==t||null==(n=t.getBarcodeMetadata())?r:r.getColumnCount()!==n.getColumnCount()&&r.getErrorCorrectionLevel()!==n.getErrorCorrectionLevel()&&r.getRowCount()!==n.getRowCount()?null:r}static getRowIndicatorColumn(e,t,r,n,i,a){let o=new sr(t,n);for(let s=0;s<2;s++){let l=0===s?1:-1,c=Math.trunc(Math.trunc(r.getX()));for(let s=Math.trunc(Math.trunc(r.getY()));s<=t.getMaxY()&&s>=t.getMinY();s+=l){let t=Ar.detectCodeword(e,0,e.getWidth(),n,c,s,i,a);null!=t&&(o.setCodeword(s,t),c=n?t.getStartX():t.getEndX())}}return o}static adjustCodewordCount(e,t){let r=t[0][1],n=r.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Ar.getNumberOfECCodeWords(e.getBarcodeECLevel());if(0===n.length){if(i<1||i>qt.MAX_CODEWORDS_IN_BARCODE)throw M.getNotFoundInstance();r.setValue(i)}else n[0]!==i&&r.setValue(i)}static createDecoderResult(e){let t=Ar.createBarcodeMatrix(e);Ar.adjustCodewordCount(e,t);let r=new Array,n=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],a=new Array;for(let s=0;s<e.getBarcodeRowCount();s++)for(let o=0;o<e.getBarcodeColumnCount();o++){let l=t[s][o+1].getValue(),c=s*e.getBarcodeColumnCount()+o;0===l.length?r.push(c):1===l.length?n[c]=l[0]:(a.push(c),i.push(l))}let o=new Array(i.length);for(let s=0;s<o.length;s++)o[s]=i[s];return Ar.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),n,qt.toIntArray(r),qt.toIntArray(a),o)}static createDecoderResultFromAmbiguousValues(e,t,r,n,i){let a=new Int32Array(n.length),o=100;for(;o-- >0;){for(let e=0;e<a.length;e++)t[n[e]]=i[e][a[e]];try{return Ar.decodeCodewords(t,e,r)}catch(s){if(!(s instanceof f))throw s}if(0===a.length)throw f.getChecksumInstance();for(let e=0;e<a.length;e++){if(a[e]<i[e].length-1){a[e]++;break}if(a[e]=0,e===a.length-1)throw f.getChecksumInstance()}}throw f.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let n=0;n<t.length;n++)for(let e=0;e<t[n].length;e++)t[n][e]=new or;let r=0;for(let n of e.getDetectionResultColumns()){if(null!=n)for(let e of n.getCodewords())if(null!=e){let n=e.getRowNumber();if(n>=0){if(n>=t.length)continue;t[n][r].setValue(e.getValue())}}r++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,r,n){let i=n?1:-1,a=null;if(Ar.isValidBarcodeColumn(e,t-i)&&(a=e.getDetectionResultColumn(t-i).getCodeword(r)),null!=a)return n?a.getEndX():a.getStartX();if(a=e.getDetectionResultColumn(t).getCodewordNearby(r),null!=a)return n?a.getStartX():a.getEndX();if(Ar.isValidBarcodeColumn(e,t-i)&&(a=e.getDetectionResultColumn(t-i).getCodewordNearby(r)),null!=a)return n?a.getEndX():a.getStartX();let o=0;for(;Ar.isValidBarcodeColumn(e,t-i);){t-=i;for(let r of e.getDetectionResultColumn(t).getCodewords())if(null!=r)return(n?r.getEndX():r.getStartX())+i*o*(r.getEndX()-r.getStartX());o++}return n?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,r,n,i,a,o,s){i=Ar.adjustCodewordStartColumn(e,t,r,n,i,a);let l,c=Ar.getModuleBitCount(e,t,r,n,i,a);if(null==c)return null;let u=pe.sum(c);if(n)l=i+u;else{for(let e=0;e<c.length/2;e++){let t=c[e];c[e]=c[c.length-1-e],c[c.length-1-e]=t}l=i,i=l-u}if(!Ar.checkCodewordSkew(u,o,s))return null;let d=ur.getDecodedValue(c),h=qt.getCodeword(d);return-1===h?null:new cr(i,l,Ar.getCodewordBucketNumber(d),h)}static getModuleBitCount(e,t,r,n,i,a){let o=i,s=new Int32Array(8),l=0,c=n?1:-1,u=n;for(;(n?o<r:o>=t)&&l<s.length;)e.get(o,a)===u?(s[l]++,o+=c):(l++,u=!u);return l===s.length||o===(n?r:t)&&l===s.length-1?s:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,r,n,i,a){let o=i,s=n?-1:1;for(let l=0;l<2;l++){for(;(n?o>=t:o<r)&&n===e.get(o,a);){if(Math.abs(i-o)>Ar.CODEWORD_SKEW_SIZE)return i;o+=s}s=-s,n=!n}return o}static checkCodewordSkew(e,t,r){return t-Ar.CODEWORD_SKEW_SIZE<=e&&e<=r+Ar.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,r){if(0===e.length)throw C.getFormatInstance();let n=1<<t+1,i=Ar.correctErrors(e,r,n);Ar.verifyCodewordCount(e,n);let a=Er.decode(e,""+t);return a.setErrorsCorrected(i),a.setErasures(r.length),a}static correctErrors(e,t,r){if(null!=t&&t.length>r/2+Ar.MAX_ERRORS||r<0||r>Ar.MAX_EC_CODEWORDS)throw f.getChecksumInstance();return Ar.errorCorrection.decode(e,r,t)}static verifyCodewordCount(e,t){if(e.length<4)throw C.getFormatInstance();let r=e[0];if(r>e.length)throw C.getFormatInstance();if(0===r){if(!(t<e.length))throw C.getFormatInstance();e[0]=e.length-t}}static getBitCountForCodeword(e){let t=new Int32Array(8),r=0,n=t.length-1;for(;!((1&e)!==r&&(r=1&e,n--,n<0));)t[n]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Ar.getCodewordBucketNumber(Ar.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new ir;for(let r=0;r<e.length;r++){t.format("Row %2d: ",r);for(let n=0;n<e[r].length;n++){let i=e[r][n];0===i.getValue().length?t.format("        ",null):t.format("%4d(%2d)",i.getValue()[0],i.getConfidence(i.getValue()[0]))}t.format("%n")}return t.toString()}}Ar.CODEWORD_SKEW_SIZE=2,Ar.MAX_ERRORS=3,Ar.MAX_EC_CODEWORDS=512,Ar.errorCorrection=new tr;class xr{decode(e,t=null){let r=xr.decode(e,t,!1);if(null==r||0===r.length||null==r[0])throw M.getNotFoundInstance();return r[0]}decodeMultiple(e,t=null){try{return xr.decode(e,t,!0)}catch(r){if(r instanceof C||r instanceof f)throw M.getNotFoundInstance();throw r}}static decode(e,t,r){const n=new Array,i=$t.detectMultiple(e,t,r);for(const a of i.getPoints()){const e=Ar.decode(i.getBits(),a[4],a[5],a[6],a[7],xr.getMinCodewordWidth(a),xr.getMaxCodewordWidth(a)),t=new V(e.getText(),e.getRawBytes(),void 0,a,X.PDF_417);t.putMetadata(ie.ERROR_CORRECTION_LEVEL,e.getECLevel());const r=e.getOther();null!=r&&t.putMetadata(ie.PDF417_EXTRA_METADATA,r),n.push(t)}return n.map(e=>e)}static getMaxWidth(e,t){return null==e||null==t?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return null==e||null==t?w.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(xr.getMaxWidth(e[0],e[4]),xr.getMaxWidth(e[6],e[2])*qt.MODULES_IN_CODEWORD/qt.MODULES_IN_STOP_PATTERN),Math.max(xr.getMaxWidth(e[1],e[5]),xr.getMaxWidth(e[7],e[3])*qt.MODULES_IN_CODEWORD/qt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(xr.getMinWidth(e[0],e[4]),xr.getMinWidth(e[6],e[2])*qt.MODULES_IN_CODEWORD/qt.MODULES_IN_STOP_PATTERN),Math.min(xr.getMinWidth(e[1],e[5]),xr.getMinWidth(e[7],e[3])*qt.MODULES_IN_CODEWORD/qt.MODULES_IN_STOP_PATTERN)))}reset(){}}class Cr extends c{}Cr.kind="ReaderException";class Sr{constructor(e,t){this.verbose=!0===e,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return null!==this.readers&&void 0!==this.readers||this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const r=!t(e)&&!0===e.get(x.TRY_HARDER),n=t(e)?null:e.get(x.POSSIBLE_FORMATS),i=new Array;if(!t(n)){const t=n.some(e=>e===X.UPC_A||e===X.UPC_E||e===X.EAN_13||e===X.EAN_8||e===X.CODABAR||e===X.CODE_39||e===X.CODE_93||e===X.CODE_128||e===X.ITF||e===X.RSS_14||e===X.RSS_EXPANDED);t&&!r&&i.push(new yt(e,this.verbose)),n.includes(X.QR_CODE)&&i.push(new Yt),n.includes(X.DATA_MATRIX)&&i.push(new Ot),n.includes(X.AZTEC)&&i.push(new _e),n.includes(X.PDF_417)&&i.push(new xr),t&&r&&i.push(new yt(e,this.verbose))}0===i.length&&(r||i.push(new yt(e,this.verbose)),i.push(new Yt),i.push(new Ot),i.push(new _e),i.push(new xr),r&&i.push(new yt(e,this.verbose))),this.readers=i}reset(){if(null!==this.readers)for(const e of this.readers)e.reset()}decodeInternal(e){if(null===this.readers)throw new Cr("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(e,this.hints)}catch(t){if(t instanceof Cr)continue}throw new M("No MultiFormat Readers were able to detect the code.")}}class _r extends H{constructor(e=null,t=500){const r=new Sr;r.setHints(e),super(r,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Ir extends H{constructor(e=500){super(new xr,e)}}class Or extends H{constructor(e=500){super(new Yt,e)}}var Tr,Pr;(Pr=Tr||(Tr={}))[Pr.ERROR_CORRECTION=0]="ERROR_CORRECTION",Pr[Pr.CHARACTER_SET=1]="CHARACTER_SET",Pr[Pr.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",Pr[Pr.MIN_SIZE=3]="MIN_SIZE",Pr[Pr.MAX_SIZE=4]="MAX_SIZE",Pr[Pr.MARGIN=5]="MARGIN",Pr[Pr.PDF417_COMPACT=6]="PDF417_COMPACT",Pr[Pr.PDF417_COMPACTION=7]="PDF417_COMPACTION",Pr[Pr.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",Pr[Pr.AZTEC_LAYERS=9]="AZTEC_LAYERS",Pr[Pr.QR_VERSION=10]="QR_VERSION";var Rr=Tr;class Mr{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new se(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let r=t[t.length-1];const n=this.field;for(let i=t.length;i<=e;i++){const e=r.multiply(new se(n,Int32Array.from([1,n.exp(i-1+n.getGeneratorBase())])));t.push(e),r=e}}return t[e]}encode(e,t){if(0===t)throw new d("No error correction bytes");const r=e.length-t;if(r<=0)throw new d("No data bytes provided");const n=this.buildGenerator(t),i=new Int32Array(r);g.arraycopy(e,0,i,0,r);let a=new se(this.field,i);a=a.multiplyByMonomial(t,1);const o=a.divide(n)[1].getCoefficients(),s=t-o.length;for(let l=0;l<s;l++)e[r+l]=0;g.arraycopy(o,0,e,r+s,o.length)}}class Nr{constructor(){}static applyMaskPenaltyRule1(e){return Nr.applyMaskPenaltyRule1Internal(e,!0)+Nr.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let a=0;a<i-1;a++){const e=r[a];for(let i=0;i<n-1;i++){const n=e[i];n===e[i+1]&&n===r[a+1][i]&&n===r[a+1][i+1]&&t++}}return Nr.N2*t}static applyMaskPenaltyRule3(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let a=0;a<i;a++)for(let e=0;e<n;e++){const o=r[a];e+6<n&&1===o[e]&&0===o[e+1]&&1===o[e+2]&&1===o[e+3]&&1===o[e+4]&&0===o[e+5]&&1===o[e+6]&&(Nr.isWhiteHorizontal(o,e-4,e)||Nr.isWhiteHorizontal(o,e+7,e+11))&&t++,a+6<i&&1===r[a][e]&&0===r[a+1][e]&&1===r[a+2][e]&&1===r[a+3][e]&&1===r[a+4][e]&&0===r[a+5][e]&&1===r[a+6][e]&&(Nr.isWhiteVertical(r,e,a-4,a)||Nr.isWhiteVertical(r,e,a+7,a+11))&&t++}return t*Nr.N3}static isWhiteHorizontal(e,t,r){t=Math.max(t,0),r=Math.min(r,e.length);for(let n=t;n<r;n++)if(1===e[n])return!1;return!0}static isWhiteVertical(e,t,r,n){r=Math.max(r,0),n=Math.min(n,e.length);for(let i=r;i<n;i++)if(1===e[i][t])return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const r=e.getArray(),n=e.getWidth(),i=e.getHeight();for(let o=0;o<i;o++){const e=r[o];for(let r=0;r<n;r++)1===e[r]&&t++}const a=e.getHeight()*e.getWidth();return Math.floor(10*Math.abs(2*t-a)/a)*Nr.N4}static getDataMaskBit(e,t,r){let n,i;switch(e){case 0:n=r+t&1;break;case 1:n=1&r;break;case 2:n=t%3;break;case 3:n=(r+t)%3;break;case 4:n=Math.floor(r/2)+Math.floor(t/3)&1;break;case 5:i=r*t,n=(1&i)+i%3;break;case 6:i=r*t,n=(1&i)+i%3&1;break;case 7:i=r*t,n=i%3+(r+t&1)&1;break;default:throw new d("Invalid mask pattern: "+e)}return 0===n}static applyMaskPenaltyRule1Internal(e,t){let r=0;const n=t?e.getHeight():e.getWidth(),i=t?e.getWidth():e.getHeight(),a=e.getArray();for(let o=0;o<n;o++){let e=0,n=-1;for(let s=0;s<i;s++){const i=t?a[o][s]:a[s][o];i===n?e++:(e>=5&&(r+=Nr.N1+(e-5)),e=1,n=i)}e>=5&&(r+=Nr.N1+(e-5))}return r}}Nr.N1=3,Nr.N2=3,Nr.N3=40,Nr.N4=10;class Dr{constructor(e,t){this.width=e,this.height=t;const r=new Array(t);for(let n=0;n!==t;n++)r[n]=new Uint8Array(e);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,r){this.bytes[t][e]=r}setBoolean(e,t,r){this.bytes[t][e]=r?1:0}clear(e){for(const t of this.bytes)v.fill(t,e)}equals(e){if(!(e instanceof Dr))return!1;const t=e;if(this.width!==t.width)return!1;if(this.height!==t.height)return!1;for(let r=0,n=this.height;r<n;++r){const e=this.bytes[r],n=t.bytes[r];for(let t=0,r=this.width;t<r;++t)if(e[t]!==n[t])return!1}return!0}toString(){const e=new P;for(let t=0,r=this.height;t<r;++t){const r=this.bytes[t];for(let t=0,n=this.width;t<n;++t)switch(r[t]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ")}e.append("\n")}return e.toString()}}class jr{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new P;return e.append("<<\n"),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append("\n ecLevel: "),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append("\n version: "),e.append(this.version?this.version.toString():"null"),e.append("\n maskPattern: "),e.append(this.maskPattern.toString()),this.matrix?(e.append("\n matrix:\n"),e.append(this.matrix.toString())):e.append("\n matrix: null\n"),e.append(">>\n"),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<jr.NUM_MASK_PATTERNS}}jr.NUM_MASK_PATTERNS=8;class kr extends c{}kr.kind="WriterException";class Br{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,r,n,i){Br.clearMatrix(i),Br.embedBasicPatterns(r,i),Br.embedTypeInfo(t,n,i),Br.maybeEmbedVersionInfo(r,i),Br.embedDataBits(e,n,i)}static embedBasicPatterns(e,t){Br.embedPositionDetectionPatternsAndSeparators(t),Br.embedDarkDotAtLeftBottomCorner(t),Br.maybeEmbedPositionAdjustmentPatterns(e,t),Br.embedTimingPatterns(t)}static embedTypeInfo(e,t,r){const n=new b;Br.makeTypeInfoBits(e,t,n);for(let i=0,a=n.getSize();i<a;++i){const e=n.get(n.getSize()-1-i),t=Br.TYPE_INFO_COORDINATES[i],a=t[0],o=t[1];if(r.setBoolean(a,o,e),i<8){const t=r.getWidth()-i-1,n=8;r.setBoolean(t,n,e)}else{const t=8,n=r.getHeight()-7+(i-8);r.setBoolean(t,n,e)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const r=new b;Br.makeVersionInfoBits(e,r);let n=17;for(let i=0;i<6;++i)for(let e=0;e<3;++e){const a=r.get(n);n--,t.setBoolean(i,t.getHeight()-11+e,a),t.setBoolean(t.getHeight()-11+e,i,a)}}static embedDataBits(e,t,r){let n=0,i=-1,a=r.getWidth()-1,o=r.getHeight()-1;for(;a>0;){for(6===a&&(a-=1);o>=0&&o<r.getHeight();){for(let i=0;i<2;++i){const s=a-i;if(!Br.isEmpty(r.get(s,o)))continue;let l;n<e.getSize()?(l=e.get(n),++n):l=!1,255!==t&&Nr.getDataMaskBit(t,s,o)&&(l=!l),r.setBoolean(s,o,l)}o+=i}i=-i,o+=i,a-=2}if(n!==e.getSize())throw new kr("Not all bits consumed: "+n+"/"+e.getSize())}static findMSBSet(e){return 32-w.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(0===t)throw new d("0 polynomial");const r=Br.findMSBSet(t);for(e<<=r-1;Br.findMSBSet(e)>=r;)e^=t<<Br.findMSBSet(e)-r;return e}static makeTypeInfoBits(e,t,r){if(!jr.isValidMaskPattern(t))throw new kr("Invalid mask pattern");const n=e.getBits()<<3|t;r.appendBits(n,5);const i=Br.calculateBCHCode(n,Br.TYPE_INFO_POLY);r.appendBits(i,10);const a=new b;if(a.appendBits(Br.TYPE_INFO_MASK_PATTERN,15),r.xor(a),15!==r.getSize())throw new kr("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const r=Br.calculateBCHCode(e.getVersionNumber(),Br.VERSION_INFO_POLY);if(t.appendBits(r,12),18!==t.getSize())throw new kr("should not happen but we got: "+t.getSize())}static isEmpty(e){return 255===e}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const r=(t+1)%2;Br.isEmpty(e.get(t,6))&&e.setNumber(t,6,r),Br.isEmpty(e.get(6,t))&&e.setNumber(6,t,r)}}static embedDarkDotAtLeftBottomCorner(e){if(0===e.get(8,e.getHeight()-8))throw new kr;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,r){for(let n=0;n<8;++n){if(!Br.isEmpty(r.get(e+n,t)))throw new kr;r.setNumber(e+n,t,0)}}static embedVerticalSeparationPattern(e,t,r){for(let n=0;n<7;++n){if(!Br.isEmpty(r.get(e,t+n)))throw new kr;r.setNumber(e,t+n,0)}}static embedPositionAdjustmentPattern(e,t,r){for(let n=0;n<5;++n){const i=Br.POSITION_ADJUSTMENT_PATTERN[n];for(let a=0;a<5;++a)r.setNumber(e+a,t+n,i[a])}}static embedPositionDetectionPattern(e,t,r){for(let n=0;n<7;++n){const i=Br.POSITION_DETECTION_PATTERN[n];for(let a=0;a<7;++a)r.setNumber(e+a,t+n,i[a])}}static embedPositionDetectionPatternsAndSeparators(e){const t=Br.POSITION_DETECTION_PATTERN[0].length;Br.embedPositionDetectionPattern(0,0,e),Br.embedPositionDetectionPattern(e.getWidth()-t,0,e),Br.embedPositionDetectionPattern(0,e.getWidth()-t,e);const r=8;Br.embedHorizontalSeparationPattern(0,r-1,e),Br.embedHorizontalSeparationPattern(e.getWidth()-r,r-1,e),Br.embedHorizontalSeparationPattern(0,e.getWidth()-r,e);const n=7;Br.embedVerticalSeparationPattern(n,0,e),Br.embedVerticalSeparationPattern(e.getHeight()-n-1,0,e),Br.embedVerticalSeparationPattern(n,e.getHeight()-n,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const r=e.getVersionNumber()-1,n=Br.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let i=0,a=n.length;i!==a;i++){const e=n[i];if(e>=0)for(let r=0;r!==a;r++){const i=n[r];i>=0&&Br.isEmpty(t.get(i,e))&&Br.embedPositionAdjustmentPattern(i-2,e-2,t)}}}}Br.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Br.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Br.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Br.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Br.VERSION_INFO_POLY=7973,Br.TYPE_INFO_POLY=1335,Br.TYPE_INFO_MASK_PATTERN=21522;class Lr{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Fr{constructor(){}static calculateMaskPenalty(e){return Nr.applyMaskPenaltyRule1(e)+Nr.applyMaskPenaltyRule2(e)+Nr.applyMaskPenaltyRule3(e)+Nr.applyMaskPenaltyRule4(e)}static encode(e,t,r=null){let n=Fr.DEFAULT_BYTE_MODE_ENCODING;const i=null!==r&&void 0!==r.get(Rr.CHARACTER_SET);i&&(n=r.get(Rr.CHARACTER_SET).toString());const a=this.chooseMode(e,n),o=new b;if(a===Lt.BYTE&&(i||Fr.DEFAULT_BYTE_MODE_ENCODING!==n)){const e=S.getCharacterSetECIByName(n);void 0!==e&&this.appendECI(e,o)}this.appendModeInfo(a,o);const s=new b;let l;if(this.appendBytes(e,a,s,n),null!==r&&void 0!==r.get(Rr.QR_VERSION)){const e=Number.parseInt(r.get(Rr.QR_VERSION).toString(),10);l=Dt.getVersionForNumber(e);const n=this.calculateBitsNeeded(a,o,s,l);if(!this.willFit(n,l,t))throw new kr("Data too big for requested version")}else l=this.recommendVersion(t,a,o,s);const c=new b;c.appendBitArray(o);const u=a===Lt.BYTE?s.getSizeInBytes():e.length;this.appendLengthInfo(u,l,a,c),c.appendBitArray(s);const d=l.getECBlocksForLevel(t),h=l.getTotalCodewords()-d.getTotalECCodewords();this.terminateBits(h,c);const f=this.interleaveWithECBytes(c,l.getTotalCodewords(),h,d.getNumBlocks()),p=new jr;p.setECLevel(t),p.setMode(a),p.setVersion(l);const g=l.getDimensionForVersion(),m=new Dr(g,g),y=this.chooseMaskPattern(f,t,l,m);return p.setMaskPattern(y),Br.buildMatrix(f,t,l,y,m),p.setMatrix(m),p}static recommendVersion(e,t,r,n){const i=this.calculateBitsNeeded(t,r,n,Dt.getVersionForNumber(1)),a=this.chooseVersion(i,e),o=this.calculateBitsNeeded(t,r,n,a);return this.chooseVersion(o,e)}static calculateBitsNeeded(e,t,r,n){return t.getSize()+e.getCharacterCountBits(n)+r.getSize()}static getAlphanumericCode(e){return e<Fr.ALPHANUMERIC_TABLE.length?Fr.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,t=null){if(S.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return Lt.KANJI;let r=!1,n=!1;for(let i=0,a=e.length;i<a;++i){const t=e.charAt(i);if(Fr.isDigit(t))r=!0;else{if(-1===this.getAlphanumericCode(t.charCodeAt(0)))return Lt.BYTE;n=!0}}return n?Lt.ALPHANUMERIC:r?Lt.NUMERIC:Lt.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=O.encode(e,S.SJIS)}catch(n){return!1}const r=t.length;if(r%2!=0)return!1;for(let i=0;i<r;i+=2){const e=255&t[i];if((e<129||e>159)&&(e<224||e>235))return!1}return!0}static chooseMaskPattern(e,t,r,n){let i=Number.MAX_SAFE_INTEGER,a=-1;for(let o=0;o<jr.NUM_MASK_PATTERNS;o++){Br.buildMatrix(e,t,r,o,n);let s=this.calculateMaskPenalty(n);s<i&&(i=s,a=o)}return a}static chooseVersion(e,t){for(let r=1;r<=40;r++){const n=Dt.getVersionForNumber(r);if(Fr.willFit(e,n,t))return n}throw new kr("Data too big")}static willFit(e,t,r){return t.getTotalCodewords()-t.getECBlocksForLevel(r).getTotalECCodewords()>=(e+7)/8}static terminateBits(e,t){const r=8*e;if(t.getSize()>r)throw new kr("data bits cannot fit in the QR Code"+t.getSize()+" > "+r);for(let a=0;a<4&&t.getSize()<r;++a)t.appendBit(!1);const n=7&t.getSize();if(n>0)for(let a=n;a<8;a++)t.appendBit(!1);const i=e-t.getSizeInBytes();for(let a=0;a<i;++a)t.appendBits(1&a?17:236,8);if(t.getSize()!==r)throw new kr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,r,n,i,a){if(n>=r)throw new kr("Block ID too large");const o=e%r,s=r-o,l=Math.floor(e/r),c=l+1,u=Math.floor(t/r),d=u+1,h=l-u,f=c-d;if(h!==f)throw new kr("EC bytes mismatch");if(r!==s+o)throw new kr("RS blocks mismatch");if(e!==(u+h)*s+(d+f)*o)throw new kr("Total bytes mismatch");n<s?(i[0]=u,a[0]=h):(i[0]=d,a[0]=f)}static interleaveWithECBytes(e,t,r,n){if(e.getSizeInBytes()!==r)throw new kr("Number of bits and data bytes does not match");let i=0,a=0,o=0;const s=new Array;for(let c=0;c<n;++c){const l=new Int32Array(1),u=new Int32Array(1);Fr.getNumDataBytesAndNumECBytesForBlockID(t,r,n,c,l,u);const d=l[0],h=new Uint8Array(d);e.toBytes(8*i,h,0,d);const f=Fr.generateECBytes(h,u[0]);s.push(new Lr(h,f)),a=Math.max(a,d),o=Math.max(o,f.length),i+=l[0]}if(r!==i)throw new kr("Data bytes does not match offset");const l=new b;for(let c=0;c<a;++c)for(const e of s){const t=e.getDataBytes();c<t.length&&l.appendBits(t[c],8)}for(let c=0;c<o;++c)for(const e of s){const t=e.getErrorCorrectionBytes();c<t.length&&l.appendBits(t[c],8)}if(t!==l.getSizeInBytes())throw new kr("Interleaving error: "+t+" and "+l.getSizeInBytes()+" differ.");return l}static generateECBytes(e,t){const r=e.length,n=new Int32Array(r+t);for(let a=0;a<r;a++)n[a]=255&e[a];new Mr(ce.QR_CODE_FIELD_256).encode(n,t);const i=new Uint8Array(t);for(let a=0;a<t;a++)i[a]=n[r+a];return i}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,r,n){const i=r.getCharacterCountBits(t);if(e>=1<<i)throw new kr(e+" is bigger than "+((1<<i)-1));n.appendBits(e,i)}static appendBytes(e,t,r,n){switch(t){case Lt.NUMERIC:Fr.appendNumericBytes(e,r);break;case Lt.ALPHANUMERIC:Fr.appendAlphanumericBytes(e,r);break;case Lt.BYTE:Fr.append8BitBytes(e,r,n);break;case Lt.KANJI:Fr.appendKanjiBytes(e,r);break;default:throw new kr("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=Fr.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const r=e.length;let n=0;for(;n<r;){const i=Fr.getDigit(e.charAt(n));if(n+2<r){const r=Fr.getDigit(e.charAt(n+1)),a=Fr.getDigit(e.charAt(n+2));t.appendBits(100*i+10*r+a,10),n+=3}else if(n+1<r){const r=Fr.getDigit(e.charAt(n+1));t.appendBits(10*i+r,7),n+=2}else t.appendBits(i,4),n++}}static appendAlphanumericBytes(e,t){const r=e.length;let n=0;for(;n<r;){const i=Fr.getAlphanumericCode(e.charCodeAt(n));if(-1===i)throw new kr;if(n+1<r){const r=Fr.getAlphanumericCode(e.charCodeAt(n+1));if(-1===r)throw new kr;t.appendBits(45*i+r,11),n+=2}else t.appendBits(i,6),n++}}static append8BitBytes(e,t,r){let n;try{n=O.encode(e,r)}catch(i){throw new kr(i)}for(let a=0,o=n.length;a!==o;a++){const e=n[a];t.appendBits(e,8)}}static appendKanjiBytes(e,t){let r;try{r=O.encode(e,S.SJIS)}catch(i){throw new kr(i)}const n=r.length;for(let a=0;a<n;a+=2){const e=(255&r[a])<<8&4294967295|255&r[a+1];let n=-1;if(e>=33088&&e<=40956?n=e-33088:e>=57408&&e<=60351&&(n=e-49472),-1===n)throw new kr("Invalid byte sequence");const i=192*(n>>8)+(255&n);t.appendBits(i,13)}}static appendECI(e,t){t.appendBits(Lt.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}Fr.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Fr.DEFAULT_BYTE_MODE_ENCODING=S.UTF8.getName();class Ur{write(e,t,r,n=null){if(0===e.length)throw new d("Found empty contents");if(t<0||r<0)throw new d("Requested dimensions are too small: "+t+"x"+r);let i=Pt.L,a=Ur.QUIET_ZONE_SIZE;null!==n&&(void 0!==n.get(Rr.ERROR_CORRECTION)&&(i=Pt.fromString(n.get(Rr.ERROR_CORRECTION).toString())),void 0!==n.get(Rr.MARGIN)&&(a=Number.parseInt(n.get(Rr.MARGIN).toString(),10)));const o=Fr.encode(e,i,n);return this.renderResult(o,t,r,a)}writeToDom(e,t,r,n,i=null){"string"==typeof e&&(e=document.querySelector(e));const a=this.write(t,r,n,i);e&&e.appendChild(a)}renderResult(e,t,r,n){const i=e.getMatrix();if(null===i)throw new de;const a=i.getWidth(),o=i.getHeight(),s=a+2*n,l=o+2*n,c=Math.max(t,s),u=Math.max(r,l),d=Math.min(Math.floor(c/s),Math.floor(u/l)),h=Math.floor((c-a*d)/2),f=Math.floor((u-o*d)/2),p=this.createSVGElement(c,u);for(let g=0,m=f;g<o;g++,m+=d)for(let e=0,t=h;e<a;e++,t+=d)if(1===i.get(e,g)){const e=this.createSvgRectElement(t,m,d,d);p.appendChild(e)}return p}createSVGElement(e,t){const r=document.createElementNS(Ur.SVG_NS,"svg");return r.setAttributeNS(null,"height",e.toString()),r.setAttributeNS(null,"width",t.toString()),r}createSvgRectElement(e,t,r,n){const i=document.createElementNS(Ur.SVG_NS,"rect");return i.setAttributeNS(null,"x",e.toString()),i.setAttributeNS(null,"y",t.toString()),i.setAttributeNS(null,"height",r.toString()),i.setAttributeNS(null,"width",n.toString()),i.setAttributeNS(null,"fill","#000000"),i}}Ur.QUIET_ZONE_SIZE=4,Ur.SVG_NS="http://www.w3.org/2000/svg";class zr{encode(e,t,r,n,i){if(0===e.length)throw new d("Found empty contents");if(t!==X.QR_CODE)throw new d("Can only encode QR_CODE, but got "+t);if(r<0||n<0)throw new d(`Requested dimensions are too small: ${r}x${n}`);let a=Pt.L,o=zr.QUIET_ZONE_SIZE;null!==i&&(void 0!==i.get(Rr.ERROR_CORRECTION)&&(a=Pt.fromString(i.get(Rr.ERROR_CORRECTION).toString())),void 0!==i.get(Rr.MARGIN)&&(o=Number.parseInt(i.get(Rr.MARGIN).toString(),10)));const s=Fr.encode(e,a,i);return zr.renderResult(s,r,n,o)}static renderResult(e,t,r,n){const i=e.getMatrix();if(null===i)throw new de;const a=i.getWidth(),o=i.getHeight(),s=a+2*n,l=o+2*n,c=Math.max(t,s),u=Math.max(r,l),d=Math.min(Math.floor(c/s),Math.floor(u/l)),h=Math.floor((c-a*d)/2),f=Math.floor((u-o*d)/2),p=new R(c,u);for(let g=0,m=f;g<o;g++,m+=d)for(let e=0,t=h;e<a;e++,t+=d)1===i.get(e,g)&&p.setRegion(t,m,d,d);return p}}zr.QUIET_ZONE_SIZE=4;class Hr{encode(e,t,r,n,i){let a;if(t!==X.QR_CODE)throw new d("No encoder available for format "+t);return a=new zr,a.encode(e,t,r,n,i)}}class Vr extends j{constructor(e,t,r,n,i,a,o,s){if(super(a,o),this.yuvData=e,this.dataWidth=t,this.dataHeight=r,this.left=n,this.top=i,n+a>t||i+o>r)throw new d("Crop rectangle does not fit within image data.");s&&this.reverseHorizontal(a,o)}getRow(e,t){if(e<0||e>=this.getHeight())throw new d("Requested row is outside the image: "+e);const r=this.getWidth();(null==t||t.length<r)&&(t=new Uint8ClampedArray(r));const n=(e+this.top)*this.dataWidth+this.left;return g.arraycopy(this.yuvData,n,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const r=e*t,n=new Uint8ClampedArray(r);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return g.arraycopy(this.yuvData,i,n,0,r),n;for(let a=0;a<t;a++){const t=a*e;g.arraycopy(this.yuvData,i,n,t,e),i+=this.dataWidth}return n}isCropSupported(){return!0}crop(e,t,r,n){return new Vr(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,r,n,!1)}renderThumbnail(){const e=this.getWidth()/Vr.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/Vr.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(e*t),n=this.yuvData;let i=this.top*this.dataWidth+this.left;for(let a=0;a<t;a++){const t=a*e;for(let a=0;a<e;a++){const e=255&n[i+a*Vr.THUMBNAIL_SCALE_FACTOR];r[t+a]=4278190080|65793*e}i+=this.dataWidth*Vr.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/Vr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Vr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const r=this.yuvData;for(let n=0,i=this.top*this.dataWidth+this.left;n<t;n++,i+=this.dataWidth){const t=i+e/2;for(let n=i,a=i+e-1;n<t;n++,a--){const e=r[n];r[n]=r[a],r[a]=e}}}invert(){return new k(this)}}Vr.THUMBNAIL_SCALE_FACTOR=2;class Wr extends j{constructor(e,t,r,n,i,a,o){if(super(t,r),this.dataWidth=n,this.dataHeight=i,this.left=a,this.top=o,4===e.BYTES_PER_ELEMENT){const n=t*r,i=new Uint8ClampedArray(n);for(let t=0;t<n;t++){const r=e[t],n=r>>16&255,a=r>>7&510,o=255&r;i[t]=(n+a+o)/4&255}this.luminances=i}else this.luminances=e;if(void 0===n&&(this.dataWidth=t),void 0===i&&(this.dataHeight=r),void 0===a&&(this.left=0),void 0===o&&(this.top=0),this.left+t>this.dataWidth||this.top+r>this.dataHeight)throw new d("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new d("Requested row is outside the image: "+e);const r=this.getWidth();(null==t||t.length<r)&&(t=new Uint8ClampedArray(r));const n=(e+this.top)*this.dataWidth+this.left;return g.arraycopy(this.luminances,n,t,0,r),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const r=e*t,n=new Uint8ClampedArray(r);let i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return g.arraycopy(this.luminances,i,n,0,r),n;for(let a=0;a<t;a++){const t=a*e;g.arraycopy(this.luminances,i,n,t,e),i+=this.dataWidth}return n}isCropSupported(){return!0}crop(e,t,r,n){return new Wr(this.luminances,r,n,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new k(this)}}class Gr extends S{static forName(e){return this.getCharacterSetECIByName(e)}}class Xr{}Xr.ISO_8859_1=S.ISO8859_1;class Kr{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Yr{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class qr{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Zr extends qr{constructor(e,t,r){super(e),this.value=t,this.bitCount=r}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new Zr(this,e,t)}addBinaryShift(e,t){return new Zr(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+w.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class $r extends Zr{constructor(e,t,r){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=r}appendTo(e,t){for(let r=0;r<this.binaryShiftByteCount;r++)(0===r||31===r&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):0===r?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+r],8)}addBinaryShift(e,t){return new $r(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Qr(e,t,r){return new $r(e,t,r)}function Jr(e,t,r){return new Zr(e,t,r)}const en=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],tn=0,rn=1,nn=2,an=3,on=4,sn=new Zr(null,0,0),ln=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];function cn(e){for(let t of e)v.fill(t,-1);return e[tn][on]=0,e[rn][on]=0,e[rn][tn]=28,e[an][on]=0,e[nn][on]=0,e[nn][tn]=15,e}const un=cn(v.createInt32Array(6,6));class dn{constructor(e,t,r,n){this.token=e,this.mode=t,this.binaryShiftByteCount=r,this.bitCount=n}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let r=this.bitCount,n=this.token;if(e!==this.mode){let t=ln[this.mode][e];n=Jr(n,65535&t,t>>16),r+=t>>16}let i=e===nn?4:5;return n=Jr(n,t,i),new dn(n,e,0,r+i)}shiftAndAppend(e,t){let r=this.token,n=this.mode===nn?4:5;return r=Jr(r,un[this.mode][e],n),r=Jr(r,t,5),new dn(r,this.mode,0,this.bitCount+n+5)}addBinaryShiftChar(e){let t=this.token,r=this.mode,n=this.bitCount;if(this.mode===on||this.mode===nn){let e=ln[r][tn];t=Jr(t,65535&e,e>>16),n+=e>>16,r=tn}let i=0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8,a=new dn(t,r,this.binaryShiftByteCount+1,n+i);return 2078===a.binaryShiftByteCount&&(a=a.endBinaryShift(e+1)),a}endBinaryShift(e){if(0===this.binaryShiftByteCount)return this;let t=this.token;return t=Qr(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new dn(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(ln[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=dn.calculateBinaryShiftCost(e)-dn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let n=this.endBinaryShift(e.length).token;null!==n;n=n.getPrevious())t.unshift(n);let r=new b;for(const n of t)n.appendTo(r,e);return r}toString(){return T.format("%s bits=%d bytes=%d",en[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}function hn(e){const t=T.getCharCode(" "),r=T.getCharCode("."),n=T.getCharCode(",");e[tn][t]=1;const i=T.getCharCode("Z"),a=T.getCharCode("A");for(let h=a;h<=i;h++)e[tn][h]=h-a+2;e[rn][t]=1;const o=T.getCharCode("z"),s=T.getCharCode("a");for(let h=s;h<=o;h++)e[rn][h]=h-s+2;e[nn][t]=1;const l=T.getCharCode("9"),c=T.getCharCode("0");for(let h=c;h<=l;h++)e[nn][h]=h-c+2;e[nn][n]=12,e[nn][r]=13;const u=["\0"," ","","","","","","","","\b","\t","\n","\v","\f","\r","","","","","","@","\\","^","_","`","|","~",""];for(let h=0;h<u.length;h++)e[an][T.getCharCode(u[h])]=h;const d=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let h=0;h<d.length;h++)T.getCharCode(d[h])>0&&(e[on][T.getCharCode(d[h])]=h);return e}dn.INITIAL_STATE=new dn(sn,tn,0,0);const fn=hn(v.createInt32Array(5,256));class pn{constructor(e){this.text=e}encode(){const e=T.getCharCode(" "),t=T.getCharCode("\n");let r=Yr.singletonList(dn.INITIAL_STATE);for(let n=0;n<this.text.length;n++){let i,a=n+1<this.text.length?this.text[n+1]:0;switch(this.text[n]){case T.getCharCode("\r"):i=a===t?2:0;break;case T.getCharCode("."):i=a===e?3:0;break;case T.getCharCode(","):i=a===e?4:0;break;case T.getCharCode(":"):i=a===e?5:0;break;default:i=0}i>0?(r=pn.updateStateListForPair(r,n,i),n++):r=this.updateStateListForChar(r,n)}return Yr.min(r,(e,t)=>e.getBitCount()-t.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,t){const r=[];for(let n of e)this.updateStateForChar(n,t,r);return pn.simplifyStates(r)}updateStateForChar(e,t,r){let n=255&this.text[t],i=fn[e.getMode()][n]>0,a=null;for(let o=0;o<=on;o++){let s=fn[o][n];if(s>0){if(null==a&&(a=e.endBinaryShift(t)),!i||o===e.getMode()||o===nn){const e=a.latchAndAppend(o,s);r.push(e)}if(!i&&un[e.getMode()][o]>=0){const e=a.shiftAndAppend(o,s);r.push(e)}}}if(e.getBinaryShiftByteCount()>0||0===fn[e.getMode()][n]){let n=e.addBinaryShiftChar(t);r.push(n)}}static updateStateListForPair(e,t,r){const n=[];for(let i of e)this.updateStateForPair(i,t,r,n);return this.simplifyStates(n)}static updateStateForPair(e,t,r,n){let i=e.endBinaryShift(t);if(n.push(i.latchAndAppend(on,r)),e.getMode()!==on&&n.push(i.shiftAndAppend(on,r)),3===r||4===r){let e=i.latchAndAppend(nn,16-r).latchAndAppend(nn,1);n.push(e)}if(e.getBinaryShiftByteCount()>0){let r=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);n.push(r)}}static simplifyStates(e){let t=[];for(const r of e){let e=!0;for(const n of t){if(n.isBetterThanOrEqualTo(r)){e=!1;break}r.isBetterThanOrEqualTo(n)&&(t=t.filter(e=>e!==n))}e&&t.push(r)}return t}}class gn{constructor(){}static encodeBytes(e){return gn.encode(e,gn.DEFAULT_EC_PERCENT,gn.DEFAULT_AZTEC_LAYERS)}static encode(e,t,r){let n,i,a,o,s,l=new pn(e).encode(),c=w.truncDivision(l.getSize()*t,100)+11,u=l.getSize()+c;if(r!==gn.DEFAULT_AZTEC_LAYERS){if(n=r<0,i=Math.abs(r),i>(n?gn.MAX_NB_BITS_COMPACT:gn.MAX_NB_BITS))throw new d(T.format("Illegal value %s for layers",r));a=gn.totalBitsInLayer(i,n),o=gn.WORD_SIZE[i];let e=a-a%o;if(s=gn.stuffBits(l,o),s.getSize()+c>e)throw new d("Data to large for user specified layer");if(n&&s.getSize()>64*o)throw new d("Data to large for user specified layer")}else{o=0,s=null;for(let e=0;;e++){if(e>gn.MAX_NB_BITS)throw new d("Data too large for an Aztec code");if(n=e<=3,i=n?e+1:e,a=gn.totalBitsInLayer(i,n),u>a)continue;null!=s&&o===gn.WORD_SIZE[i]||(o=gn.WORD_SIZE[i],s=gn.stuffBits(l,o));let t=a-a%o;if(!(n&&s.getSize()>64*o)&&s.getSize()+c<=t)break}}let h,f=gn.generateCheckWords(s,a,o),p=s.getSize()/o,g=gn.generateModeMessage(n,i,p),m=(n?11:14)+4*i,y=new Int32Array(m);if(n){h=m;for(let e=0;e<y.length;e++)y[e]=e}else{h=m+1+2*w.truncDivision(w.truncDivision(m,2)-1,15);let e=w.truncDivision(m,2),t=w.truncDivision(h,2);for(let r=0;r<e;r++){let n=r+w.truncDivision(r,15);y[e-r-1]=t-n-1,y[e+r]=t+n+1}}let v=new R(h);for(let d=0,w=0;d<i;d++){let e=4*(i-d)+(n?9:12);for(let t=0;t<e;t++){let r=2*t;for(let n=0;n<2;n++)f.get(w+r+n)&&v.set(y[2*d+n],y[2*d+t]),f.get(w+2*e+r+n)&&v.set(y[2*d+t],y[m-1-2*d-n]),f.get(w+4*e+r+n)&&v.set(y[m-1-2*d-n],y[m-1-2*d-t]),f.get(w+6*e+r+n)&&v.set(y[m-1-2*d-t],y[2*d+n])}w+=8*e}if(gn.drawModeMessage(v,n,h,g),n)gn.drawBullsEye(v,w.truncDivision(h,2),5);else{gn.drawBullsEye(v,w.truncDivision(h,2),7);for(let e=0,t=0;e<w.truncDivision(m,2)-1;e+=15,t+=16)for(let r=1&w.truncDivision(h,2);r<h;r+=2)v.set(w.truncDivision(h,2)-t,r),v.set(w.truncDivision(h,2)+t,r),v.set(r,w.truncDivision(h,2)-t),v.set(r,w.truncDivision(h,2)+t)}let b=new Kr;return b.setCompact(n),b.setSize(h),b.setLayers(i),b.setCodeWords(p),b.setMatrix(v),b}static drawBullsEye(e,t,r){for(let n=0;n<r;n+=2)for(let r=t-n;r<=t+n;r++)e.set(r,t-n),e.set(r,t+n),e.set(t-n,r),e.set(t+n,r);e.set(t-r,t-r),e.set(t-r+1,t-r),e.set(t-r,t-r+1),e.set(t+r,t-r),e.set(t+r,t-r+1),e.set(t+r,t+r-1)}static generateModeMessage(e,t,r){let n=new b;return e?(n.appendBits(t-1,2),n.appendBits(r-1,6),n=gn.generateCheckWords(n,28,4)):(n.appendBits(t-1,5),n.appendBits(r-1,11),n=gn.generateCheckWords(n,40,4)),n}static drawModeMessage(e,t,r,n){let i=w.truncDivision(r,2);if(t)for(let a=0;a<7;a++){let t=i-3+a;n.get(a)&&e.set(t,i-5),n.get(a+7)&&e.set(i+5,t),n.get(20-a)&&e.set(t,i+5),n.get(27-a)&&e.set(i-5,t)}else for(let a=0;a<10;a++){let t=i-5+a+w.truncDivision(a,5);n.get(a)&&e.set(t,i-7),n.get(a+10)&&e.set(i+7,t),n.get(29-a)&&e.set(t,i+7),n.get(39-a)&&e.set(i-7,t)}}static generateCheckWords(e,t,r){let n=e.getSize()/r,i=new Mr(gn.getGF(r)),a=w.truncDivision(t,r),o=gn.bitsToWords(e,r,a);i.encode(o,a-n);let s=t%r,l=new b;l.appendBits(0,s);for(const c of Array.from(o))l.appendBits(c,r);return l}static bitsToWords(e,t,r){let n,i,a=new Int32Array(r);for(n=0,i=e.getSize()/t;n<i;n++){let r=0;for(let i=0;i<t;i++)r|=e.get(n*t+i)?1<<t-i-1:0;a[n]=r}return a}static getGF(e){switch(e){case 4:return ce.AZTEC_PARAM;case 6:return ce.AZTEC_DATA_6;case 8:return ce.AZTEC_DATA_8;case 10:return ce.AZTEC_DATA_10;case 12:return ce.AZTEC_DATA_12;default:throw new d("Unsupported word size "+e)}}static stuffBits(e,t){let r=new b,n=e.getSize(),i=(1<<t)-2;for(let a=0;a<n;a+=t){let o=0;for(let r=0;r<t;r++)(a+r>=n||e.get(a+r))&&(o|=1<<t-1-r);(o&i)===i?(r.appendBits(o&i,t),a--):0===(o&i)?(r.appendBits(1|o,t),a--):r.appendBits(o,t)}return r}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}gn.DEFAULT_EC_PERCENT=33,gn.DEFAULT_AZTEC_LAYERS=0,gn.MAX_NB_BITS=32,gn.MAX_NB_BITS_COMPACT=4,gn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class mn{encode(e,t,r,n){return this.encodeWithHints(e,t,r,n,null)}encodeWithHints(e,t,r,n,i){let a=Xr.ISO_8859_1,o=gn.DEFAULT_EC_PERCENT,s=gn.DEFAULT_AZTEC_LAYERS;return null!=i&&(i.has(Rr.CHARACTER_SET)&&(a=Gr.forName(i.get(Rr.CHARACTER_SET).toString())),i.has(Rr.ERROR_CORRECTION)&&(o=w.parseInt(i.get(Rr.ERROR_CORRECTION).toString())),i.has(Rr.AZTEC_LAYERS)&&(s=w.parseInt(i.get(Rr.AZTEC_LAYERS).toString()))),mn.encodeLayers(e,t,r,n,a,o,s)}static encodeLayers(e,t,r,n,i,a,o){if(t!==X.AZTEC)throw new d("Can only encode AZTEC, but got "+t);let s=gn.encode(T.getBytes(e,i),a,o);return mn.renderResult(s,r,n)}static renderResult(e,t,r){let n=e.getMatrix();if(null==n)throw new de;let i=n.getWidth(),a=n.getHeight(),o=Math.max(t,i),s=Math.max(r,a),l=Math.min(o/i,s/a),c=(o-i*l)/2,u=(s-a*l)/2,d=new R(o,s);for(let h=0,f=u;h<a;h++,f+=l)for(let e=0,t=c;e<i;e++,t+=l)n.get(e,h)&&d.setRegion(t,f,l,l);return d}}e.AbstractExpandedDecoder=et,e.ArgumentException=u,e.ArithmeticException=le,e.AztecCode=Kr,e.AztecCodeReader=_e,e.AztecCodeWriter=mn,e.AztecDecoder=fe,e.AztecDetector=Se,e.AztecDetectorResult=ve,e.AztecEncoder=gn,e.AztecHighLevelEncoder=pn,e.AztecPoint=Ce,e.BarcodeFormat=X,e.Binarizer=p,e.BinaryBitmap=h,e.BitArray=b,e.BitMatrix=R,e.BitSource=Ct,e.BrowserAztecCodeReader=Ie,e.BrowserBarcodeReader=vt,e.BrowserCodeReader=H,e.BrowserDatamatrixCodeReader=Tt,e.BrowserMultiFormatReader=_r,e.BrowserPDF417Reader=Ir,e.BrowserQRCodeReader=Or,e.BrowserQRCodeSvgWriter=Ur,e.CharacterSetECI=S,e.ChecksumException=f,e.Code128Reader=Te,e.Code39Reader=Pe,e.DataMatrixDecodedBitStreamParser=St,e.DataMatrixReader=Ot,e.DecodeHintType=x,e.DecoderResult=ae,e.DefaultGridSampler=Ae,e.DetectorResult=ye,e.EAN13Reader=Be,e.EncodeHintType=Rr,e.Exception=c,e.FormatException=C,e.GenericGF=ce,e.GenericGFPoly=se,e.GlobalHistogramBinarizer=N,e.GridSampler=be,e.GridSamplerInstance=xe,e.HTMLCanvasElementLuminanceSource=B,e.HybridBinarizer=D,e.ITFReader=Re,e.IllegalArgumentException=d,e.IllegalStateException=de,e.InvertedLuminanceSource=k,e.LuminanceSource=j,e.MathUtils=pe,e.MultiFormatOneDReader=yt,e.MultiFormatReader=Sr,e.MultiFormatWriter=Hr,e.NotFoundException=M,e.OneDReader=Oe,e.PDF417DecodedBitStreamParser=Er,e.PDF417DecoderErrorCorrection=tr,e.PDF417Reader=xr,e.PDF417ResultMetadata=dr,e.PerspectiveTransform=Ee,e.PlanarYUVLuminanceSource=Vr,e.QRCodeByteMatrix=Dr,e.QRCodeDataMask=jt,e.QRCodeDecodedBitStreamParser=Ft,e.QRCodeDecoderErrorCorrectionLevel=Pt,e.QRCodeDecoderFormatInformation=Rt,e.QRCodeEncoder=Fr,e.QRCodeEncoderQRCode=jr,e.QRCodeMaskUtil=Nr,e.QRCodeMatrixUtil=Br,e.QRCodeMode=Lt,e.QRCodeReader=Yt,e.QRCodeVersion=Dt,e.QRCodeWriter=zr,e.RGBLuminanceSource=Wr,e.RSS14Reader=mt,e.RSSExpandedReader=pt,e.ReaderException=Cr,e.ReedSolomonDecoder=he,e.ReedSolomonEncoder=Mr,e.ReedSolomonException=ue,e.Result=V,e.ResultMetadataType=ie,e.ResultPoint=me,e.StringUtils=T,e.UnsupportedOperationException=_,e.VideoInputDevice=L,e.WhiteRectangleDetector=we,e.WriterException=kr,e.ZXingArrays=v,e.ZXingCharset=Gr,e.ZXingInteger=w,e.ZXingStandardCharsets=Xr,e.ZXingStringBuilder=P,e.ZXingStringEncoding=O,e.ZXingSystem=g,e.createAbstractExpandedDecoder=dt,Object.defineProperty(e,"__esModule",{value:!0})}(Ft.exports);var Ut=Ft.exports;const zt=he({__proto__:null,default:O(Ut)},[Ut]);var Ht,Vt,Wt=function(){function e(e,t,r){if(this.formatMap=new Map([[Et.QR_CODE,Ut.BarcodeFormat.QR_CODE],[Et.AZTEC,Ut.BarcodeFormat.AZTEC],[Et.CODABAR,Ut.BarcodeFormat.CODABAR],[Et.CODE_39,Ut.BarcodeFormat.CODE_39],[Et.CODE_93,Ut.BarcodeFormat.CODE_93],[Et.CODE_128,Ut.BarcodeFormat.CODE_128],[Et.DATA_MATRIX,Ut.BarcodeFormat.DATA_MATRIX],[Et.MAXICODE,Ut.BarcodeFormat.MAXICODE],[Et.ITF,Ut.BarcodeFormat.ITF],[Et.EAN_13,Ut.BarcodeFormat.EAN_13],[Et.EAN_8,Ut.BarcodeFormat.EAN_8],[Et.PDF_417,Ut.BarcodeFormat.PDF_417],[Et.RSS_14,Ut.BarcodeFormat.RSS_14],[Et.RSS_EXPANDED,Ut.BarcodeFormat.RSS_EXPANDED],[Et.UPC_A,Ut.BarcodeFormat.UPC_A],[Et.UPC_E,Ut.BarcodeFormat.UPC_E],[Et.UPC_EAN_EXTENSION,Ut.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!zt)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=t,this.logger=r;var n=this.createZXingFormats(e),i=new Map;i.set(Ut.DecodeHintType.POSSIBLE_FORMATS,n),i.set(Ut.DecodeHintType.TRY_HARDER,!1),this.hints=i}return e.prototype.decodeAsync=function(e){var t=this;return new Promise(function(r,n){try{r(t.decode(e))}catch(i){n(i)}})},e.prototype.decode=function(e){var t=new Ut.MultiFormatReader(this.verbose,this.hints),r=new Ut.HTMLCanvasElementLuminanceSource(e),n=new Ut.BinaryBitmap(new Ut.HybridBinarizer(r)),i=t.decode(n);return{text:i.text,format:Mt.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,r,n){e.set(t,r)}),e},e.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},e.prototype.createZXingFormats=function(e){for(var t=[],r=0,n=e;r<n.length;r++){var i=n[r];this.formatMap.has(i)?t.push(this.formatMap.get(i)):this.logger.logError("".concat(i," is not supported by")+"ZXingHtml5QrcodeShim")}return t},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Gt=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(i_){a(i_)}}function s(e){try{l(n.throw(e))}catch(i_){a(i_)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})},Xt=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(i_){s=[6,i_],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Kt=function(){function e(t,r,n){if(this.formatMap=new Map([[Et.QR_CODE,"qr_code"],[Et.AZTEC,"aztec"],[Et.CODABAR,"codabar"],[Et.CODE_39,"code_39"],[Et.CODE_93,"code_93"],[Et.CODE_128,"code_128"],[Et.DATA_MATRIX,"data_matrix"],[Et.ITF,"itf"],[Et.EAN_13,"ean_13"],[Et.EAN_8,"ean_8"],[Et.PDF_417,"pdf417"],[Et.UPC_A,"upc_a"],[Et.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){return"BarcodeDetector"in window&&void 0!==new BarcodeDetector({formats:["qr_code"]})},e.prototype.decodeAsync=function(e){return Gt(this,void 0,void 0,function(){var t,r;return Xt(this,function(n){switch(n.label){case 0:return[4,this.detector.detect(e)];case 1:if(!(t=n.sent())||0===t.length)throw"No barcode or QR code detected.";return[2,{text:(r=this.selectLargestBarcode(t)).rawValue,format:Mt.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(e){for(var t=null,r=0,n=0,i=e;n<i.length;n++){var a=i[n],o=a.boundingBox.width*a.boundingBox.height;o>r&&(r=o,t=a)}if(!t)throw"No largest barcode found";return t},e.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],r=0,n=e;r<n.length;r++){var i=n[r];this.formatMap.has(i)?t.push(this.formatMap.get(i)):this.logger.warn("".concat(i," is not supported by")+"BarcodeDetectorDelegate")}return{formats:t}},e.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},e.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,r,n){e.set(t,r)}),e},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Yt=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(i_){a(i_)}}function s(e){try{l(n.throw(e))}catch(i_){a(i_)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})},qt=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(i_){s=[6,i_],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},Zt=function(){function e(e,t,r,n){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,t&&Kt.isSupported()?(this.primaryDecoder=new Kt(e,r,n),this.secondaryDecoder=new Wt(e,r,n)):this.primaryDecoder=new Wt(e,r,n)}return e.prototype.decodeAsync=function(e){return Yt(this,void 0,void 0,function(){var t;return qt(this,function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(e){return Yt(this,void 0,void 0,function(){var t,r;return qt(this,function(n){switch(n.label){case 0:t=performance.now(),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,n.sent()];case 3:if(r=n.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?!1===this.wasPrimaryDecoderUsedInLastDecode?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(e){if(this.verbose){var t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,r=this.executionResults;t<r.length;t++){e+=r[t]}this.executionResults.length;this.executions=0,this.executionResults=[]}},e}(),$t=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Qt=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(i_){a(i_)}}function s(e){try{l(n.throw(e))}catch(i_){a(i_)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})},Jt=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(i_){s=[6,i_],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},er=function(){function e(e,t){this.name=e,this.track=t}return e.prototype.isSupported=function(){return!!this.track.getCapabilities&&this.name in this.track.getCapabilities()},e.prototype.apply=function(e){var t={};t[this.name]=e;var r={advanced:[t]};return this.track.applyConstraints(r)},e.prototype.value=function(){var e=this.track.getSettings();return this.name in e?e[this.name]:null},e}(),tr=function(e){function t(t){return e.call(this,"zoom",t)||this}return $t(t,e),t}(function(e){function t(t,r){return e.call(this,t,r)||this}return $t(t,e),t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(e){var t={};t[this.name]=e;var r={advanced:[t]};return this.track.applyConstraints(r)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var e=this.track.getCapabilities()[this.name];return{min:e.min,max:e.max,step:e.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(er)),rr=function(e){function t(t){return e.call(this,"torch",t)||this}return $t(t,e),t}(er),nr=function(){function e(e){this.track=e}return e.prototype.zoomFeature=function(){return new tr(this.track)},e.prototype.torchFeature=function(){return new rr(this.track)},e}(),ir=function(){function e(e,t,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=t,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return e.prototype.createVideoElement=function(e){var t=document.createElement("video");return t.style.width="".concat(e,"px"),t.style.display="block",t.muted=!0,t.setAttribute("muted","true"),t.playsInline=!0,t},e.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var t=function(){var r=e.surface.clientWidth,n=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,n),e.surface.removeEventListener("playing",t)};this.surface.addEventListener("playing",t),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return Qt(this,void 0,void 0,function(){var a,o;return Jt(this,function(s){switch(s.label){case 0:return a=new e(t,r,i),n.aspectRatio?(o={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:s.sent(),s.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),0===this.mediaStream.getVideoTracks().length)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(e){this.failIfClosed();var t=this,r=function(){setTimeout(e,200),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(e){return Qt(this,void 0,void 0,function(){return Jt(this,function(t){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(t,r){var n=e.mediaStream.getVideoTracks().length,i=0;e.mediaStream.getVideoTracks().forEach(function(r){e.mediaStream.removeTrack(r),r.stop(),++i>=n&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),t())})})},e.prototype.getCapabilities=function(){return new nr(this.getFirstTrackOrFail())},e}(),ar=function(){function e(e){this.mediaStream=e}return e.prototype.render=function(e,t,r){return Qt(this,void 0,void 0,function(){return Jt(this,function(n){return[2,ir.create(e,this.mediaStream,t,r)]})})},e.create=function(t){return Qt(this,void 0,void 0,function(){var r;return Jt(this,function(n){switch(n.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return[2,new e(n.sent())]}})})},e}(),or=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(i_){a(i_)}}function s(e){try{l(n.throw(e))}catch(i_){a(i_)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})},sr=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(i_){s=[6,i_],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},lr=function(){function e(){}return e.failIfNotSupported=function(){return or(this,void 0,void 0,function(){return sr(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(e){return or(this,void 0,void 0,function(){return sr(this,function(t){return[2,ar.create(e)]})})},e}(),cr=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{l(n.next(e))}catch(i_){a(i_)}}function s(e){try{l(n.throw(e))}catch(i_){a(i_)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,s)}l((n=n.apply(e,t||[])).next())})},ur=function(e,t){var r,n,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(l){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(i_){s=[6,i_],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},dr=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Bt.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Bt.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if("https:"===location.protocol)return!0;var e=location.host.split(":")[0];return"127.0.0.1"===e||"localhost"===e},e.getCamerasFromMediaDevices=function(){return cr(this,void 0,void 0,function(){var e,t,r,n,i,a,o;return ur(this,function(s){switch(s.label){case 0:return e=function(e){for(var t=0,r=e.getVideoTracks();t<r.length;t++){var n=r[t];n.enabled=!1,n.stop(),e.removeTrack(n)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=s.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=s.sent(),n=[],i=0,a=r;i<a.length;i++)"videoinput"===(o=a[i]).kind&&n.push({id:o.deviceId,label:o.label});return e(t),[2,n]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,t){MediaStreamTrack.getSources(function(t){for(var r=[],n=0,i=t;n<i.length;n++){var a=i[n];"video"===a.kind&&r.push({id:a.id,label:a.label})}e(r)})})},e}();(Vt=Ht||(Ht={}))[Vt.UNKNOWN=0]="UNKNOWN",Vt[Vt.NOT_STARTED=1]="NOT_STARTED",Vt[Vt.SCANNING=2]="SCANNING",Vt[Vt.PAUSED=3]="PAUSED";var hr,fr,pr=function(){function e(){this.state=Ht.NOT_STARTED,this.onGoingTransactionNewState=Ht.UNKNOWN}return e.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},e.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Ht.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ht.UNKNOWN,this.directTransition(e)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ht.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ht.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ht.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(e){switch(this.state){case Ht.UNKNOWN:throw"Transition from unknown is not allowed";case Ht.NOT_STARTED:this.failIfNewStateIs(e,[Ht.PAUSED]);case Ht.SCANNING:case Ht.PAUSED:}},e.prototype.failIfNewStateIs=function(e,t){for(var r=0,n=t;r<n.length;r++){if(e===n[r])throw"Cannot transition from ".concat(this.state," to ").concat(e)}},e}(),gr=function(){function e(e){this.stateManager=e}return e.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},e.prototype.directTransition=function(e){this.stateManager.directTransition(e)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Ht.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Ht.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ht.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Ht.PAUSED},e}(),mr=function(){function e(){}return e.create=function(){return new gr(new pr)},e}(),yr=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),vr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return yr(t,e),t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Rt),wr=function(){function e(e,t){this.logger=t,this.fps=vr.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=!0===e.disableFlip,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=vr.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Lt.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!kt(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),br=function(){function e(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");var r;this.elementId=e,this.verbose=!1,"boolean"==typeof t?this.verbose=!0===t:t&&(r=t,this.verbose=!0===r.verbose,r.experimentalFeatures),this.logger=new jt(this.verbose),this.qrcode=new Zt(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=mr.create()}return e.prototype.start=function(e,t,r,n){var i,a=this;if(!e)throw"cameraIdOrConfig is required";if(!r||"function"!=typeof r)throw"qrCodeSuccessCallback is required and should be a function.";i=n||(this.verbose?this.logger.log:function(){});var o=wr.create(t,this.logger);this.clearElement();var s=!1;o.videoConstraints&&(o.isMediaStreamConstraintsValid()?s=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var l=s,c=document.getElementById(this.elementId);c.clientWidth?c.clientWidth:vr.DEFAULT_WIDTH,c.style.position="relative",this.shouldScan=!0,this.element=c;var u=this,d=this.stateManagerProxy.startTransition(Ht.SCANNING);return new Promise(function(t,n){var s=l?o.videoConstraints:u.createVideoConstraints(e);if(!s)return d.cancel(),void n("videoConstraints should be defined");var c={};l&&!o.aspectRatio||(c.aspectRatio=o.aspectRatio);var h={onRenderSurfaceReady:function(e,t){u.setupUi(e,t,o),u.isScanning=!0,u.foreverScan(o,r,i)}};lr.failIfNotSupported().then(function(e){e.create(s).then(function(e){return e.render(a.element,c,h).then(function(e){u.renderedCamera=e,d.execute(),t(null)}).catch(function(e){d.cancel(),n(e)})}).catch(function(e){d.cancel(),n(Bt.errorGettingUserMedia(e))})}).catch(function(e){d.cancel(),n(Bt.cameraStreamingNotSupported())})})},e.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ht.PAUSED),this.showPausedState(),(kt(e)||!0!==e)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,t=function(){e.stateManagerProxy.directTransition(Ht.SCANNING),e.hidePausedState()};this.renderedCamera.isPaused()?this.renderedCamera.resume(function(){t()}):t()},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var t=this.stateManagerProxy.startTransition(Ht.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=this;return this.renderedCamera.close().then(function(){return r.renderedCamera=null,r.element&&(r.element.removeChild(r.canvasElement),r.canvasElement=null),function(){if(e.element){var t=document.getElementById(vr.SHADED_REGION_ELEMENT_ID);t&&e.element.removeChild(t)}}(),r.qrRegion&&(r.qrRegion=null),r.context&&(r.context=null),t.execute(),r.hidePausedState(),r.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then(function(e){return e.decodedText})},e.prototype.scanFileV2=function(e,t){var r=this;if(!(e&&e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(kt(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(n,i){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var a=new Image;a.onload=function(){var e=a.width,o=a.height,s=document.getElementById(r.elementId),l=s.clientWidth?s.clientWidth:vr.DEFAULT_WIDTH,c=Math.max(s.clientHeight?s.clientHeight:o,vr.FILE_SCAN_MIN_HEIGHT),u=r.computeCanvasDrawConfig(e,o,l,c);if(t){var d=r.createCanvasElement(l,c,"qr-canvas-visible");d.style.display="inline-block",s.appendChild(d);var h=d.getContext("2d");if(!h)throw"Unable to get 2d context from canvas";h.canvas.width=l,h.canvas.height=c,h.drawImage(a,0,0,e,o,u.x,u.y,u.width,u.height)}var f=vr.FILE_SCAN_HIDDEN_CANVAS_PADDING,p=Math.max(a.width,u.width),g=Math.max(a.height,u.height),m=p+2*f,y=g+2*f,v=r.createCanvasElement(m,y);s.appendChild(v);var w=v.getContext("2d");if(!w)throw"Unable to get 2d context from canvas";w.canvas.width=m,w.canvas.height=y,w.drawImage(a,0,0,e,o,f,f,p,g);try{r.qrcode.decodeRobustlyAsync(v).then(function(e){n(Nt.createFromQrcodeResult(e))}).catch(i)}catch(b){i("QR code parse error, error = ".concat(b))}},a.onerror=i,a.onabort=i,a.onstalled=i,a.onsuspend=i,a.src=URL.createObjectURL(e)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return dr.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(e){if(!e)throw"videoConstaints is required argument.";if(!Lt.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},e.prototype.getRenderedCameraOrFail=function(){if(null==this.renderedCamera)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(e){var t=[Et.QR_CODE,Et.AZTEC,Et.CODABAR,Et.CODE_39,Et.CODE_93,Et.CODE_128,Et.DATA_MATRIX,Et.MAXICODE,Et.ITF,Et.EAN_13,Et.EAN_8,Et.PDF_417,Et.RSS_14,Et.RSS_EXPANDED,Et.UPC_A,Et.UPC_E,Et.UPC_EAN_EXTENSION];if(!e||"boolean"==typeof e)return t;if(!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===e.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],n=0,i=e.formatsToSupport;n<i.length;n++){var a=i[n];Ot(a)?r.push(a):this.logger.warn("Invalid format: ".concat(a," passed in config, ignoring."))}if(0===r.length)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(e){if(kt(e))return!0;if(!kt(e.useBarCodeDetectorIfSupported))return!1!==e.useBarCodeDetectorIfSupported;if(kt(e.experimentalFeatures))return!0;var t=e.experimentalFeatures;return!!kt(t.useBarCodeDetectorIfSupported)||!1!==t.useBarCodeDetectorIfSupported},e.prototype.validateQrboxSize=function(e,t,r){var n=this,i=r.qrbox;this.validateQrboxConfig(i);var a,o=this.toQrdimensions(e,t,i),s=function(e){if(e<vr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(vr.MIN_QR_BOX_SIZE,"px.")};s(o.width),s(o.height),o.width=((a=o.width)>e&&(n.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),a=e),a)},e.prototype.validateQrboxConfig=function(e){if("number"!=typeof e&&"function"!=typeof e&&(void 0===e.width||void 0===e.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(e,t,r){if("number"==typeof r)return{width:r,height:r};if("function"==typeof r)try{return r(e,t)}catch(n){throw new Error("qrbox config was passed as a function but it failed with unknown error"+n)}return r},e.prototype.setupUi=function(e,t,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,r);var n=kt(r.qrbox)?{width:e,height:t}:r.qrbox;this.validateQrboxConfig(n);var i=this.toQrdimensions(e,t,n);i.height>t&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var a=r.isShadedBoxEnabled()&&i.height<=t,o={x:0,y:0,width:e,height:t},s=a?this.getShadedRegionBounds(e,t,i):o,l=this.createCanvasElement(s.width,s.height),c=l.getContext("2d",{willReadFrequently:!0});c.canvas.width=s.width,c.canvas.height=s.height,this.element.append(l),a&&this.possiblyInsertShadingElement(this.element,e,t,i),this.createScannerPausedUiElement(this.element),this.qrRegion=s,this.context=c,this.canvasElement=l},e.prototype.createScannerPausedUiElement=function(e){var t=document.createElement("div");t.innerText=Bt.scannerPaused(),t.style.display="none",t.style.position="absolute",t.style.top="0px",t.style.zIndex="1",t.style.background="rgba(9, 9, 9, 0.46)",t.style.color="#FFECEC",t.style.textAlign="center",t.style.width="100%",e.appendChild(t),this.scannerPausedUiElement=t},e.prototype.scanContext=function(e,t){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(t){return e(t.text,Nt.createFromQrcodeResult(t)),r.possiblyUpdateShaders(!0),!0}).catch(function(e){r.possiblyUpdateShaders(!1);var n=Bt.codeParseError(e);return t(n,Dt.createFrom(n)),!1})},e.prototype.foreverScan=function(e,t,r){var n=this;if(this.shouldScan&&this.renderedCamera){var i=this.renderedCamera.getSurface(),a=i.videoWidth/i.clientWidth,o=i.videoHeight/i.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var s=this.qrRegion.width*a,l=this.qrRegion.height*o,c=this.qrRegion.x*a,u=this.qrRegion.y*o;this.context.drawImage(i,c,u,s,l,0,0,this.qrRegion.width,this.qrRegion.height);var d=function(){n.foreverScanTimeout=setTimeout(function(){n.foreverScan(e,t,r)},n.getTimeoutFps(e.fps))};this.scanContext(t,r).then(function(i){i||!0===e.disableFlip?d():(n.context.translate(n.context.canvas.width,0),n.context.scale(-1,1),n.scanContext(t,r).finally(function(){d()}))}).catch(function(e){n.logger.logError("Error happend while scanning context",e),d()})}},e.prototype.createVideoConstraints=function(e){if("string"==typeof e)return{deviceId:{exact:e}};if("object"==typeof e){var t="facingMode",r="deviceId",n={user:!0,environment:!0},i="exact",a=function(e){if(e in n)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(e,"'")},o=Object.keys(e);if(1!==o.length)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(o.length," keys");var s=Object.keys(e)[0];if(s!==t&&s!==r)throw"Only '".concat(t,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(s!==t){var l=e.deviceId;if("string"==typeof l)return{deviceId:l};if("object"==typeof l){if(i in l)return{deviceId:{exact:l["".concat(i)]}};throw"'deviceId' should be string or object with"+" ".concat(i," as key.")}throw"Invalid type of 'deviceId' = ".concat(typeof l)}var c=e.facingMode;if("string"==typeof c){if(a(c))return{facingMode:c}}else{if("object"!=typeof c)throw"Invalid type of 'facingMode' = ".concat(typeof c);if(!(i in c))throw"'facingMode' should be string or object with"+" ".concat(i," as key.");if(a(c["".concat(i)]))return{facingMode:{exact:c["".concat(i)]}}}}throw"Invalid type of 'cameraIdOrConfig' = ".concat(typeof e)},e.prototype.computeCanvasDrawConfig=function(e,t,r,n){if(e<=r&&t<=n)return{x:(r-e)/2,y:(n-t)/2,width:e,height:t};var i=e,a=t;return e>r&&(t*=r/e,e=r),t>n&&(e*=n/t,t=n),this.logger.log("Image downsampled from "+"".concat(i,"X").concat(a)+" to ".concat(e,"X").concat(t,".")),this.computeCanvasDrawConfig(e,t,r,n)},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},e.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=e?vr.BORDER_SHADER_MATCH_COLOR:vr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(e,t,r){var n=e,i=t,a=document.createElement("canvas");return a.style.width="".concat(n,"px"),a.style.height="".concat(i,"px"),a.style.display="none",a.id=kt(r)?"qr-canvas":r,a},e.prototype.getShadedRegionBounds=function(e,t,r){if(r.width>e||r.height>t)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(t-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(e,t,r,n){if(!(t-n.width<1||r-n.height<1)){var i=document.createElement("div");i.style.position="absolute";var a=(t-n.width)/2,o=(r-n.height)/2;if(i.style.borderLeft="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderRight="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderTop="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderBottom="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.boxSizing="border-box",i.style.top="0px",i.style.bottom="0px",i.style.left="0px",i.style.right="0px",i.id="".concat(vr.SHADED_REGION_ELEMENT_ID),t-n.width<11||r-n.height<11)this.hasBorderShaders=!1;else{var s=40;this.insertShaderBorders(i,s,5,-5,null,0,!0),this.insertShaderBorders(i,s,5,-5,null,0,!1),this.insertShaderBorders(i,s,5,null,-5,0,!0),this.insertShaderBorders(i,s,5,null,-5,0,!1),this.insertShaderBorders(i,5,45,-5,null,-5,!0),this.insertShaderBorders(i,5,45,null,-5,-5,!0),this.insertShaderBorders(i,5,45,-5,null,-5,!1),this.insertShaderBorders(i,5,45,null,-5,-5,!1),this.hasBorderShaders=!0}e.append(i)}},e.prototype.insertShaderBorders=function(e,t,r,n,i,a,o){var s=document.createElement("div");s.style.position="absolute",s.style.backgroundColor=vr.BORDER_SHADER_DEFAULT_COLOR,s.style.width="".concat(t,"px"),s.style.height="".concat(r,"px"),null!==n&&(s.style.top="".concat(n,"px")),null!==i&&(s.style.bottom="".concat(i,"px")),o?s.style.left="".concat(a,"px"):s.style.right="".concat(a,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(s),e.appendChild(s)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(e){return 1e3/e},e}();(fr=hr||(hr={}))[fr.STATUS_DEFAULT=0]="STATUS_DEFAULT",fr[fr.STATUS_SUCCESS=1]="STATUS_SUCCESS",fr[fr.STATUS_WARNING=2]="STATUS_WARNING",fr[fr.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION";const Er=({visible:e,onClose:t,onScanSuccess:n})=>{const i=_.useRef(null),a=_.useRef(null),[o,s]=_.useState(!1),l=()=>{if(a.current&&a.current.stop().then(()=>{a.current=null}).catch(e=>{}),i.current&&i.current.srcObject){i.current.srcObject.getTracks().forEach(e=>e.stop()),i.current.srcObject=null}};return _.useEffect(()=>{e||(l(),s(!1))},[e]),r.jsxs(H,{open:e,onCancel:t,footer:null,width:350,centered:!0,className:"qr-scanner-modal",styles:{content:{backgroundColor:ft.cardBackground,color:ft.text,borderRadius:mt.borderRadius,border:`${mt.borderWidth} ${mt.borderStyle} ${ft.border}`,padding:"16px"},header:{backgroundColor:ft.cardBackground,borderBottom:`${mt.borderWidth} ${mt.borderStyle} ${ft.border}`,color:ft.text,padding:"12px 16px"}},title:r.jsx("span",{style:{color:ft.text,fontSize:"16px",fontWeight:"500"},children:"扫描二维码"}),children:[r.jsxs("div",{style:{width:"100%",height:"250px",position:"relative",overflow:"hidden",borderRadius:mt.borderRadius,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center"},children:[r.jsx("video",{ref:i,id:"qr-scanner-video",style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:mt.borderRadius}}),o&&r.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"200px",height:"200px",border:`2px solid ${ft.primary}`,borderRadius:"8px",backgroundColor:"rgba(24, 144, 255, 0.1)",boxShadow:"0 0 0 1000px rgba(0, 0, 0, 0.5)"},children:[r.jsx("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"2px",backgroundColor:ft.primary,animation:"scanLine 2s linear infinite"}}),r.jsx("div",{style:{position:"absolute",top:"-2px",left:"-2px",width:"20px",height:"20px",borderTop:`3px solid ${ft.primary}`,borderLeft:`3px solid ${ft.primary}`}}),r.jsx("div",{style:{position:"absolute",top:"-2px",right:"-2px",width:"20px",height:"20px",borderTop:`3px solid ${ft.primary}`,borderRight:`3px solid ${ft.primary}`}}),r.jsx("div",{style:{position:"absolute",bottom:"-2px",left:"-2px",width:"20px",height:"20px",borderBottom:`3px solid ${ft.primary}`,borderLeft:`3px solid ${ft.primary}`}}),r.jsx("div",{style:{position:"absolute",bottom:"-2px",right:"-2px",width:"20px",height:"20px",borderBottom:`3px solid ${ft.primary}`,borderRight:`3px solid ${ft.primary}`}})]}),!o&&r.jsxs("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.7)",color:ft.text,padding:"20px",borderRadius:mt.borderRadius},children:[r.jsx("div",{style:{marginBottom:"16px",fontSize:"24px"},children:"📷"}),r.jsx("p",{style:{marginBottom:"16px",textAlign:"center",fontSize:pt.fontSizeNormal},children:"需要相机权限来扫描二维码"}),r.jsx(W,{type:"primary",onClick:async()=>{if(i.current)try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:300,height:300}});s(!0),i.current.srcObject=e,await i.current.play(),a.current=new br("qr-scanner-video"),await a.current.start({facingMode:"environment"},{fps:10,qrbox:{width:200,height:200},aspectRatio:1},e=>{n(e),l(),t()},()=>{})}catch(e){s(!1)}},style:{backgroundColor:ft.primary,color:ft.text,borderRadius:mt.borderRadius,padding:"8px 24px",border:"none",fontSize:pt.fontSizeNormal},children:"请求相机权限"})]})]}),r.jsxs("div",{style:{marginTop:"16px",textAlign:vt.textAlign},children:[r.jsx("p",{style:{fontSize:pt.fontSizeNormal,margin:0,color:ft.text},children:"请将二维码对准扫描框"}),r.jsx("p",{style:{fontSize:pt.fontSizeSmall,marginTop:"8px",marginBottom:"0",marginLeft:"0",marginRight:"0",color:ft.textSecondary},children:"支持扫描钱包地址、链接等"})]})]})},Ar=()=>{const e=[{path:"/onboarding/buy",text:"私募",icon:r.jsx(Ie,{})},{path:"/onboarding/data",text:"数据",icon:r.jsx(ve,{})},{path:"/onboarding/community",text:"社区",icon:r.jsx(Ye,{})},{path:"/onboarding/store",text:"商城",icon:r.jsx(Ge,{})},{path:"/onboarding/nft",text:"NFT",icon:r.jsx(ke,{})},{path:"/onboarding/me",text:"我",icon:r.jsx(ct,{})},{path:"/statistics",text:"统计",icon:r.jsx(ve,{})}],{user:t,setUser:a,setWalletAddress:o,fetchUserFromServer:s}=ht(),{address:l,isConnected:c}=n(),u=T(),[d,h]=_.useState(!1),[f,p]=_.useState(!1),[g]=_.useState(!1);return _.useEffect(()=>{if(g)return;if(c&&l){const t=localStorage.getItem("sanciaUser");if(t)try{const e=JSON.parse(t);if(e.walletAddress===l)return a(e),void h(!1);localStorage.removeItem("sanciaUser")}catch(e){localStorage.removeItem("sanciaUser")}(async()=>{await s(l)?h(!1):(o(l),h(!0))})()}else a(null),o(""),h(!1),localStorage.removeItem("sanciaUser")},[c,l,a,o,h,g,s]),r.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",backgroundColor:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(10px)",borderBottom:"1px solid rgba(255, 255, 255, 0.1)",position:"sticky",top:0,zIndex:100},children:[r.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[r.jsx("div",{style:{width:"24px",height:"24px",color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:r.jsx($e,{})}),r.jsx("div",{style:{width:"24px",height:"24px",color:"#ffffff",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"transform 0.2s ease"},onClick:()=>p(!0),onMouseDown:e=>e.currentTarget.style.transform="scale(0.9)",onMouseUp:e=>e.currentTarget.style.transform="scale(1)",onMouseLeave:e=>e.currentTarget.style.transform="scale(1)",children:r.jsx(He,{})})]}),r.jsxs("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",display:"flex",alignItems:"center",fontSize:"32px",fontWeight:"bold",lineHeight:"1"},children:[r.jsx("span",{style:{color:"#FF0000",fontSize:"32px",fontWeight:"bold",display:"inline-block"},children:"S"}),r.jsx("span",{style:{color:"#FFA500",fontSize:"32px",fontWeight:"bold",display:"inline-block"},children:"a"}),r.jsx("span",{style:{color:"#FFFF00",fontSize:"32px",fontWeight:"bold",display:"inline-block"},children:"n"}),r.jsx("span",{style:{color:"#008000",fontSize:"32px",fontWeight:"bold",display:"inline-block"},children:"c"}),r.jsx("span",{style:{color:"#00FFFF",fontSize:"32px",fontWeight:"bold",display:"inline-block"},children:"i"}),r.jsx("span",{style:{color:"#0000FF",fontSize:"32px",fontWeight:"bold",display:"inline-block"},children:"a"})]}),r.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px",minWidth:"150px",justifyContent:"flex-end"},children:c&&l&&t&&t.registered&&t.walletAddress===l?r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#ffffff",padding:"6px 12px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"20px",cursor:"pointer"},children:[r.jsx("img",{src:t.avatar,alt:t.username,style:{width:24,height:24,borderRadius:"50%",objectFit:"cover"}}),r.jsx("span",{style:{fontSize:"14px",fontWeight:500},children:t.username})]}):r.jsx(i,{})})]}),r.jsx("div",{style:{flex:1},children:r.jsx(P,{})}),r.jsx("div",{style:{display:"flex",justifyContent:"space-around",alignItems:"center",padding:"8px 0",backgroundColor:"rgba(0, 0, 0, 0.7)",backdropFilter:"blur(10px)",borderTop:"1px solid rgba(255, 255, 255, 0.1)",position:"sticky",bottom:0,zIndex:100},children:e.map(e=>r.jsxs(R,{to:e.path,style:{display:"flex",flexDirection:"column",alignItems:"center",color:u.pathname===e.path?"#ffffff":"#666666",textDecoration:"none",fontSize:"12px",padding:"4px"},children:[r.jsx("div",{style:{fontSize:"18px",marginBottom:"2px"},children:e.icon}),r.jsx("span",{children:e.text})]},e.path))}),r.jsx(bt,{visible:Boolean(c&&d&&l&&!g),onCancel:()=>h(!1),walletAddress:l||""}),r.jsx(Er,{visible:f,onClose:()=>p(!1),onScanSuccess:e=>{X.success("扫描成功"),e.startsWith("http")?window.location.href=e:/^0x[a-fA-F0-9]{40}$/.test(e)?X.info(`扫描到钱包地址: ${e}`):X.info(`扫描结果: ${e}`)}})]})},xr=[{inputs:[{internalType:"address",name:"initialOwner",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"allowance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"}],name:"ERC20InsufficientAllowance",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"}],name:"ERC20InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC20InvalidApprover",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC20InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC20InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"spender",type:"address"}],name:"ERC20InvalidSpender",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],Cr=[{inputs:[{internalType:"address",name:"initialOwner",type:"address"},{internalType:"address",name:"_usdtToken",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"enum ReferralCenter.BadgeLevel",name:"badgeLevel",type:"uint8"},{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"}],name:"BadgeAchieved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"enum ReferralCenter.BadgeLevel",name:"badgeLevel",type:"uint8"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"BadgePoolFunded",type:"event"},{anonymous:!1,inputs:[],name:"BadgesFrozen",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint8",name:"badgeLevel",type:"uint8"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"DividendClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"enum ReferralCenter.BadgeLevel",name:"badgeLevel",type:"uint8"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"DividendDistributed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"timestamp",type:"uint256"},{indexed:!1,internalType:"uint256",name:"expiresAt",type:"uint256"}],name:"DividendPeriodUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"FundsReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"oldPoints",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newPoints",type:"uint256"}],name:"PointsUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"referrer",type:"address"}],name:"ReferralRegistered",type:"event"},{inputs:[],name:"CITY_BADGE_THRESHOLD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MEMBER_BADGE_THRESHOLD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"NATIONAL_BADGE_THRESHOLD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PROVINCE_BADGE_THRESHOLD",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum ReferralCenter.BadgeLevel",name:"",type:"uint8"}],name:"badgeCounts",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum ReferralCenter.BadgeLevel",name:"",type:"uint8"},{internalType:"uint256",name:"",type:"uint256"}],name:"badgeHolders",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum ReferralCenter.BadgeLevel",name:"",type:"uint8"}],name:"badgePools",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"checkBadgeEligibility",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum ReferralCenter.BadgeLevel",name:"badgeLevel",type:"uint8"}],name:"claimDividend",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currentDividendExpiresAt",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum ReferralCenter.BadgeLevel",name:"",type:"uint8"}],name:"currentDividendPerBadge",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"currentDividendTimestamp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"freezeBadges",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"fundBadgePool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum ReferralCenter.BadgeLevel",name:"badgeLevel",type:"uint8"}],name:"getBadgeCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"userPoints",type:"uint256"}],name:"getEligibleBadgeLevel",outputs:[{internalType:"enum ReferralCenter.BadgeLevel",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"enum ReferralCenter.BadgeLevel",name:"currentBadge",type:"uint8"}],name:"getNextBadgeThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserBadgeInfo",outputs:[{internalType:"enum ReferralCenter.BadgeLevel",name:"badgeLevel",type:"uint8"},{internalType:"uint256",name:"userPoints",type:"uint256"},{internalType:"uint256",name:"nextBadgeThreshold",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserClaimableDividends",outputs:[{internalType:"uint256",name:"totalClaimable",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"enum ReferralCenter.BadgeLevel",name:"",type:"uint8"}],name:"hasClaimedCurrent",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"hasReferrerEligibility",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"isBadgeFrozen",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"points",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"privateSaleContract",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"referrals",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"referrers",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"referrer",type:"address"}],name:"registerReferral",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"referrer",type:"address"}],name:"registerReferralFor",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_privateSaleContract",type:"address"}],name:"setPrivateSaleContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"updatePoints",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usdtToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userBadges",outputs:[{internalType:"enum ReferralCenter.BadgeLevel",name:"",type:"uint8"}],stateMutability:"view",type:"function"}],Sr=[{inputs:[{internalType:"address",name:"initialOwner",type:"address"},{internalType:"address",name:"_sanciaToken",type:"address"},{internalType:"address",name:"_usdtToken",type:"address"},{internalType:"address",name:"_referralCenter",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"referrer",type:"address"},{indexed:!1,internalType:"uint256",name:"sciaReward",type:"uint256"},{indexed:!1,internalType:"uint256",name:"usdtReward",type:"uint256"}],name:"ReferralRewardDistributed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"totalSold",type:"uint256"},{indexed:!1,internalType:"uint256",name:"totalRewardDistributed",type:"uint256"}],name:"SaleEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"isPaused",type:"bool"},{indexed:!1,internalType:"bool",name:"isEnded",type:"bool"}],name:"SaleStatusChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"usdtAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"sciaAmount",type:"uint256"},{indexed:!1,internalType:"address",name:"referrer",type:"address"}],name:"TokensPurchased",type:"event"},{inputs:[],name:"MAX_PACKAGES",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_PACKAGES",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PER_PACKAGE_SCIAs",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PER_PACKAGE_USDT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PRICE_PER_TOKEN",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"RATE_DENOMINATOR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REFERRAL_SCIAs_RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"REFERRAL_USDT_RATE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"autoDistributeTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"packages",type:"uint256"},{internalType:"address",name:"referrer",type:"address"}],name:"buyTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"privateSaleAmount",type:"uint256"},{internalType:"uint256",name:"rewardAmount",type:"uint256"}],name:"depositTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"emergencyWithdrawTokens",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"endSale",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getPoolInfo",outputs:[{internalType:"uint256",name:"remainingPrivateSale",type:"uint256"},{internalType:"uint256",name:"remainingRewardPool",type:"uint256"},{internalType:"uint256",name:"currentPrivateSaleBalance",type:"uint256"},{internalType:"uint256",name:"currentRewardPoolBalance",type:"uint256"},{internalType:"uint256",name:"totalSoldSCIA",type:"uint256"},{internalType:"uint256",name:"totalRewardDistributedSCIA",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"isEnded",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"isPaused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"privateSalePoolBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"privateSalePoolSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"purchaseAmounts",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"referralCenter",outputs:[{internalType:"contract IReferralCenter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rewardPoolBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardPoolSize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"sanciaToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"_isPaused",type:"bool"}],name:"setSaleStatus",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalRewardDistributed",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usdtToken",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawUSDT",outputs:[],stateMutability:"nonpayable",type:"function"}],_r="0xCc528eb49547C258D08f80b77823Ee54D043Ee1C",Ir="0x75a6858B136012187F68B9E06Ee048c25b815aB4",Or="0xf5753871068D76CFdb8f2c20b8cd0E6be5C9BC46",Tr="0x337610d27c682E347C9cD60BD4b3b107C9d34dDd",Pr=["https://data-seed-prebsc-1-s1.bnbchain.org:8545","https://data-seed-prebsc-2-s1.bnbchain.org:8545","https://data-seed-prebsc-1-s2.bnbchain.org:8545","https://data-seed-prebsc-2-s2.bnbchain.org:8545","https://rpc.ankr.com/bsc_testnet_chapel"];class Rr extends o{constructor(e){super(e[0]),t(this,"rpcUrls"),t(this,"currentRpcIndex"),this.rpcUrls=e,this.currentRpcIndex=0}switchToNextRpc(){this.currentRpcIndex=(this.currentRpcIndex+1)%this.rpcUrls.length,this._url=this.rpcUrls[this.currentRpcIndex]}async call(e){let t;for(let n=0;n<this.rpcUrls.length;n++)try{return await super.call(e)}catch(r){t=r,n<this.rpcUrls.length-1&&this.switchToNextRpc()}throw t}}const Mr=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_owner",type:"address"},{name:"_spender",type:"address"}],name:"allowance",outputs:[{name:"remaining",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_spender",type:"address"},{name:"_value",type:"uint256"}],name:"approve",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"}],Nr=(e,t,r)=>(r||(r=new Rr(Pr)),new a(e,t,r)),Dr=(e,t=18)=>c(e,t),jr=()=>{const{address:e,isConnected:t}=n(),r=s({address:_r,abi:xr,functionName:"balanceOf",args:[e||""],query:{enabled:t&&!!e,refetchInterval:3e4,refetchOnWindowFocus:!1}}),i=s({address:_r,abi:xr,functionName:"allowance",args:[e||"",Ir],query:{enabled:t&&!!e,refetchInterval:6e4,refetchOnWindowFocus:!1}}),a=s({address:_r,abi:xr,functionName:"decimals",query:{enabled:t,refetchInterval:36e5,refetchOnWindowFocus:!1}}),{writeContract:o}=l();return{balanceOf:r,allowance:i,decimals:a,approve:async(e,t)=>{try{return await o({address:_r,abi:xr,functionName:"approve",args:[e,t]})}catch(r){throw r}},address:_r}},kr=()=>{const{address:e,isConnected:t}=n(),r=s({address:Ir,abi:Cr,functionName:"getUserBadgeInfo",args:[e||""],query:{enabled:t&&!!e,refetchInterval:3e4,refetchOnWindowFocus:!1}}),i=s({address:Ir,abi:Cr,functionName:"getUserClaimableDividends",args:[e||""],query:{enabled:t&&!!e,refetchInterval:6e4,refetchOnWindowFocus:!1}}),a=s({address:Ir,abi:Cr,functionName:"getBadgeCount",args:[0],query:{enabled:t,refetchInterval:12e4,refetchOnWindowFocus:!1}}),o=s({address:Ir,abi:Cr,functionName:"points",args:[e||""],query:{enabled:t&&!!e,refetchInterval:3e4,refetchOnWindowFocus:!1}}),c=s({address:Ir,abi:Cr,functionName:"referrers",args:[e||""],query:{enabled:t&&!!e,refetchInterval:6e4,refetchOnWindowFocus:!1}}),u=s({address:Ir,abi:Cr,functionName:"MEMBER_BADGE_THRESHOLD",query:{enabled:t,refetchInterval:36e5,refetchOnWindowFocus:!1}}),d=s({address:Ir,abi:Cr,functionName:"CITY_BADGE_THRESHOLD",query:{enabled:t,refetchInterval:36e5,refetchOnWindowFocus:!1}}),h=s({address:Ir,abi:Cr,functionName:"PROVINCE_BADGE_THRESHOLD",query:{enabled:t,refetchInterval:36e5,refetchOnWindowFocus:!1}}),f=s({address:Ir,abi:Cr,functionName:"NATIONAL_BADGE_THRESHOLD",query:{enabled:t,refetchInterval:36e5,refetchOnWindowFocus:!1}}),{writeContract:p}=l();return{getUserBadgeInfo:r,getUserClaimableDividends:i,getBadgeCount:a,points:o,referrers:c,MEMBER_BADGE_THRESHOLD:u,CITY_BADGE_THRESHOLD:d,PROVINCE_BADGE_THRESHOLD:h,NATIONAL_BADGE_THRESHOLD:f,registerReferral:async e=>{try{return void(await p({address:Ir,abi:Cr,functionName:"registerReferral",args:[e]}))}catch(t){throw t}},claimDividend:async e=>{try{return void(await p({address:Ir,abi:Cr,functionName:"claimDividend",args:[e]}))}catch(t){throw t}},fundBadgePool:async e=>{try{return void(await p({address:Ir,abi:Cr,functionName:"fundBadgePool",args:[e]}))}catch(t){throw t}},address:Ir}},Br=()=>{const{address:e,isConnected:t}=n(),r=s({address:Tr,abi:Mr,functionName:"balanceOf",args:[e||""],query:{enabled:t&&!!e,refetchInterval:3e4,refetchOnWindowFocus:!1}}),i=s({address:Tr,abi:Mr,functionName:"allowance",args:[e||"",Or],query:{enabled:t&&!!e,refetchInterval:6e4,refetchOnWindowFocus:!1}}),a=s({address:Tr,abi:Mr,functionName:"decimals",query:{enabled:t,refetchInterval:36e5,refetchOnWindowFocus:!1}}),{writeContract:o}=l();return{balanceOf:r,allowance:i,decimals:a,approve:async(e,t)=>{try{return await o({address:Tr,abi:Mr,functionName:"approve",args:[e,t]})}catch(r){throw r}},address:Tr,USDT_ABI:Mr,defaultDecimals:6}};var Lr={exports:{}},Fr={},Ur=_;var zr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Hr=Ur.useSyncExternalStore,Vr=Ur.useRef,Wr=Ur.useEffect,Gr=Ur.useMemo,Xr=Ur.useDebugValue;Fr.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=Vr(null);if(null===a.current){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Gr(function(){function e(e){if(!l){if(l=!0,a=e,e=n(e),void 0!==i&&o.hasValue){var t=o.value;if(i(t,e))return s=t}return s=e}if(t=s,zr(a,e))return t;var r=n(e);return void 0!==i&&i(t,r)?(a=e,t):(a=e,s=r)}var a,s,l=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,i]);var s=Hr(e,a[0],a[1]);return Wr(function(){o.hasValue=!0,o.value=s},[s]),Xr(s),s},Lr.exports=Fr;var Kr=Lr.exports;var Yr={notify(){},get:()=>[]};var qr=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),Zr=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),$r=(()=>qr||Zr?_.useLayoutEffect:_.useEffect)();function Qr(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Jr(e,t){if(Qr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!Qr(e[r[i]],t[r[i]]))return!1;return!0}var en=Symbol.for("react-redux-context"),tn="undefined"!=typeof globalThis?globalThis:{};function rn(){if(!_.createContext)return{};const e=tn[en]??(tn[en]=new Map);let t=e.get(_.createContext);return t||(t=_.createContext(null),e.set(_.createContext,t)),t}var nn=rn();var an=function(e){const{children:t,context:r,serverState:n,store:i}=e,a=_.useMemo(()=>{const e=function(e){let t,r=Yr,n=0,i=!1;function a(){l.onStateChange&&l.onStateChange()}function o(){n++,t||(t=e.subscribe(a),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){(()=>{let t=e;for(;t;)t.callback(),t=t.next})()},get(){const t=[];let r=e;for(;r;)t.push(r),r=r.next;return t},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){n&&null!==e&&(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function s(){n--,t&&0===n&&(t(),t=void 0,r.clear(),r=Yr)}const l={addNestedSub:function(e){o();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),s())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,o())},tryUnsubscribe:function(){i&&(i=!1,s())},getListeners:()=>r};return l}(i);return{store:i,subscription:e,getServerState:n?()=>n:void 0}},[i,n]),o=_.useMemo(()=>i.getState(),[i]);$r(()=>{const{subscription:e}=a;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[a,o]);const s=r||nn;return _.createElement(s.Provider,{value:a},t)};function on(e=nn){return function(){return _.useContext(e)}}var sn=on();function ln(e=nn){const t=e===nn?sn:on(e),r=()=>{const{store:e}=t();return e};return Object.assign(r,{withTypes:()=>r}),r}var cn=ln();function un(e=nn){const t=e===nn?cn:ln(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var dn=un(),hn=(e,t)=>e===t;function fn(e=nn){const t=e===nn?sn:on(e),r=(e,r={})=>{const{equalityFn:n=hn}="function"==typeof r?{equalityFn:r}:r,i=t(),{store:a,subscription:o,getServerState:s}=i;_.useRef(!0);const l=_.useCallback({[e.name]:t=>e(t)}[e.name],[e]),c=Kr.useSyncExternalStoreWithSelector(o.addNestedSub,a.getState,s||a.getState,l,n);return _.useDebugValue(c),c};return Object.assign(r,{withTypes:()=>r}),r}const pn=()=>dn(),gn=fn();function mn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var yn=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),vn=()=>Math.random().toString(36).substring(7).split("").join("."),wn={INIT:`@@redux/INIT${vn()}`,REPLACE:`@@redux/REPLACE${vn()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${vn()}`};function bn(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function En(e,t,r){if("function"!=typeof e)throw new Error(mn(2));if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(mn(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(mn(1));return r(En)(e,t)}let n=e,i=t,a=new Map,o=a,s=0,l=!1;function c(){o===a&&(o=new Map,a.forEach((e,t)=>{o.set(t,e)}))}function u(){if(l)throw new Error(mn(3));return i}function d(e){if("function"!=typeof e)throw new Error(mn(4));if(l)throw new Error(mn(5));let t=!0;c();const r=s++;return o.set(r,e),function(){if(t){if(l)throw new Error(mn(6));t=!1,c(),o.delete(r),a=null}}}function h(e){if(!bn(e))throw new Error(mn(7));if(void 0===e.type)throw new Error(mn(8));if("string"!=typeof e.type)throw new Error(mn(17));if(l)throw new Error(mn(9));try{l=!0,i=n(i,e)}finally{l=!1}return(a=o).forEach(e=>{e()}),e}h({type:wn.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(mn(10));n=e,h({type:wn.REPLACE})},[yn]:function(){const e=d;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(mn(11));function r(){const e=t;e.next&&e.next(u())}r();return{unsubscribe:e(r)}},[yn](){return this}}}}}function An(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const n=t[a];"function"==typeof e[n]&&(r[n]=e[n])}const n=Object.keys(r);let i;try{!function(e){Object.keys(e).forEach(t=>{const r=e[t];if(void 0===r(void 0,{type:wn.INIT}))throw new Error(mn(12));if(void 0===r(void 0,{type:wn.PROBE_UNKNOWN_ACTION()}))throw new Error(mn(13))})}(r)}catch(i_){i=i_}return function(e={},t){if(i)throw i;let a=!1;const o={};for(let i=0;i<n.length;i++){const s=n[i],l=r[s],c=e[s],u=l(c,t);if(void 0===u)throw t&&t.type,new Error(mn(14));o[s]=u,a=a||u!==c}return a=a||n.length!==Object.keys(e).length,a?o:e}}function xn(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...r)=>e(t(...r)))}function Cn(e){return bn(e)&&"type"in e&&"string"==typeof e.type}var Sn=Symbol.for("immer-nothing"),_n=Symbol.for("immer-draftable"),In=Symbol.for("immer-state");function On(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Tn=Object,Pn=Tn.getPrototypeOf,Rn="constructor",Mn="prototype",Nn="configurable",Dn="enumerable",jn="writable",kn="value",Bn=e=>!!e&&!!e[In];function Ln(e){var t;return!!e&&(zn(e)||Kn(e)||!!e[_n]||!!(null==(t=e[Rn])?void 0:t[_n])||Yn(e)||qn(e))}var Fn=Tn[Mn][Rn].toString(),Un=new WeakMap;function zn(e){if(!e||!Zn(e))return!1;const t=Pn(e);if(null===t||t===Tn[Mn])return!0;const r=Tn.hasOwnProperty.call(t,Rn)&&t[Rn];if(r===Object)return!0;if(!$n(r))return!1;let n=Un.get(r);return void 0===n&&(n=Function.toString.call(r),Un.set(r,n)),n===Fn}function Hn(e,t,r=!0){if(0===Vn(e)){(r?Reflect.ownKeys(e):Tn.keys(e)).forEach(r=>{t(r,e[r],e)})}else e.forEach((r,n)=>t(n,r,e))}function Vn(e){const t=e[In];return t?t.type_:Kn(e)?1:Yn(e)?2:qn(e)?3:0}var Wn=(e,t,r=Vn(e))=>2===r?e.has(t):Tn[Mn].hasOwnProperty.call(e,t),Gn=(e,t,r=Vn(e))=>2===r?e.get(t):e[t],Xn=(e,t,r,n=Vn(e))=>{2===n?e.set(t,r):3===n?e.add(r):e[t]=r};var Kn=Array.isArray,Yn=e=>e instanceof Map,qn=e=>e instanceof Set,Zn=e=>"object"==typeof e,$n=e=>"function"==typeof e,Qn=e=>"boolean"==typeof e;var Jn=e=>e.copy_||e.base_,ei=e=>e.modified_?e.copy_:e.base_;function ti(e,t){if(Yn(e))return new Map(e);if(qn(e))return new Set(e);if(Kn(e))return Array[Mn].slice.call(e);const r=zn(e);if(!0===t||"class_only"===t&&!r){const t=Tn.getOwnPropertyDescriptors(e);delete t[In];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const i=r[n],a=t[i];!1===a[jn]&&(a[jn]=!0,a[Nn]=!0),(a.get||a.set)&&(t[i]={[Nn]:!0,[jn]:!0,[Dn]:a[Dn],[kn]:e[i]})}return Tn.create(Pn(e),t)}{const t=Pn(e);if(null!==t&&r)return{...e};const n=Tn.create(t);return Tn.assign(n,e)}}function ri(e,t=!1){return ii(e)||Bn(e)||!Ln(e)||(Vn(e)>1&&Tn.defineProperties(e,{set:ni,add:ni,clear:ni,delete:ni}),Tn.freeze(e),t&&Hn(e,(e,t)=>{ri(t,!0)},!1)),e}var ni={[kn]:function(){On(2)}};function ii(e){return null===e||!Zn(e)||Tn.isFrozen(e)}var ai="MapSet",oi="Patches",si="ArrayMethods",li={};function ci(e){const t=li[e];return t||On(0),t}var ui,di=e=>!!li[e];var hi=()=>ui;function fi(e,t){t&&(e.patchPlugin_=ci(oi),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function pi(e){gi(e),e.drafts_.forEach(yi),e.drafts_=null}function gi(e){e===ui&&(ui=e.parent_)}var mi=e=>ui={drafts_:[],parent_:ui,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:di(ai)?ci(ai):void 0,arrayMethodsPlugin_:di(si)?ci(si):void 0};function yi(e){const t=e[In];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function vi(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(void 0!==e&&e!==r){r[In].modified_&&(pi(t),On(4)),Ln(e)&&(e=wi(t,e));const{patchPlugin_:n}=t;n&&n.generateReplacementPatches_(r[In].base_,e,t)}else e=wi(t,r);return function(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ri(t,r)}(t,e,!0),pi(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Sn?e:void 0}function wi(e,t){if(ii(t))return t;const r=t[In];if(!r){return Si(t,e.handledSet_,e)}if(!Ei(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:t}=r;if(t)for(;t.length>0;){t.pop()(e)}Ci(r,e)}return r.copy_}function bi(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Ei=(e,t)=>e.scope_===t,Ai=[];function xi(e,t,r,n){const i=Jn(e),a=e.type_;if(void 0!==n){if(Gn(i,n,a)===t)return void Xn(i,n,r,a)}if(!e.draftLocations_){const t=e.draftLocations_=new Map;Hn(i,(e,r)=>{if(Bn(r)){const n=t.get(r)||[];n.push(e),t.set(r,n)}})}const o=e.draftLocations_.get(t)??Ai;for(const s of o)Xn(i,s,r,a)}function Ci(e,t){var r;if(e.modified_&&!e.finalized_&&(3===e.type_||1===e.type_&&e.allIndicesReassigned_||((null==(r=e.assigned_)?void 0:r.size)??0)>0)){const{patchPlugin_:r}=t;if(r){const n=r.getPath(e);n&&r.generatePatches_(e,n,t)}bi(e)}}function Si(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Bn(e)||t.has(e)||!Ln(e)||ii(e)||(t.add(e),Hn(e,(n,i)=>{if(Bn(i)){const t=i[In];if(Ei(t,r)){const r=ei(t);Xn(e,n,r,e.type_),bi(t)}}else Ln(i)&&Si(i,t,r)})),e}var _i={get(e,t){if(t===In)return e;let r=e.scope_.arrayMethodsPlugin_;const n=1===e.type_&&"string"==typeof t;if(n&&(null==r?void 0:r.isArrayOperationMethod(t)))return r.createMethodInterceptor(e,t);const i=Jn(e);if(!Wn(i,t,e.type_))return function(e,t,r){var n;const i=Ti(t,r);return i?kn in i?i[kn]:null==(n=i.get)?void 0:n.call(e.draft_):void 0}(e,i,t);const a=i[t];if(e.finalized_||!Ln(a))return a;if(n&&e.operationMethod&&(null==r?void 0:r.isMutatingArrayMethod(e.operationMethod))&&function(e){const t=+e;return Number.isInteger(t)&&String(t)===e}(t))return a;if(a===Oi(e.base_,t)){Ri(e);const r=1===e.type_?+t:t,n=Mi(e.scope_,a,e,r);return e.copy_[r]=n}return a},has:(e,t)=>t in Jn(e),ownKeys:e=>Reflect.ownKeys(Jn(e)),set(e,t,r){const n=Ti(Jn(e),t);if(null==n?void 0:n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=Oi(Jn(e),t),o=null==n?void 0:n[In];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(((i=r)===(a=n)?0!==i||1/i==1/a:i!=i&&a!=a)&&(void 0!==r||Wn(e.base_,t,e.type_)))return!0;Ri(e),Pi(e)}var i,a;return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),function(e,t,r){const{scope_:n}=e;if(Bn(r)){const i=r[In];Ei(i,n)&&i.callbacks_.push(function(){Ri(e);const n=ei(i);xi(e,r,n,t)})}else Ln(r)&&e.callbacks_.push(function(){const i=Jn(e);3===e.type_?i.has(r)&&Si(r,n.handledSet_,n):Gn(i,t,e.type_)===r&&n.drafts_.length>1&&!0===(e.assigned_.get(t)??!1)&&e.copy_&&Si(Gn(e.copy_,t,e.type_),n.handledSet_,n)})}(e,t,r)),!0},deleteProperty:(e,t)=>(Ri(e),void 0!==Oi(e.base_,t)||t in e.base_?(e.assigned_.set(t,!1),Pi(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=Jn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{[jn]:!0,[Nn]:1!==e.type_||"length"!==t,[Dn]:n[Dn],[kn]:r[t]}:n},defineProperty(){On(11)},getPrototypeOf:e=>Pn(e.base_),setPrototypeOf(){On(12)}},Ii={};for(let qN in _i){let e=_i[qN];Ii[qN]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}}function Oi(e,t){const r=e[In];return(r?Jn(r):e)[t]}function Ti(e,t){if(!(t in e))return;let r=Pn(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=Pn(r)}}function Pi(e){e.modified_||(e.modified_=!0,e.parent_&&Pi(e.parent_))}function Ri(e){e.copy_||(e.assigned_=new Map,e.copy_=ti(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Ii.deleteProperty=function(e,t){return Ii.set.call(this,e,t,void 0)},Ii.set=function(e,t,r){return _i.set.call(this,e[0],t,r,e[0])};function Mi(e,t,r,n){const[i,a]=Yn(t)?ci(ai).proxyMap_(t,r):qn(t)?ci(ai).proxySet_(t,r):function(e,t){const r=Kn(e),n={type_:r?1:0,scope_:t?t.scope_:hi(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=_i;r&&(i=[n],a=Ii);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,[s,n]}(t,r);return((null==r?void 0:r.scope_)??hi()).drafts_.push(i),a.callbacks_=(null==r?void 0:r.callbacks_)??[],a.key_=n,r&&void 0!==n?function(e,t,r){e.callbacks_.push(function(n){var i;const a=t;if(!a||!Ei(a,n))return;null==(i=n.mapSetPlugin_)||i.fixSetContents(a);const o=ei(a);xi(e,a.draft_??a,o,r),Ci(a,n)})}(r,a,n):a.callbacks_.push(function(e){var t;null==(t=e.mapSetPlugin_)||t.fixSetContents(a);const{patchPlugin_:r}=e;a.modified_&&r&&r.generatePatches_(a,[],e)}),i}function Ni(e){return Bn(e)||On(10),Di(e)}function Di(e){if(!Ln(e)||ii(e))return e;const t=e[In];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ti(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=ti(e,!0);return Hn(r,(e,t)=>{Xn(r,e,Di(t))},n),t&&(t.finalized_=!1),r}var ji=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,r)=>{if($n(e)&&!$n(t)){const r=t;t=e;const n=this;return function(e=r,...i){return n.produce(e,e=>t.call(this,e,...i))}}let n;if($n(t)||On(6),void 0===r||$n(r)||On(7),Ln(e)){const i=mi(this),a=Mi(i,e,void 0);let o=!0;try{n=t(a),o=!1}finally{o?pi(i):gi(i)}return fi(i,r),vi(n,i)}if(!e||!Zn(e)){if(n=t(e),void 0===n&&(n=e),n===Sn&&(n=void 0),this.autoFreeze_&&ri(n,!0),r){const t=[],i=[];ci(oi).generateReplacementPatches_(e,n,{patches_:t,inversePatches_:i}),r(t,i)}return n}On(1)},this.produceWithPatches=(e,t)=>{if($n(e))return(t,...r)=>this.produceWithPatches(t,t=>e(t,...r));let r,n;return[this.produce(e,t,(e,t)=>{r=e,n=t}),r,n]},Qn(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Qn(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Qn(null==e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ln(e)||On(8),Bn(e)&&(e=Ni(e));const t=mi(this),r=Mi(t,e,void 0);return r[In].isManual_=!0,gi(t),r}finishDraft(e,t){const r=e&&e[In];r&&r.isManual_||On(9);const{scope_:n}=r;return fi(n,t),vi(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=ci(oi).applyPatches_;return Bn(e)?n(e,t):this.produce(e,e=>n(e,t))}},ki=ji.produce;var Bi=e=>Array.isArray(e)?e:[e];function Li(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){const r=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${r}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}var Fi="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function Ui(){return{s:0,v:void 0,o:null,p:null}}function zi(e,t={}){let r={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:n}=t;let i,a=0;function o(){var t;let o=r;const{length:s}=arguments;for(let e=0,r=s;e<r;e++){const t=arguments[e];if("function"==typeof t||"object"==typeof t&&null!==t){let e=o.o;null===e&&(o.o=e=new WeakMap);const r=e.get(t);void 0===r?(o=Ui(),e.set(t,o)):o=r}else{let e=o.p;null===e&&(o.p=e=new Map);const r=e.get(t);void 0===r?(o=Ui(),e.set(t,o)):o=r}}const l=o;let c;if(1===o.s)c=o.v;else if(c=e.apply(null,arguments),a++,n){const e=(null==(t=null==i?void 0:i.deref)?void 0:t.call(i))??i;null!=e&&n(e,c)&&(c=e,0!==a&&a--);i="object"==typeof c&&null!==c||"function"==typeof c?new Fi(c):c}return l.s=1,l.v=c,c}return o.clearCache=()=>{r={s:0,v:void 0,o:null,p:null},o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function Hi(e,...t){const r="function"==typeof e?{memoize:e,memoizeOptions:t}:e,n=(...e)=>{let t,n=0,i=0,a={},o=e.pop();"object"==typeof o&&(a=o,o=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(o,`createSelector expects an output function after the inputs, but received: [${typeof o}]`);const s={...r,...a},{memoize:l,memoizeOptions:c=[],argsMemoize:u=zi,argsMemoizeOptions:d=[]}=s,h=Bi(c),f=Bi(d),p=Li(e),g=l(function(){return n++,o.apply(null,arguments)},...h),m=u(function(){i++;const e=function(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}(p,arguments);return t=g.apply(null,e),t},...f);return Object.assign(m,{resultFunc:o,memoizedResultFunc:g,dependencies:p,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>t,recomputations:()=>n,resetRecomputations:()=>{n=0},memoize:l,argsMemoize:u})};return Object.assign(n,{withTypes:()=>n}),n}var Vi=Hi(zi),Wi=Object.assign((e,t=Vi)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const r=Object.keys(e);return t(r.map(t=>e[t]),(...e)=>e.reduce((e,t,n)=>(e[r[n]]=t,e),{}))},{withTypes:()=>Wi});function Gi(e){return({dispatch:t,getState:r})=>n=>i=>"function"==typeof i?i(t,r,e):n(i)}var Xi=Gi(),Ki=Gi,Yi="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?xn:xn.apply(null,arguments)};function qi(e,t){function r(...r){if(t){let n=t(...r);if(!n)throw new Error(Qa(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:r[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=t=>Cn(t)&&t.type===e,r}var Zi=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function $i(e){return Ln(e)?ki(e,()=>{}):e}function Qi(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var Ji="RTK_autoBatch",ea=()=>e=>({payload:e,meta:{[Ji]:!0}}),ta=e=>t=>{setTimeout(t,e)},ra=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,o=!1;const s=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:ta(10):"callback"===e.type?e.queueNotification:ta(e.timeout),c=()=>{o=!1,a&&(a=!1,s.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>i&&e());return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){var t;try{return i=!(null==(t=null==e?void 0:e.meta)?void 0:t[Ji]),a=!i,a&&(o||(o=!0,l(c))),n.dispatch(e)}finally{i=!0}}})};function na(e){const t=function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=e??{};let a=new Zi;return t&&("boolean"==typeof t?a.push(Xi):a.push(Ki(t.extraArgument))),a},{reducer:r,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:o,enhancers:s}=e||{};let l,c;if("function"==typeof r)l=r;else{if(!bn(r))throw new Error(Qa(1));l=An(r)}c="function"==typeof n?n(t):t();let u=xn;i&&(u=Yi({trace:!1,..."object"==typeof i&&i}));const d=function(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(mn(15))};const o={getState:i.getState,dispatch:(e,...t)=>a(e,...t)},s=e.map(e=>e(o));return a=xn(...s)(i.dispatch),{...i,dispatch:a}}}(...c),h=(e=>function(t){const{autoBatch:r=!0}=t??{};let n=new Zi(e);return r&&n.push(ra("object"==typeof r?r:void 0)),n})(d);return En(l,o,u(..."function"==typeof s?s(h):h()))}function ia(e){const t={},r=[];let n;const i={addCase(e,r){const n="string"==typeof e?e:e.type;if(!n)throw new Error(Qa(28));if(n in t)throw new Error(Qa(29));return t[n]=r,i},addAsyncThunk:(e,n)=>(n.pending&&(t[e.pending.type]=n.pending),n.rejected&&(t[e.rejected.type]=n.rejected),n.fulfilled&&(t[e.fulfilled.type]=n.fulfilled),n.settled&&r.push({matcher:e.settled,reducer:n.settled}),i),addMatcher:(e,t)=>(r.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(n=e,i)};return e(i),[t,r,n]}var aa=(e,t)=>{return(r=e)&&"function"==typeof r.match?e.match(t):e(t);var r};function oa(...e){return t=>e.some(e=>aa(e,t))}var sa=(e=21)=>{let t="",r=e;for(;r--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},la=["name","message","stack","code"],ca=class{constructor(e,r){t(this,"_type"),this.payload=e,this.meta=r}},ua=class{constructor(e,r){t(this,"_type"),this.payload=e,this.meta=r}},da=e=>{if("object"==typeof e&&null!==e){const t={};for(const r of la)"string"==typeof e[r]&&(t[r]=e[r]);return t}return{message:String(e)}},ha="External signal was aborted",fa=(()=>{function e(e,t,r){const n=qi(e+"/fulfilled",(e,t,r,n)=>({payload:e,meta:{...n||{},arg:r,requestId:t,requestStatus:"fulfilled"}})),i=qi(e+"/pending",(e,t,r)=>({payload:void 0,meta:{...r||{},arg:t,requestId:e,requestStatus:"pending"}})),a=qi(e+"/rejected",(e,t,n,i,a)=>({payload:i,error:(r&&r.serializeError||da)(e||"Rejected"),meta:{...a||{},arg:n,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)}}));return Object.assign(function(e,{signal:o}={}){return(s,l,c)=>{const u=(null==r?void 0:r.idGenerator)?r.idGenerator(e):sa(),d=new AbortController;let h,f;function p(e){f=e,d.abort()}o&&(o.aborted?p(ha):o.addEventListener("abort",()=>p(ha),{once:!0}));const g=async function(){var o,g;let m;try{let a=null==(o=null==r?void 0:r.condition)?void 0:o.call(r,e,{getState:l,extra:c});if(null!==(y=a)&&"object"==typeof y&&"function"==typeof y.then&&(a=await a),!1===a||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const v=new Promise((e,t)=>{h=()=>{t({name:"AbortError",message:f||"Aborted"})},d.signal.addEventListener("abort",h,{once:!0})});s(i(u,e,null==(g=null==r?void 0:r.getPendingMeta)?void 0:g.call(r,{requestId:u,arg:e},{getState:l,extra:c}))),m=await Promise.race([v,Promise.resolve(t(e,{dispatch:s,getState:l,extra:c,requestId:u,signal:d.signal,abort:p,rejectWithValue:(e,t)=>new ca(e,t),fulfillWithValue:(e,t)=>new ua(e,t)})).then(t=>{if(t instanceof ca)throw t;return t instanceof ua?n(t.payload,u,e,t.meta):n(t,u,e)})])}catch(v){m=v instanceof ca?a(null,u,e,v.payload,v.meta):a(v,u,e)}finally{h&&d.signal.removeEventListener("abort",h)}var y;return r&&!r.dispatchConditionRejection&&a.match(m)&&m.meta.condition||s(m),m}();return Object.assign(g,{abort:p,requestId:u,arg:e,unwrap:()=>g.then(pa)})}},{pending:i,rejected:a,fulfilled:n,settled:oa(a,n),typePrefix:e})}return e.withTypes=()=>e,e})();function pa(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var ga=Symbol.for("rtk-slice-createasyncthunk");function ma(e,t){return`${e}/${t}`}function ya({creators:e}={}){var t;const r=null==(t=null==e?void 0:e.asyncThunk)?void 0:t[ga];return function(e){const{name:t,reducerPath:n=t}=e;if(!t)throw new Error(Qa(11));const i=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(i),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},s={addCase(e,t){const r="string"==typeof e?e:e.type;if(!r)throw new Error(Qa(12));if(r in o.sliceCaseReducersByType)throw new Error(Qa(13));return o.sliceCaseReducersByType[r]=t,s},addMatcher:(e,t)=>(o.sliceMatchers.push({matcher:e,reducer:t}),s),exposeAction:(e,t)=>(o.actionCreators[e]=t,s),exposeCaseReducer:(e,t)=>(o.sliceCaseReducersByName[e]=t,s)};function l(){const[t={},r=[],n]="function"==typeof e.extraReducers?ia(e.extraReducers):[e.extraReducers],i={...t,...o.sliceCaseReducersByType};return function(e,t){let r,[n,i,a]=ia(t);if("function"==typeof e)r=()=>$i(e());else{const t=$i(e);r=()=>t}function o(e=r(),t){let o=[n[t.type],...i.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===o.filter(e=>!!e).length&&(o=[a]),o.reduce((e,r)=>{if(r){if(Bn(e)){const n=r(e,t);return void 0===n?e:n}if(Ln(e))return ki(e,e=>r(e,t));{const n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}}return e},e)}return o.getInitialState=r,o}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of o.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)})}a.forEach(n=>{const a=i[n],o={reducerName:n,type:ma(t,n),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function({type:e,reducerName:t,createNotation:r},n,i){let a,o;if("reducer"in n){if(r&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(n))throw new Error(Qa(17));a=n.reducer,o=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,o?qi(e,o):qi(e))}(o,a,s):function({type:e,reducerName:t},r,n,i){if(!i)throw new Error(Qa(18));const{payloadCreator:a,fulfilled:o,pending:s,rejected:l,settled:c,options:u}=r,d=i(e,a,u);n.exposeAction(t,d),o&&n.addCase(d.fulfilled,o);s&&n.addCase(d.pending,s);l&&n.addCase(d.rejected,l);c&&n.addMatcher(d.settled,c);n.exposeCaseReducer(t,{fulfilled:o||ba,pending:s||ba,rejected:l||ba,settled:c||ba})}(o,a,s,r)});const c=e=>e,u=new Map,d=new WeakMap;let h;function f(e,t){return h||(h=l()),h(e,t)}function p(){return h||(h=l()),h.getInitialState()}function g(t,r=!1){function n(e){let i=e[t];return void 0===i&&r&&(i=Qi(d,n,p)),i}function i(t=c){const n=Qi(u,r,()=>new WeakMap);return Qi(n,t,()=>{const n={};for(const[i,a]of Object.entries(e.selectors??{}))n[i]=va(a,t,()=>Qi(d,t,p),r);return n})}return{reducerPath:t,getSelectors:i,get selectors(){return i(n)},selectSlice:n}}const m={name:t,reducer:f,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:p,...g(n),injectInto(e,{reducerPath:t,...r}={}){const i=t??n;return e.inject({reducerPath:i,reducer:f},r),{...m,...g(i,!0)}}};return m}}function va(e,t,r,n){function i(i,...a){let o=t(i);return void 0===o&&n&&(o=r()),e(o,...a)}return i.unwrapped=e,i}var wa=ya();function ba(){}var Ea="listener",Aa="completed",xa="cancelled",Ca=`task-${xa}`,Sa=`task-${Aa}`,_a=`${Ea}-${xa}`,Ia=`${Ea}-${Aa}`,Oa=class{constructor(e){t(this,"name","TaskAbortError"),t(this,"message"),this.code=e,this.message=`task ${xa} (reason: ${e})`}},Ta=(e,t)=>{if("function"!=typeof e)throw new TypeError(Qa(32))},Pa=()=>{},Ra=(e,t=Pa)=>(e.catch(t),e),Ma=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Na=e=>{if(e.aborted)throw new Oa(e.reason)};function Da(e,t){let r=Pa;return new Promise((n,i)=>{const a=()=>i(new Oa(e.reason));e.aborted?a():(r=Ma(e,a),t.finally(()=>r()).then(n,i))}).finally(()=>{r=Pa})}var ja=e=>t=>Ra(Da(e,t).then(t=>(Na(e),t))),ka=e=>{const t=ja(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:Ba}=Object,La={},Fa="listenerMiddleware",Ua=(e,t)=>(r,n)=>{Ta(r);const i=new AbortController;var a;a=i,Ma(e,()=>a.abort(e.reason));const o=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Oa?"cancelled":"rejected",error:r}}finally{null==t||t()}})(async()=>{Na(e),Na(i.signal);const t=await r({pause:ja(i.signal),delay:ka(i.signal),signal:i.signal});return Na(i.signal),t},()=>i.abort(Sa));return(null==n?void 0:n.autoJoin)&&t.push(o.catch(Pa)),{result:ja(e)(o),cancel(){i.abort(Ca)}}},za=(e,t)=>(r,n)=>Ra((async(r,n)=>{Na(t);let i=()=>{};const a=[new Promise((t,n)=>{let a=e({predicate:r,effect:(e,r)=>{r.unsubscribe(),t([e,r.getState(),r.getOriginalState()])}});i=()=>{a(),n()}})];null!=n&&a.push(new Promise(e=>setTimeout(e,n,null)));try{const e=await Da(t,Promise.race(a));return Na(t),e}finally{i()}})(r,n)),Ha=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=qi(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Qa(21));return Ta(a),{predicate:i,type:t,effect:a}},Va=Ba(e=>{const{type:t,predicate:r,effect:n}=Ha(e);return{id:sa(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Qa(22))}}},{withTypes:()=>Va}),Wa=(e,t)=>{const{type:r,effect:n,predicate:i}=Ha(t);return Array.from(e.values()).find(e=>("string"==typeof r?e.type===r:e.predicate===i)&&e.effect===n)},Ga=e=>{e.pending.forEach(e=>{e.abort(_a)})},Xa=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},Ka=Ba(qi(`${Fa}/add`),{withTypes:()=>Ka}),Ya=qi(`${Fa}/removeAll`),qa=Ba(qi(`${Fa}/remove`),{withTypes:()=>qa}),Za=(...e)=>{},$a=(e={})=>{const t=new Map,r=new Map,{extra:n,onError:i=Za}=e;Ta(i);const a=e=>(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),(null==t?void 0:t.cancelActive)&&Ga(e)}))(Wa(t,e)??Va(e));Ba(a,{withTypes:()=>a});const o=e=>{const r=Wa(t,e);return r&&(r.unsubscribe(),e.cancelActive&&Ga(r)),!!r};Ba(o,{withTypes:()=>o});const s=async(e,o,s,l)=>{const c=new AbortController,u=za(a,c.signal),d=[];try{e.pending.add(c),(e=>{const t=r.get(e)??0;r.set(e,t+1)})(e),await Promise.resolve(e.effect(o,Ba({},s,{getOriginalState:l,condition:(e,t)=>u(e,t).then(Boolean),take:u,delay:ka(c.signal),pause:ja(c.signal),extra:n,signal:c.signal,fork:Ua(c.signal,d),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,r)=>{e!==c&&(e.abort(_a),r.delete(e))})},cancel:()=>{c.abort(_a),e.pending.delete(c)},throwIfCancelled:()=>{Na(c.signal)}})))}catch(h){h instanceof Oa||Xa(i,h,{raisedBy:"effect"})}finally{await Promise.all(d),c.abort(Ia),(e=>{const t=r.get(e)??1;1===t?r.delete(e):r.set(e,t-1)})(e),e.pending.delete(c)}},l=((e,t)=>()=>{for(const e of t.keys())Ga(e);e.clear()})(t,r);return{middleware:e=>r=>n=>{if(!Cn(n))return r(n);if(Ka.match(n))return a(n.payload);if(Ya.match(n))return void l();if(qa.match(n))return o(n.payload);let c=e.getState();const u=()=>{if(c===La)throw new Error(Qa(23));return c};let d;try{if(d=r(n),t.size>0){const r=e.getState(),a=Array.from(t.values());for(const t of a){let a=!1;try{a=t.predicate(n,r,c)}catch(h){a=!1,Xa(i,h,{raisedBy:"predicate"})}a&&s(t,n,e,u)}}}finally{c=La}return d},startListening:a,stopListening:o,clearListeners:l}};function Qa(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Ja={status:"idle",error:null,packages:"1",referrer:"",transactionStatus:"",isProcessing:!1,isAuthorizing:!1,isRegisteringReferrer:!1,transactionHash:void 0,purchaseAmountBeforeTx:void 0,expectedCost:"0.00",expectedReward:"1000"},eo=fa("privateSale/registerReferrer",async(e,{rejectWithValue:t})=>{try{return e}catch(r){return t(r.message||"注册推荐人失败")}}),to=fa("privateSale/buyTokens",async({numPackages:e,referrer:t},{rejectWithValue:r})=>{try{return{numPackages:e,referrer:t}}catch(n){return r(n.message||"购买代币失败")}}),ro=wa({name:"privateSale",initialState:Ja,reducers:{setPackages:(e,t)=>{e.packages=t.payload},setReferrer:(e,t)=>{e.referrer=t.payload},setTransactionStatus:(e,t)=>{e.transactionStatus=t.payload},setIsProcessing:(e,t)=>{e.isProcessing=t.payload},setIsAuthorizing:(e,t)=>{e.isAuthorizing=t.payload},setIsRegisteringReferrer:(e,t)=>{e.isRegisteringReferrer=t.payload},setTransactionHash:(e,t)=>{e.transactionHash=t.payload},setPurchaseAmountBeforeTx:(e,t)=>{e.purchaseAmountBeforeTx=t.payload},setExpectedCost:(e,t)=>{e.expectedCost=t.payload},setExpectedReward:(e,t)=>{e.expectedReward=t.payload},resetState:()=>Ja},extraReducers:e=>{e.addCase(eo.pending,e=>{e.status="loading",e.isRegisteringReferrer=!0,e.transactionStatus="正在提交推荐人注册..."}).addCase(eo.fulfilled,e=>{e.status="succeeded",e.isRegisteringReferrer=!1,e.transactionStatus="推荐人注册成功！"}).addCase(eo.rejected,(e,t)=>{e.status="failed",e.isRegisteringReferrer=!1,e.error=t.error.message||"推荐人注册失败",e.transactionStatus=`${e.error}，请稍后重试`}).addCase(to.pending,e=>{e.status="loading",e.isProcessing=!0,e.transactionStatus="正在准备用USDT购买SCIA..."}).addCase(to.fulfilled,e=>{e.status="succeeded",e.isProcessing=!1,e.transactionStatus="购买SCIA的交易已提交，请在钱包中确认"}).addCase(to.rejected,(e,t)=>{e.status="failed",e.isProcessing=!1,e.error=t.error.message||"购买失败",e.transactionStatus=`${e.error}，请稍后重试`})}}),{setPackages:no,setReferrer:io,setTransactionStatus:ao,setIsProcessing:oo,setIsAuthorizing:so,setIsRegisteringReferrer:lo,setTransactionHash:co,setPurchaseAmountBeforeTx:uo,setExpectedCost:ho,setExpectedReward:fo,resetState:po}=ro.actions,go=ro.reducer,mo=()=>{const{address:e,isConnected:t}=n(),[i]=M(),a=Br(),o=(()=>{const{address:e,isConnected:t}=n(),r=s({address:Or,abi:Sr,functionName:"getPoolInfo",query:{enabled:!0,refetchInterval:3e4,refetchOnWindowFocus:!1}}),i=s({address:Or,abi:Sr,functionName:"isPaused",query:{enabled:!0,refetchInterval:15e3,refetchOnWindowFocus:!1}}),a=s({address:Or,abi:Sr,functionName:"isEnded",query:{enabled:!0,refetchInterval:15e3,refetchOnWindowFocus:!1}}),o=s({address:Or,abi:Sr,functionName:"PER_PACKAGE_USDT",query:{enabled:!0,refetchInterval:36e5,refetchOnWindowFocus:!1}}),c=s({address:Or,abi:Sr,functionName:"PER_PACKAGE_SCIAs",query:{enabled:!0,refetchInterval:36e5,refetchOnWindowFocus:!1}}),u=s({address:Or,abi:Sr,functionName:"purchaseAmounts",args:[e||""],query:{enabled:t&&!!e,refetchInterval:3e4,refetchOnWindowFocus:!1}}),d=s({address:Or,abi:Sr,functionName:"totalSold",query:{enabled:!0,refetchInterval:3e4,refetchOnWindowFocus:!1}}),h=s({address:Or,abi:Sr,functionName:"totalRewardDistributed",query:{enabled:!0,refetchInterval:3e4,refetchOnWindowFocus:!1}}),{writeContract:f}=l();return{getPoolInfo:r,isPaused:i,isEnded:a,PER_PACKAGE_USDT:o,PER_PACKAGE_SCIAs:c,purchaseAmounts:u,totalSold:d,totalRewardDistributed:h,buyTokens:async(e,t)=>{try{const r=BigInt(e);return void(await f({address:Or,abi:Sr,functionName:"buyTokens",args:[r,t]}))}catch(r){throw r}},depositTokens:async(e,t)=>{try{return await f({address:Or,abi:Sr,functionName:"depositTokens",args:[e,t]})}catch(r){throw r}},setSaleStatus:async e=>{try{return await f({address:Or,abi:Sr,functionName:"setSaleStatus",args:[e]})}catch(t){throw t}},endSale:async()=>{try{return await f({address:Or,abi:Sr,functionName:"endSale",args:[]})}catch(e){throw e}},address:Or}})(),c=jr(),d=pn(),{packages:h,referrer:f,transactionStatus:p,isProcessing:g,isAuthorizing:m,isRegisteringReferrer:y,transactionHash:v,purchaseAmountBeforeTx:w,expectedCost:b,expectedReward:E}=gn(e=>e.privateSale);_.useEffect(()=>{const t=i.get("referrer");t&&/^0x[a-fA-F0-9]{40}$/.test(t)&&(e&&t.toLowerCase()===e.toLowerCase()?d(io("")):d(io(t)))},[i,e,d]);const{isLoading:A,isSuccess:x,data:C}=u({hash:v,pollingInterval:1e3}),S="number"==typeof c.decimals.data?c.decimals.data:18;_.useEffect(()=>{const e=setTimeout(()=>{(()=>{if(o.PER_PACKAGE_USDT.data&&o.PER_PACKAGE_SCIAs.data)try{const e=Dr(o.PER_PACKAGE_USDT.data,18),t=Dr(o.PER_PACKAGE_SCIAs.data,S),r=parseInt(h)||1,n=(parseFloat(e)*r).toFixed(4),i=(parseFloat(t)*r).toFixed(0);d(ho(n)),d(fo(i))}catch(e){}})()},100);return()=>clearTimeout(e)},[h,18,S,o.PER_PACKAGE_USDT.data,o.PER_PACKAGE_SCIAs.data]),_.useEffect(()=>{A?d(ao("交易已提交，正在等待区块链确认...")):C&&v||x&&v?(d(ao("购买SCIA成功！交易已确认")),setTimeout(()=>{d(co(void 0)),d(ao("")),d(uo(void 0)),d(oo(!1)),d(so(!1))},3e3)):A||!v||x||C||(d(oo(!1)),d(so(!1)),d(ao("")),d(co(void 0)),d(uo(void 0)))},[A,x,v,C,d]),_.useEffect(()=>{if(v&&(A||!x)&&void 0!==o.purchaseAmounts.data&&w)try{const e=w,t=o.purchaseAmounts.data;if(void 0!==t){const r=BigInt(e);let n;if("bigint"==typeof t)n=t;else{if("string"!=typeof t&&"number"!=typeof t)return;n=BigInt(t.toString())}n>r&&(d(ao("购买SCIA成功！链上状态已更新")),d(oo(!1)),d(so(!1)),setTimeout(()=>{d(co(void 0)),d(ao("")),d(uo(void 0))},3e3))}}catch(e){}},[v,A,x,w,d]),_.useEffect(()=>{if(v&&g){const e=setTimeout(()=>{d(oo(!1)),d(so(!1)),d(ao("交易处理超时，请检查钱包或手动刷新")),setTimeout(()=>{d(ao(""))},3e3)},3e5);return()=>clearTimeout(e)}},[v,g,d]);return r.jsxs("div",{style:wt.pageContainer,children:[r.jsx("h1",{style:{...wt.title,color:ft.text},children:"私募页面"}),r.jsxs("div",{style:{...wt.card,marginBottom:"20px"},children:[r.jsx("h2",{style:{...wt.subtitle,color:ft.text},children:"池信息"}),o.getPoolInfo.data&&Array.isArray(o.getPoolInfo.data)?r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginTop:"10px"},children:[r.jsxs("div",{children:[r.jsx("p",{style:{...wt.text,color:ft.textSecondary},children:"私募池剩余"}),r.jsxs("p",{style:{...wt.text,color:ft.text},children:[parseFloat(Dr(o.getPoolInfo.data[0],S)).toFixed(0)," SCIA"]})]}),r.jsxs("div",{children:[r.jsx("p",{style:{...wt.text,color:ft.textSecondary},children:"奖励池剩余"}),r.jsxs("p",{style:{...wt.text,color:ft.text},children:[parseFloat(Dr(o.getPoolInfo.data[1],S)).toFixed(0)," SCIA"]})]}),r.jsxs("div",{children:[r.jsx("p",{style:{...wt.text,color:ft.textSecondary},children:"已售SCIA"}),r.jsxs("p",{style:{...wt.text,color:ft.text},children:[parseFloat(Dr(o.totalSold.data||0,S)).toFixed(0)," SCIA"]})]}),r.jsxs("div",{children:[r.jsx("p",{style:{...wt.text,color:ft.textSecondary},children:"已分发奖励"}),r.jsxs("p",{style:{...wt.text,color:ft.text},children:[parseFloat(Dr(o.totalRewardDistributed.data||0,S)).toFixed(0)," SCIA"]})]})]}):r.jsx("div",{style:{...wt.text,color:ft.textSecondary,marginTop:"10px"},children:"加载中..."})]}),r.jsxs("div",{style:wt.card,children:[r.jsx("h2",{style:{...wt.subtitle,color:ft.text},children:"参与私募"}),p&&r.jsx("div",{style:{marginTop:"16px",padding:"12px",borderRadius:"8px",backgroundColor:p.includes("成功")?"#1e3a2a":"#3a1e1e",border:"1px solid "+(p.includes("成功")?"#52c41a":"#ff4d4f")},children:r.jsx("p",{style:{...wt.text,color:p.includes("成功")?ft.success:ft.danger,fontSize:"14px",margin:0},children:p})}),(g||m||y)&&r.jsxs("div",{style:{marginTop:"16px",display:"flex",alignItems:"center",justifyContent:"center",padding:"16px",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"8px"},children:[r.jsx("div",{style:{width:"20px",height:"20px",border:"2px solid rgba(255, 255, 255, 0.3)",borderTop:`2px solid ${ft.primary}`,borderRadius:"50%",animation:"spin 1s linear infinite",marginRight:"8px"}}),r.jsx("p",{style:{...wt.text,color:ft.text,fontSize:"14px",margin:0},children:y?"注册推荐人中...":m?"授权中...":"处理中..."})]}),r.jsxs("div",{style:{marginTop:"20px"},children:[r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("p",{style:{...wt.text,color:ft.textSecondary},children:"套餐详情"}),r.jsxs("p",{style:{...wt.text,color:ft.text},children:["每套: ",o.PER_PACKAGE_USDT.data?`${parseFloat(Dr(o.PER_PACKAGE_USDT.data,18)).toFixed(4)} USDT`:"0.01 USDT"," = ",o.PER_PACKAGE_SCIAs.data?`${parseFloat(Dr(o.PER_PACKAGE_SCIAs.data,S)).toFixed(0)} SCIA`:"1000 SCIA"]})]}),r.jsxs("div",{style:{marginBottom:"16px"},children:[r.jsx("p",{style:{...wt.text,color:ft.textSecondary,marginBottom:"8px",fontSize:"14px",fontWeight:500},children:"购买数量（套）"}),r.jsx("input",{type:"number",min:"1",max:"1000",value:h,onChange:e=>d(no(e.target.value)),style:{width:"100%",padding:"12px",backgroundColor:ft.cardBackground,border:`1px solid ${ft.border}`,color:ft.text,borderRadius:"8px",fontSize:"14px",opacity:1,transition:"all 0.2s ease",boxShadow:"inset 0 1px 3px rgba(0, 0, 0, 0.3)"},disabled:g,onFocus:e=>{e.currentTarget.style.borderColor=ft.primary,e.currentTarget.style.boxShadow="0 0 0 2px rgba(24, 144, 255, 0.2)"},onBlur:e=>{e.currentTarget.style.borderColor=ft.border,e.currentTarget.style.boxShadow="inset 0 1px 3px rgba(0, 0, 0, 0.3)"}}),r.jsx("p",{style:{...wt.text,color:ft.textSecondary,marginTop:"4px",fontSize:"12px",marginBottom:0},children:"购买数量范围：1-1000套"})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("p",{style:{...wt.text,color:ft.textSecondary,marginBottom:"8px",fontSize:"14px",fontWeight:500},children:"推荐人地址（可选）"}),r.jsx("input",{type:"text",value:f,onChange:e=>d(io(e.target.value)),placeholder:"请输入推荐人钱包地址",style:{width:"100%",padding:"12px",backgroundColor:ft.cardBackground,border:`1px solid ${ft.border}`,color:ft.text,borderRadius:"8px",fontSize:"14px",opacity:1,transition:"all 0.2s ease",boxShadow:"inset 0 1px 3px rgba(0, 0, 0, 0.3)"},disabled:g,onFocus:e=>{e.currentTarget.style.borderColor=ft.primary,e.currentTarget.style.boxShadow="0 0 0 2px rgba(24, 144, 255, 0.2)"},onBlur:e=>{e.currentTarget.style.borderColor=ft.border,e.currentTarget.style.boxShadow="inset 0 1px 3px rgba(0, 0, 0, 0.3)"}}),r.jsx("p",{style:{...wt.text,color:ft.textSecondary,marginTop:"8px",fontSize:"12px",marginBottom:0},children:"提示：购买1套及以上套餐后自动成为推荐人"})]}),r.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"20px"},children:[r.jsxs("div",{children:[r.jsx("p",{style:{...wt.text,color:ft.textSecondary},children:"预计花费"}),r.jsxs("p",{style:{...wt.text,color:ft.text},children:[b," USDT"]})]}),r.jsxs("div",{children:[r.jsx("p",{style:{...wt.text,color:ft.textSecondary},children:"预计获得"}),r.jsxs("p",{style:{...wt.text,color:ft.success},children:[E," SCIA"]})]})]}),r.jsx("div",{style:{width:"100%",marginTop:"24px",display:"flex",justifyContent:"center",alignItems:"center"},children:t?r.jsx("button",{style:{...wt.buttonPrimary,width:"100%",maxWidth:"300px",fontSize:"16px",padding:"14px 24px",cursor:Boolean(o.isPaused.data)||Boolean(o.isEnded.data)||g||m?"not-allowed":"pointer",backgroundColor:Boolean(o.isPaused.data)||Boolean(o.isEnded.data)||g||m?"#666666":ft.primary,opacity:Boolean(o.isPaused.data)||Boolean(o.isEnded.data)||g||m?.6:1,transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",borderRadius:"8px"},onClick:async()=>{var r,n,i,s;if(t&&e)try{d(oo(!0)),d(ao("正在准备用USDT购买SCIA..."));const e=parseInt(h)||1;if(e<1)return d(ao("购买数量至少为1套")),void d(oo(!1));if(e>1e3)return d(ao("购买数量最多为1000套")),void d(oo(!1));const t=f||"0x0000000000000000000000000000000000000000";if(o.isPaused.data)return d(ao("销售已暂停，请稍后再试")),void d(oo(!1));if(o.isEnded.data)return d(ao("销售已结束，感谢参与")),void d(oo(!1));if(!o.PER_PACKAGE_USDT.data)return d(ao("获取套餐信息失败，请刷新页面重试")),void d(oo(!1));const c=o.PER_PACKAGE_USDT.data;let u;try{if(!c)throw new Error("PER_PACKAGE_USDT.data is null or undefined");u="bigint"==typeof c?c:"string"==typeof c?BigInt(c):"number"==typeof c?BigInt(c.toString()):BigInt(JSON.stringify(c))}catch(l){return d(ao("获取套餐信息失败，无法解析USDT金额")),void d(oo(!1))}const p=u*BigInt(e),g=parseFloat(Dr(p,18)),m=a.balanceOf.data;let y;if(void 0===m)return d(ao("获取USDT余额中...")),void d(oo(!1));try{if(null===m||"object"==typeof m)throw new Error("Invalid balance data");y="bigint"==typeof m?m:BigInt(m.toString())}catch(l){return d(ao("获取USDT余额失败，无法解析余额")),void d(oo(!1))}if(y<p)return d(ao(`USDT余额不足，需要 ${g.toFixed(4)} USDT，当前余额: ${Dr(y,18)} USDT`)),void d(oo(!1));const v=a.allowance.data;let w;if(void 0===v)w=BigInt(0);else try{if(null===v||"object"==typeof v)throw new Error("Invalid allowance data");w="bigint"==typeof v?v:BigInt(v.toString())}catch(l){return d(ao("获取USDT授权信息失败，无法解析授权")),void d(oo(!1))}if(w<p){d(so(!0)),d(ao("正在授权USDT..."));try{await a.approve(o.address,p)}catch(l){let e="USDT授权失败";return 4001===l.code?e="用户拒绝了授权请求":(null==(r=l.message)?void 0:r.includes("insufficient allowance"))&&(e="授权额度不足"),d(ao(`${e}，请稍后重试`)),d(oo(!1)),void d(so(!1))}d(so(!1)),d(ao("USDT授权成功，正在执行购买...")),await new Promise(e=>setTimeout(e,1e3))}const b=o.purchaseAmounts.data,E=void 0!==b?"bigint"==typeof b?b.toString():String(b):"0";d(uo(E)),d(ao("正在提交购买SCIA的交易..."));try{const r=await o.buyTokens(e,t);r&&"string"==typeof r&&d(co(r)),d(ao("购买SCIA的交易已提交，请在钱包中确认"))}catch(l){let e="提交交易失败";return 4001===l.code?e="用户拒绝了交易":(null==(n=l.message)?void 0:n.includes("insufficient funds"))?e="USDT余额不足":(null==(i=l.message)?void 0:i.includes("sale not active"))?e="销售未激活":(null==(s=l.message)?void 0:s.includes("invalid number of packages"))&&(e="购买数量无效"),d(ao(`${e}，请稍后重试`)),d(oo(!1)),void d(so(!1))}}catch(l){let e="购买失败";4001===l.code&&(e="用户拒绝了操作"),d(ao(`${e}，请稍后重试`)),d(oo(!1)),d(so(!1))}else d(ao("请先连接钱包"))},disabled:Boolean(o.isPaused.data)||Boolean(o.isEnded.data)||g||m,onMouseEnter:e=>{Boolean(o.isPaused.data)||Boolean(o.isEnded.data)||g||m||(e.currentTarget.style.backgroundColor="#40a9ff",e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(24, 144, 255, 0.4)")},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=ft.primary,e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.3)"},onMouseDown:e=>{Boolean(o.isPaused.data)||Boolean(o.isEnded.data)||g||m||(e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.5)")},onMouseUp:e=>{Boolean(o.isPaused.data)||Boolean(o.isEnded.data)||g||m||(e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(24, 144, 255, 0.4)")},children:Boolean(o.isPaused.data)?"销售已暂停":Boolean(o.isEnded.data)?"销售已结束":g||m?"处理中...":"参与私募"}):r.jsx("button",{style:{...wt.buttonPrimary,width:"100%",maxWidth:"300px",fontSize:"16px",padding:"14px 24px",cursor:"pointer",backgroundColor:ft.primary,opacity:1,transition:"all 0.2s ease",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)",borderRadius:"8px"},onClick:()=>{window.location.reload()},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#40a9ff",e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(24, 144, 255, 0.4)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=ft.primary,e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="0 2px 8px rgba(0, 0, 0, 0.3)"},children:"连接钱包"})})]})]})]})},yo=()=>r.jsxs("div",{style:wt.pageContainer,children:[r.jsx("h1",{style:{...wt.title,color:ft.text},children:"数据页面"}),r.jsxs("div",{style:wt.card,children:[r.jsx("p",{style:{...wt.text,textAlign:"center",color:ft.textSecondary},children:"这是数据页面的内容区域"}),r.jsxs("div",{style:{marginTop:"20px",display:"flex",flexDirection:"column",gap:"12px"},children:[r.jsxs("div",{style:{padding:"12px",backgroundColor:ft.background,borderRadius:mt.borderRadius},children:[r.jsx("p",{style:wt.textSecondary,children:"总交易量"}),r.jsx("p",{style:{...wt.subtitle,marginBottom:"0"},children:"1,234,567 USD"})]}),r.jsxs("div",{style:{padding:"12px",backgroundColor:ft.background,borderRadius:mt.borderRadius},children:[r.jsx("p",{style:wt.textSecondary,children:"活跃用户"}),r.jsx("p",{style:{...wt.subtitle,marginBottom:"0"},children:"5,678"})]}),r.jsxs("div",{style:{padding:"12px",backgroundColor:ft.background,borderRadius:mt.borderRadius},children:[r.jsx("p",{style:wt.textSecondary,children:"当前价格"}),r.jsx("p",{style:{...wt.subtitle,marginBottom:"0",color:ft.success},children:"0.0012 USD"})]})]})]})]}),vo=()=>r.jsxs("div",{style:wt.pageContainer,children:[r.jsx("h1",{style:{...wt.title,color:ft.text},children:"社区页面"}),r.jsxs("div",{style:wt.card,children:[r.jsx("p",{style:{...wt.text,textAlign:"center",color:ft.textSecondary},children:"这是社区页面的内容区域"}),r.jsxs("div",{style:{marginTop:"20px"},children:[r.jsx("button",{style:{...wt.buttonPrimary,width:"100%",marginTop:"16px"},children:"加入社区"}),r.jsx("button",{style:{...wt.button,backgroundColor:ft.cardBackground,width:"100%",marginTop:"12px"},children:"查看社区活动"})]})]})]}),wo=()=>r.jsxs("div",{style:wt.pageContainer,children:[r.jsx("h1",{style:{...wt.title,color:ft.text},children:"商城页面"}),r.jsxs("div",{style:wt.card,children:[r.jsx("p",{style:{...wt.text,textAlign:"center",color:ft.textSecondary},children:"这是商城页面的内容区域"}),r.jsxs("div",{style:{marginTop:"20px"},children:[r.jsx("button",{style:{...wt.buttonPrimary,width:"100%",marginTop:"16px"},children:"浏览商品"}),r.jsx("button",{style:{...wt.button,backgroundColor:ft.cardBackground,width:"100%",marginTop:"12px"},children:"我的订单"})]})]})]}),bo=()=>r.jsxs("div",{style:wt.pageContainer,children:[r.jsx("h1",{style:{...wt.title,color:ft.text},children:"NFT页面"}),r.jsxs("div",{style:wt.card,children:[r.jsx("p",{style:{...wt.text,textAlign:"center",color:ft.textSecondary},children:"这是NFT页面的内容区域"}),r.jsxs("div",{style:{marginTop:"20px"},children:[r.jsx("button",{style:{...wt.buttonPrimary,width:"100%",marginTop:"16px"},children:"浏览NFT"}),r.jsx("button",{style:{...wt.button,backgroundColor:ft.cardBackground,width:"100%",marginTop:"12px"},children:"我的收藏"})]})]})]});var Eo,Ao,xo=Object.defineProperty,Co=Object.getOwnPropertySymbols,So=Object.prototype.hasOwnProperty,_o=Object.prototype.propertyIsEnumerable,Io=(e,t,r)=>t in e?xo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Oo=(e,t)=>{for(var r in t||(t={}))So.call(t,r)&&Io(e,r,t[r]);if(Co)for(var r of Co(t))_o.call(t,r)&&Io(e,r,t[r]);return e},To=(e,t)=>{var r={};for(var n in e)So.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Co)for(var n of Co(e))t.indexOf(n)<0&&_o.call(e,n)&&(r[n]=e[n]);return r};(e=>{const t=class t{constructor(e,r,n,a){if(this.version=e,this.errorCorrectionLevel=r,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(a<-1||a>7)throw new RangeError("Mask value out of range");this.size=4*e+17;let o=[];for(let t=0;t<this.size;t++)o.push(!1);for(let t=0;t<this.size;t++)this.modules.push(o.slice()),this.isFunction.push(o.slice());this.drawFunctionPatterns();const s=this.addEccAndInterleave(n);if(this.drawCodewords(s),-1==a){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const r=this.getPenaltyScore();r<e&&(a=t,e=r),this.applyMask(t)}}i(0<=a&&a<=7),this.mask=a,this.applyMask(a),this.drawFormatBits(a),this.isFunction=[]}static encodeText(r,n){const i=e.QrSegment.makeSegments(r);return t.encodeSegments(i,n)}static encodeBinary(r,n){const i=e.QrSegment.makeBytes(r);return t.encodeSegments([i],n)}static encodeSegments(e,n,a=1,s=40,l=-1,c=!0){if(!(t.MIN_VERSION<=a&&a<=s&&s<=t.MAX_VERSION)||l<-1||l>7)throw new RangeError("Invalid value");let u,d;for(u=a;;u++){const r=8*t.getNumDataCodewords(u,n),i=o.getTotalBits(e,u);if(i<=r){d=i;break}if(u>=s)throw new RangeError("Data too long")}for(const r of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])c&&d<=8*t.getNumDataCodewords(u,r)&&(n=r);let h=[];for(const t of e){r(t.mode.modeBits,4,h),r(t.numChars,t.mode.numCharCountBits(u),h);for(const e of t.getData())h.push(e)}i(h.length==d);const f=8*t.getNumDataCodewords(u,n);i(h.length<=f),r(0,Math.min(4,f-h.length),h),r(0,(8-h.length%8)%8,h),i(h.length%8==0);for(let t=236;h.length<f;t^=253)r(t,8,h);let p=[];for(;8*p.length<h.length;)p.push(0);return h.forEach((e,t)=>p[t>>>3]|=e<<7-(7&t)),new t(u,n,p,l)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let r=0;r<this.size;r++)this.setFunctionModule(6,r,r%2==0),this.setFunctionModule(r,6,r%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let r=0;r<t;r++)for(let n=0;n<t;n++)0==r&&0==n||0==r&&n==t-1||r==t-1&&0==n||this.drawAlignmentPattern(e[r],e[n]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let r=t;for(let n=0;n<10;n++)r=r<<1^1335*(r>>>9);const a=21522^(t<<10|r);i(a>>>15==0);for(let i=0;i<=5;i++)this.setFunctionModule(8,i,n(a,i));this.setFunctionModule(8,7,n(a,6)),this.setFunctionModule(8,8,n(a,7)),this.setFunctionModule(7,8,n(a,8));for(let i=9;i<15;i++)this.setFunctionModule(14-i,8,n(a,i));for(let i=0;i<8;i++)this.setFunctionModule(this.size-1-i,8,n(a,i));for(let i=8;i<15;i++)this.setFunctionModule(8,this.size-15+i,n(a,i));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let r=0;r<12;r++)e=e<<1^7973*(e>>>11);const t=this.version<<12|e;i(t>>>18==0);for(let r=0;r<18;r++){const e=n(t,r),i=this.size-11+r%3,a=Math.floor(r/3);this.setFunctionModule(i,a,e),this.setFunctionModule(a,i,e)}}drawFinderPattern(e,t){for(let r=-4;r<=4;r++)for(let n=-4;n<=4;n++){const i=Math.max(Math.abs(n),Math.abs(r)),a=e+n,o=t+r;0<=a&&a<this.size&&0<=o&&o<this.size&&this.setFunctionModule(a,o,2!=i&&4!=i)}}drawAlignmentPattern(e,t){for(let r=-2;r<=2;r++)for(let n=-2;n<=2;n++)this.setFunctionModule(e+n,t+r,1!=Math.max(Math.abs(n),Math.abs(r)))}setFunctionModule(e,t,r){this.modules[t][e]=r,this.isFunction[t][e]=!0}addEccAndInterleave(e){const r=this.version,n=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(r,n))throw new RangeError("Invalid argument");const a=t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][r],o=t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][r],s=Math.floor(t.getNumRawDataModules(r)/8),l=a-s%a,c=Math.floor(s/a);let u=[];const d=t.reedSolomonComputeDivisor(o);for(let i=0,f=0;i<a;i++){let r=e.slice(f,f+c-o+(i<l?0:1));f+=r.length;const n=t.reedSolomonComputeRemainder(r,d);i<l&&r.push(0),u.push(r.concat(n))}let h=[];for(let t=0;t<u[0].length;t++)u.forEach((e,r)=>{(t!=c-o||r>=l)&&h.push(e[t])});return i(h.length==s),h}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let r=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let i=0;i<this.size;i++)for(let a=0;a<2;a++){const o=t-a,s=!(t+1&2)?this.size-1-i:i;!this.isFunction[s][o]&&r<8*e.length&&(this.modules[s][o]=n(e[r>>>3],7-(7&r)),r++)}}i(r==8*e.length)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let r=0;r<this.size;r++){let n;switch(e){case 0:n=(r+t)%2==0;break;case 1:n=t%2==0;break;case 2:n=r%3==0;break;case 3:n=(r+t)%3==0;break;case 4:n=(Math.floor(r/3)+Math.floor(t/2))%2==0;break;case 5:n=r*t%2+r*t%3==0;break;case 6:n=(r*t%2+r*t%3)%2==0;break;case 7:n=((r+t)%2+r*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][r]&&n&&(this.modules[t][r]=!this.modules[t][r])}}getPenaltyScore(){let e=0;for(let i=0;i<this.size;i++){let r=!1,n=0,a=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[i][o]==r?(n++,5==n?e+=t.PENALTY_N1:n>5&&e++):(this.finderPenaltyAddHistory(n,a),r||(e+=this.finderPenaltyCountPatterns(a)*t.PENALTY_N3),r=this.modules[i][o],n=1);e+=this.finderPenaltyTerminateAndCount(r,n,a)*t.PENALTY_N3}for(let i=0;i<this.size;i++){let r=!1,n=0,a=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[o][i]==r?(n++,5==n?e+=t.PENALTY_N1:n>5&&e++):(this.finderPenaltyAddHistory(n,a),r||(e+=this.finderPenaltyCountPatterns(a)*t.PENALTY_N3),r=this.modules[o][i],n=1);e+=this.finderPenaltyTerminateAndCount(r,n,a)*t.PENALTY_N3}for(let i=0;i<this.size-1;i++)for(let r=0;r<this.size-1;r++){const n=this.modules[i][r];n==this.modules[i][r+1]&&n==this.modules[i+1][r]&&n==this.modules[i+1][r+1]&&(e+=t.PENALTY_N2)}let r=0;for(const t of this.modules)r=t.reduce((e,t)=>e+(t?1:0),r);const n=this.size*this.size,a=Math.ceil(Math.abs(20*r-10*n)/n)-1;return i(0<=a&&a<=9),e+=a*t.PENALTY_N4,i(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{const e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2));let r=[6];for(let n=this.size-7;r.length<e;n-=t)r.splice(1,0,n);return r}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");let r=(16*e+128)*e+64;if(e>=2){const t=Math.floor(e/7)+2;r-=(25*t-10)*t-55,e>=7&&(r-=36)}return i(208<=r&&r<=29648),r}static getNumDataCodewords(e,r){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[r.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let r=[];for(let t=0;t<e-1;t++)r.push(0);r.push(1);let n=1;for(let i=0;i<e;i++){for(let e=0;e<r.length;e++)r[e]=t.reedSolomonMultiply(r[e],n),e+1<r.length&&(r[e]^=r[e+1]);n=t.reedSolomonMultiply(n,2)}return r}static reedSolomonComputeRemainder(e,r){let n=r.map(e=>0);for(const i of e){const e=i^n.shift();n.push(0),r.forEach((r,i)=>n[i]^=t.reedSolomonMultiply(r,e))}return n}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");let r=0;for(let n=7;n>=0;n--)r=r<<1^285*(r>>>7),r^=(t>>>n&1)*e;return i(r>>>8==0),r}finderPenaltyCountPatterns(e){const t=e[1];i(t<=3*this.size);const r=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(r&&e[0]>=4*t&&e[6]>=t?1:0)+(r&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,r){return e&&(this.finderPenaltyAddHistory(t,r),t=0),t+=this.size,this.finderPenaltyAddHistory(t,r),this.finderPenaltyCountPatterns(r)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};function r(e,t,r){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(let n=t-1;n>=0;n--)r.push(e>>>n&1)}function n(e,t){return!!(e>>>t&1)}function i(e){if(!e)throw new Error("Assertion error")}t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;const a=class e{constructor(e,t,r){if(this.mode=e,this.numChars=t,this.bitData=r,t<0)throw new RangeError("Invalid argument");this.bitData=r.slice()}static makeBytes(t){let n=[];for(const e of t)r(e,8,n);return new e(e.Mode.BYTE,t.length,n)}static makeNumeric(t){if(!e.isNumeric(t))throw new RangeError("String contains non-numeric characters");let n=[];for(let e=0;e<t.length;){const i=Math.min(t.length-e,3);r(parseInt(t.substring(e,e+i),10),3*i+1,n),e+=i}return new e(e.Mode.NUMERIC,t.length,n)}static makeAlphanumeric(t){if(!e.isAlphanumeric(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");let n,i=[];for(n=0;n+2<=t.length;n+=2){let a=45*e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n));a+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n+1)),r(a,11,i)}return n<t.length&&r(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(n)),6,i),new e(e.Mode.ALPHANUMERIC,t.length,i)}static makeSegments(t){return""==t?[]:e.isNumeric(t)?[e.makeNumeric(t)]:e.isAlphanumeric(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]}static makeEci(t){let n=[];if(t<0)throw new RangeError("ECI assignment value out of range");if(t<128)r(t,8,n);else if(t<16384)r(2,2,n),r(t,14,n);else{if(!(t<1e6))throw new RangeError("ECI assignment value out of range");r(6,3,n),r(t,21,n)}return new e(e.Mode.ECI,0,n)}static isNumeric(t){return e.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return e.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let r=0;for(const n of e){const e=n.mode.numCharCountBits(t);if(n.numChars>=1<<e)return 1/0;r+=4+e+n.bitData.length}return r}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let r=0;r<e.length;r++)"%"!=e.charAt(r)?t.push(e.charCodeAt(r)):(t.push(parseInt(e.substring(r+1,r+3),16)),r+=2);return t}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=a;e.QrSegment=a})(Eo||(Eo={})),(e=>{const t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})((Ao=Eo||(Eo={})).QrCode||(Ao.QrCode={})),(e=>{(e=>{const t=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(e.QrSegment||(e.QrSegment={}))})(Eo||(Eo={}));var Po=Eo,Ro={L:Po.QrCode.Ecc.LOW,M:Po.QrCode.Ecc.MEDIUM,Q:Po.QrCode.Ecc.QUARTILE,H:Po.QrCode.Ecc.HIGH},Mo=128,No="L",Do="#FFFFFF",jo="#000000",ko=!1,Bo=1;
/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */function Lo(e,t=0){const r=[];return e.forEach(function(e,n){let i=null;e.forEach(function(a,o){if(!a&&null!==i)return r.push(`M${i+t} ${n+t}h${o-i}v1H${i+t}z`),void(i=null);if(o!==e.length-1)a&&null===i&&(i=o);else{if(!a)return;null===i?r.push(`M${o+t},${n+t} h1v1H${o+t}z`):r.push(`M${i+t},${n+t} h${o+1-i}v1H${i+t}z`)}})}),r.join("")}function Fo(e,t){return e.slice().map((e,r)=>r<t.y||r>=t.y+t.h?e:e.map((e,r)=>(r<t.x||r>=t.x+t.w)&&e))}function Uo({value:e,level:t,minVersion:r,includeMargin:n,marginSize:i,imageSettings:a,size:o,boostLevel:s}){let l=N.useMemo(()=>{const n=(Array.isArray(e)?e:[e]).reduce((e,t)=>(e.push(...Po.QrSegment.makeSegments(t)),e),[]);return Po.QrCode.encodeSegments(n,Ro[t],r,void 0,void 0,s)},[e,t,r,s]);const{cells:c,margin:u,numCells:d,calculatedImageSettings:h}=N.useMemo(()=>{let e=l.getModules();const t=function(e,t){return null!=t?Math.max(Math.floor(t),0):e?4:0}(n,i),r=e.length+2*t,s=function(e,t,r,n){if(null==n)return null;const i=e.length+2*r,a=Math.floor(.1*t),o=i/t,s=(n.width||a)*o,l=(n.height||a)*o,c=null==n.x?e.length/2-s/2:n.x*o,u=null==n.y?e.length/2-l/2:n.y*o,d=null==n.opacity?1:n.opacity;let h=null;if(n.excavate){let e=Math.floor(c),t=Math.floor(u);h={x:e,y:t,w:Math.ceil(s+c-e),h:Math.ceil(l+u-t)}}return{x:c,y:u,h:l,w:s,excavation:h,opacity:d,crossOrigin:n.crossOrigin}}(e,o,t,a);return{cells:e,margin:t,numCells:r,calculatedImageSettings:s}},[l,o,a,n,i]);return{qrcode:l,margin:u,cells:c,numCells:d,calculatedImageSettings:h}}var zo=function(){try{(new Path2D).addPath(new Path2D)}catch(i_){return!1}return!0}();N.forwardRef(function(e,t){const r=e,{value:n,size:i=Mo,level:a=No,bgColor:o=Do,fgColor:s=jo,includeMargin:l=ko,minVersion:c=Bo,boostLevel:u,marginSize:d,imageSettings:h}=r,f=To(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:p}=f,g=To(f,["style"]),m=null==h?void 0:h.src,y=N.useRef(null),v=N.useRef(null),w=N.useCallback(e=>{y.current=e,"function"==typeof t?t(e):t&&(t.current=e)},[t]),[b,E]=N.useState(!1),{margin:A,cells:x,numCells:C,calculatedImageSettings:S}=Uo({value:n,level:a,minVersion:c,boostLevel:u,includeMargin:l,marginSize:d,imageSettings:h,size:i});N.useEffect(()=>{if(null!=y.current){const e=y.current,t=e.getContext("2d");if(!t)return;let r=x;const n=v.current,a=null!=S&&null!==n&&n.complete&&0!==n.naturalHeight&&0!==n.naturalWidth;a&&null!=S.excavation&&(r=Fo(x,S.excavation));const l=window.devicePixelRatio||1;e.height=e.width=i*l;const c=i/C*l;t.scale(c,c),t.fillStyle=o,t.fillRect(0,0,C,C),t.fillStyle=s,zo?t.fill(new Path2D(Lo(r,A))):x.forEach(function(e,r){e.forEach(function(e,n){e&&t.fillRect(n+A,r+A,1,1)})}),S&&(t.globalAlpha=S.opacity),a&&t.drawImage(n,S.x+A,S.y+A,S.w,S.h)}}),N.useEffect(()=>{E(!1)},[m]);const _=Oo({height:i,width:i},p);let I=null;return null!=m&&(I=N.createElement("img",{src:m,key:m,style:{display:"none"},onLoad:()=>{E(!0)},ref:v,crossOrigin:null==S?void 0:S.crossOrigin})),N.createElement(N.Fragment,null,N.createElement("canvas",Oo({style:_,height:i,width:i,ref:w,role:"img"},g)),I)}).displayName="QRCodeCanvas";var Ho=N.forwardRef(function(e,t){const r=e,{value:n,size:i=Mo,level:a=No,bgColor:o=Do,fgColor:s=jo,includeMargin:l=ko,minVersion:c=Bo,boostLevel:u,title:d,marginSize:h,imageSettings:f}=r,p=To(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:g,cells:m,numCells:y,calculatedImageSettings:v}=Uo({value:n,level:a,minVersion:c,boostLevel:u,includeMargin:l,marginSize:h,imageSettings:f,size:i});let w=m,b=null;null!=f&&null!=v&&(null!=v.excavation&&(w=Fo(m,v.excavation)),b=N.createElement("image",{href:f.src,height:v.h,width:v.w,x:v.x+g,y:v.y+g,preserveAspectRatio:"none",opacity:v.opacity,crossOrigin:v.crossOrigin}));const E=Lo(w,g);return N.createElement("svg",Oo({height:i,width:i,viewBox:`0 0 ${y} ${y}`,ref:t,role:"img"},p),!!d&&N.createElement("title",null,d),N.createElement("path",{fill:o,d:`M0,0 h${y}v${y}H0z`,shapeRendering:"crispEdges"}),N.createElement("path",{fill:s,d:E,shapeRendering:"crispEdges"}),b)});Ho.displayName="QRCodeSVG";const Vo=({user:e,onDisconnect:t})=>{const i="8px",a="#1890ff",o="#ff4d4f",s="#52c41a",l="#ffffff",c="rgba(255, 255, 255, 0.7)",u="rgba(255, 255, 255, 0.05)",d="rgba(255, 255, 255, 0.08)",h="rgba(255, 255, 255, 0.15)",f="12px",p="14px",g="20px",m="20px",y="16px",v="12px 24px",w="14px",b="100px",[E,A]=_.useState(!1),{isConnected:x}=n(),C=Br(),S=jr(),I=kr(),{setUser:O}=ht(),[T,P]=_.useState(!1),[R,M]=_.useState(e.username),[N,D]=_.useState(e.avatar),[j,k]=_.useState(!1),[B,L]=_.useState(!1),[F,U]=_.useState(null);_.useEffect(()=>{if(e&&e.lastProfileUpdateAt){const t=new Date(e.lastProfileUpdateAt),r=6048e5,n=(new Date).getTime()-t.getTime();if(n<r){const e=r-n,t=Math.floor(e/864e5),i=Math.floor(e%864e5/36e5),a=Math.floor(e%36e5/6e4);U(`${t}天${i}小时${a}分钟`)}else U(null)}},[e]);const z="number"==typeof S.decimals.data?S.decimals.data:18,H="number"==typeof C.decimals.data?C.decimals.data:6,$=async()=>{A(!0);try{await S.balanceOf.refetch(),await C.balanceOf.refetch(),await I.referrers.refetch()}catch(e){}finally{A(!1)}},[Q,J]=_.useState(""),[ee,te]=_.useState(!1),[re,ne]=_.useState(!1);_.useEffect(()=>{if(x&&e.walletAddress){const t=`${window.location.origin}/buy?referrer=${e.walletAddress}`;J(t);const r=I.points.data,n="bigint"==typeof r?r:BigInt(0);ne(n>0)}},[x,e.walletAddress,I.points.data]);return _.useEffect(()=>{$();const e=setInterval(()=>{$()},3e4);return()=>clearInterval(e)},[x,S.balanceOf.refetch,C.balanceOf.refetch,I.referrers.refetch]),r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:m,backgroundColor:d,borderRadius:i,border:`1px solid ${h}`,margin:"0 auto",maxWidth:"400px"},children:[T?r.jsxs(r.Fragment,{children:[r.jsxs("div",{style:{position:"relative",marginBottom:y},children:[r.jsx("img",{src:N,alt:R,style:{width:b,height:b,borderRadius:"50%",objectFit:"cover",border:`2px solid ${a}`}}),r.jsx("div",{style:{position:"absolute",bottom:0,right:0,backgroundColor:a,borderRadius:"50%",padding:"8px",cursor:"pointer",border:`2px solid ${d}`},children:r.jsx(V,{beforeUpload:async e=>{try{k(!0);const t=5242880;if(e.size>t)return X.error("图片大小不能超过5MB"),!1;const r=await(e=>new Promise((t,r)=>{const n=new FileReader;n.onload=n=>{const i=new Image;i.onload=()=>{const n=document.createElement("canvas"),a=n.getContext("2d");if(!a)return void r(new Error("Canvas context not available"));const o=200;let s=i.width,l=i.height;s>l?s>o&&(l=Math.round(l*o/s),s=o):l>o&&(s=Math.round(s*o/l),l=o),n.width=s,n.height=l,a.drawImage(i,0,0,s,l);const c=n.toDataURL(e.type,.7);t(c)},i.onerror=r,n.target&&"string"==typeof n.target.result?i.src=n.target.result:r(new Error("Failed to load image"))},n.onerror=r,n.readAsDataURL(e)}))(e);return D(r),X.success("头像上传成功"),!1}catch(t){return X.error("头像上传失败"),!1}finally{k(!1)}},showUploadList:!1,accept:"image/*",children:r.jsx(ot,{style:{color:"#ffffff",fontSize:"16px"}})})}),j&&r.jsx("div",{style:{position:"absolute",bottom:"-20px",left:"50%",transform:"translateX(-50%)",fontSize:f,color:c},children:"上传中..."})]}),r.jsx("div",{style:{width:"100%",marginBottom:y},children:r.jsx(G,{value:R,onChange:e=>M(e.target.value),placeholder:"请输入用户名",style:{backgroundColor:u,borderColor:h,color:l,borderRadius:i,height:40,fontSize:p,textAlign:"center"},maxLength:20})}),F&&r.jsx("div",{style:{width:"100%",padding:"8px 16px",backgroundColor:"rgba(255, 255, 0, 0.1)",borderRadius:i,marginBottom:y,textAlign:"center"},children:r.jsxs("p",{style:{fontSize:f,margin:0,color:"#faad14"},children:["注意：资料修改有7天冷却期，当前冷却剩余时间：",F]})}),r.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",gap:"12px",marginBottom:y},children:[r.jsxs("button",{onClick:()=>{P(!1),M(e.username),D(e.avatar)},disabled:B,style:{flex:1,padding:v,backgroundColor:u,color:l,border:`1px solid ${h}`,borderRadius:i,fontSize:w,cursor:B?"not-allowed":"pointer",opacity:B?.6:1},children:[r.jsx(K,{})," 取消"]}),r.jsx("button",{onClick:async()=>{if(R.trim()){if(R===e.username&&N===e.avatar)return P(!1),void X.info("没有修改任何内容");try{L(!0);const r=await fetch(`http://localhost:3001/api/users/${e.walletAddress}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:R,avatar:N})});if(r.ok)await r.json(),O({...e,username:R,avatar:N,lastProfileUpdateAt:(new Date).toISOString()}),X.success("资料更新成功"),P(!1);else try{const e=await r.json();X.error(e.message||"资料更新失败")}catch(t){await r.text();X.error("资料更新失败")}}catch(r){X.error("网络错误，资料更新失败")}finally{L(!1)}}else X.error("用户名不能为空")},disabled:B,style:{flex:1,padding:v,backgroundColor:a,color:l,border:"none",borderRadius:i,fontSize:w,cursor:B?"not-allowed":"pointer",opacity:B?.6:1},children:B?"保存中...":r.jsxs(r.Fragment,{children:[r.jsx(Y,{})," 保存"]})})]})]}):r.jsxs(r.Fragment,{children:[r.jsx("img",{src:e.avatar,alt:e.username,style:{width:b,height:b,borderRadius:"50%",objectFit:"cover",marginBottom:y,border:`2px solid ${a}`}}),r.jsxs("div",{style:{marginBottom:y,textAlign:"center"},children:[r.jsx("h2",{style:{fontSize:g,marginBottom:"4px",color:l},children:e.username}),r.jsx("p",{style:{color:c,fontSize:p},children:"已注册用户"}),F&&r.jsxs("p",{style:{color:"#faad14",fontSize:f,marginTop:"8px"},children:["资料修改冷却中，剩余：",F]})]}),r.jsxs("button",{onClick:()=>P(!0),disabled:!!F,style:{padding:"8px 16px",backgroundColor:a,color:l,border:"none",borderRadius:i,fontSize:f,cursor:F?"not-allowed":"pointer",marginBottom:y,opacity:F?.6:1,display:"flex",alignItems:"center",gap:"4px"},children:[r.jsx(q,{})," 编辑资料"]})]}),r.jsxs("div",{style:{padding:"12px 16px",backgroundColor:u,borderRadius:i,marginBottom:y,wordBreak:"break-all",textAlign:"center",width:"100%"},children:[r.jsx("p",{style:{fontSize:p,margin:0,marginBottom:"4px",color:c},children:"钱包地址"}),r.jsx("p",{style:{fontSize:f,margin:0,color:l},children:e.walletAddress})]}),r.jsxs("div",{style:{width:"100%",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:y},children:[r.jsxs("div",{style:{padding:"12px 16px",backgroundColor:u,borderRadius:i},children:[r.jsx("p",{style:{fontSize:f,margin:0,marginBottom:"4px",color:c},children:"SCIA余额"}),r.jsx("p",{style:{fontSize:p,margin:0,color:s,fontWeight:"500"},children:x&&S.balanceOf.data?`${Dr(S.balanceOf.data,z)} SCIA`:"0 SCIA"})]}),r.jsxs("div",{style:{padding:"12px 16px",backgroundColor:u,borderRadius:i},children:[r.jsx("p",{style:{fontSize:f,margin:0,marginBottom:"4px",color:c},children:"USDT余额"}),r.jsx("p",{style:{fontSize:p,margin:0,color:s,fontWeight:"500"},children:x&&C.balanceOf.data?`${Dr(C.balanceOf.data,H)} USDT`:"0 USDT"})]})]}),r.jsxs("div",{style:{width:"100%",padding:"12px 16px",backgroundColor:u,borderRadius:i,marginBottom:y},children:[r.jsx("p",{style:{fontSize:p,margin:0,marginBottom:"8px",color:c},children:"推荐关系"}),r.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("p",{style:{fontSize:f,margin:0,color:c},children:"当前推荐人"}),r.jsx("p",{style:{fontSize:f,margin:0,color:l,wordBreak:"break-all"},children:I.referrers.data&&"string"==typeof I.referrers.data&&"0x0000000000000000000000000000000000000000"!==I.referrers.data?I.referrers.data:"无推荐人"})]})]}),re?r.jsxs("div",{style:{width:"100%",padding:"12px 16px",backgroundColor:u,borderRadius:i,marginBottom:y},children:[r.jsx("p",{style:{fontSize:p,margin:0,marginBottom:"8px",color:c},children:"推荐人功能"}),r.jsxs("div",{style:{marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("p",{style:{fontSize:f,margin:0,color:c,flexShrink:0},children:"推荐链接"}),r.jsxs("div",{style:{flex:1,display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx("p",{style:{fontSize:f,margin:0,color:l,wordBreak:"break-all",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Q}),r.jsx(W,{type:"text",icon:r.jsx(Z,{}),size:"small",onClick:async()=>{await(async e=>{try{if(navigator.clipboard&&window.isSecureContext)return await navigator.clipboard.writeText(e),!0;{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();const r=document.execCommand("copy");return document.body.removeChild(t),r}}catch(t){return!1}})(Q)?X.success("推荐链接已复制到剪贴板"):X.error("复制失败，请手动复制")},style:{padding:0,color:a,fontSize:f},children:"复制"})]})]}),r.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[r.jsx(W,{type:"primary",size:"small",onClick:()=>te(!ee),style:{backgroundColor:a,color:l,border:"none",borderRadius:i,padding:"6px 12px",fontSize:f,cursor:"pointer"},children:ee?"隐藏二维码":"显示二维码"}),ee&&r.jsxs("div",{style:{padding:"16px",backgroundColor:"#ffffff",borderRadius:i,display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[r.jsx(Ho,{value:Q,size:150,bgColor:"#ffffff",fgColor:"#000000",level:"H"}),r.jsx("p",{style:{fontSize:f,margin:0,color:l},children:"扫码获取推荐链接"})]})]})]}):r.jsx("div",{style:{width:"100%",padding:"12px 16px",backgroundColor:u,borderRadius:i,marginBottom:y},children:r.jsx("p",{style:{fontSize:f,margin:0,color:c,textAlign:"center"},children:"购买1套及以上套餐后自动成为推荐人，生成专属推广链接和二维码"})}),r.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"space-between",gap:"12px"},children:[r.jsx("button",{onClick:$,disabled:E,style:{backgroundColor:a,color:l,border:"none",borderRadius:i,padding:"12px 24px",fontSize:p,cursor:E?"not-allowed":"pointer",opacity:E?.6:1,flex:1},children:E?"刷新中...":"刷新余额"}),r.jsx("button",{onClick:t,style:{padding:"12px 24px",backgroundColor:o,color:l,border:"none",borderRadius:i,fontSize:p,cursor:"pointer",fontWeight:"500",flex:1},children:"断开钱包连接"})]})]})},Wo={0:"无徽章",1:"Member徽章",2:"City徽章",3:"Province徽章",4:"National徽章"},Go={0:ft.textSecondary,1:"#1890ff",2:"#52c41a",3:"#faad14",4:"#ff4d4f"},Xo=()=>{const e=kr(),t=(()=>{if(!e.getUserBadgeInfo.data)return 0;try{const t=e.getUserBadgeInfo.data;if(Array.isArray(t)&&t.length>0){const e=t[0];if("number"==typeof e)return e;if("bigint"==typeof e)return Number(e)}return 0}catch(t){return 0}})(),n=(()=>{if(!e.points.data)return"0";try{const t=e.points.data;let r;if("bigint"==typeof t)r=t;else{if("string"!=typeof t&&"number"!=typeof t)return"0";r=BigInt(t)}return(Number(r)/10**18/1e4).toFixed(4)}catch(t){return"0"}})(),i=(()=>{if(!e.referrers.data)return null;const t=e.referrers.data;return"0x0000000000000000000000000000000000000000"===t?null:t})(),a=Wo[t]||"无徽章",o=Go[t+1]||ft.textSecondary;return r.jsxs("div",{style:{...wt.card,marginTop:"20px"},children:[r.jsx("h2",{style:{...wt.subtitle,color:ft.text},children:"徽章系统"}),r.jsxs("div",{style:{marginTop:"20px"},children:[r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("p",{style:{...wt.text,color:ft.textSecondary,marginBottom:"8px"},children:"我的徽章"}),r.jsx("p",{style:{...wt.text,color:Go[t]||ft.text,fontSize:"18px"},children:a})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("p",{style:{...wt.text,color:ft.textSecondary,marginBottom:"8px"},children:"我的积分"}),r.jsxs("p",{style:{...wt.text,color:ft.text,fontSize:"18px"},children:[n," 积分"]})]}),r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("p",{style:{...wt.text,color:ft.textSecondary,marginBottom:"8px"},children:"我的推荐人"}),r.jsx("p",{style:{...wt.text,color:ft.text,wordBreak:"break-all",fontSize:"14px"},children:i||"无推荐人"})]}),t<4&&r.jsxs("div",{style:{marginBottom:"20px"},children:[r.jsx("p",{style:{...wt.text,color:ft.textSecondary,marginBottom:"8px"},children:"下一级徽章进度"}),r.jsx("div",{style:{width:"100%",height:"8px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"4px",overflow:"hidden"},children:r.jsx("div",{style:{width:"0%",height:"100%",backgroundColor:o,borderRadius:"4px",transition:"width 0.3s ease"}})}),r.jsx("p",{style:{...wt.text,color:ft.textSecondary,marginTop:"8px",fontSize:"12px"},children:"继续努力获取更多积分，解锁更高级别徽章！"})]})]})]})},Ko=()=>{const{user:e,setUser:t,setWalletAddress:i,setIsRegistering:a}=ht(),{isConnected:o}=n(),{disconnect:s}=d(),l="rgba(255, 255, 255, 0.05)",c="#ffffff",u="24px",h="20px",f="20px",p=async()=>{try{localStorage.clear(),t(null),i(""),a(!1),await s(),window.location.reload()}catch(e){localStorage.clear(),window.location.reload()}};return r.jsxs("div",{style:{padding:h,backgroundColor:l,minHeight:"100vh",color:c},children:[r.jsx("h1",{style:{fontSize:u,marginBottom:f,textAlign:"center"},children:"个人中心"}),e&&e.registered&&o?r.jsxs(r.Fragment,{children:[r.jsx(Vo,{user:e,onDisconnect:p}),r.jsx(Xo,{})]}):o?r.jsxs("div",{style:{textAlign:"center",padding:"20px",backgroundColor:"rgba(255, 255, 255, 0.08)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.15)",margin:"0 auto",maxWidth:"400px"},children:[r.jsx("p",{style:{fontSize:"14px",margin:0,color:"#ffffff"},children:"您还未完成注册"}),r.jsx("p",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)",marginTop:"8px"},children:"请先连接钱包完成注册"}),r.jsx("button",{onClick:p,style:{padding:"12px 24px",backgroundColor:"#ff4d4f",color:"#ffffff",border:"none",borderRadius:"8px",fontSize:"14px",cursor:"pointer",fontWeight:"500",marginTop:"16px"},children:"断开钱包连接"})]}):r.jsxs("div",{style:{textAlign:"center",padding:"20px",backgroundColor:"rgba(255, 255, 255, 0.08)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.15)",margin:"0 auto",maxWidth:"400px"},children:[r.jsx("p",{style:{fontSize:"14px",margin:0,color:"#ffffff"},children:"您还未完成注册"}),r.jsx("p",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)",marginTop:"8px"},children:"请先连接钱包完成注册"})]}),r.jsxs("div",{style:{marginTop:"32px",padding:"20px",backgroundColor:"rgba(255, 255, 255, 0.08)",borderRadius:"8px",border:"1px solid rgba(255, 255, 255, 0.15)",margin:"32px auto 0",maxWidth:"400px"},children:[r.jsx("h3",{style:{fontSize:"14px",marginBottom:"16px",color:"#ffffff"},children:"账户信息"}),r.jsxs("p",{style:{fontSize:"12px",color:"rgba(255, 255, 255, 0.7)"},children:["注册时间: ",(e=>{if(!e)return"未知";const t=new Date(e);if(isNaN(t.getTime()))return"未知";return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`})(null==e?void 0:e.registeredAt)]})]})]})};var Yo=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function qo(e){return"string"==typeof e&&Yo.includes(e)}var Zo=new Set(["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"]);function $o(e){return"string"==typeof e&&Zo.has(e)}function Qo(e){return"string"==typeof e&&e.startsWith("data-")}function Jo(e){if("object"!=typeof e||null===e)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&($o(r)||Qo(r))&&(t[r]=e[r]);return t}function es(e){return null==e?null:_.isValidElement(e)&&"object"==typeof e.props&&null!==e.props?Jo(e.props):"object"!=typeof e||Array.isArray(e)?null:Jo(e)}function ts(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&($o(r)||Qo(r)||qo(r))&&(t[r]=e[r]);return t}var rs=["children","width","height","viewBox","className","style","title","desc"];function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ns.apply(null,arguments)}var is=_.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:o,style:s,title:l,desc:c}=e,u=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,rs),d=a||{width:n,height:i,x:0,y:0},f=h("recharts-surface",o);return _.createElement("svg",ns({},ts(u),{className:f,width:n,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),_.createElement("title",null,l),_.createElement("desc",null,c),r)}),as=["children","className"];function os(){return os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},os.apply(null,arguments)}var ss=_.forwardRef((e,t)=>{var{children:r,className:n}=e,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,as),a=h("recharts-layer",n);return _.createElement("g",os({className:a},ts(i),{ref:t}),r)}),ls=_.createContext(null);function cs(e){return function(){return e}}const us=Math.cos,ds=Math.sin,hs=Math.sqrt,fs=Math.PI,ps=2*fs,gs=Math.PI,ms=2*gs,ys=1e-6,vs=ms-ys;function ws(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class bs{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?ws:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ws;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,n){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,t,r,n,i,a){this._append`C${+e},${+t},${+r},${+n},${this._x1=+i},${this._y1=+a}`}arcTo(e,t,r,n,i){if(e=+e,t=+t,r=+r,n=+n,(i=+i)<0)throw new Error(`negative radius: ${i}`);let a=this._x1,o=this._y1,s=r-e,l=n-t,c=a-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>ys)if(Math.abs(u*s-l*c)>ys&&i){let h=r-a,f=n-o,p=s*s+l*l,g=h*h+f*f,m=Math.sqrt(p),y=Math.sqrt(d),v=i*Math.tan((gs-Math.acos((p+d-g)/(2*m*y)))/2),w=v/y,b=v/m;Math.abs(w-1)>ys&&this._append`L${e+w*c},${t+w*u}`,this._append`A${i},${i},0,0,${+(u*h>c*f)},${this._x1=e+b*s},${this._y1=t+b*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,r,n,i,a){if(e=+e,t=+t,a=!!a,(r=+r)<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(n),s=r*Math.sin(n),l=e+o,c=t+s,u=1^a,d=a?n-i:i-n;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>ys||Math.abs(this._y1-c)>ys)&&this._append`L${l},${c}`,r&&(d<0&&(d=d%ms+ms),d>vs?this._append`A${r},${r},0,1,${u},${e-o},${t-s}A${r},${r},0,1,${u},${this._x1=l},${this._y1=c}`:d>ys&&this._append`A${r},${r},0,${+(d>=gs)},${u},${this._x1=e+r*Math.cos(i)},${this._y1=t+r*Math.sin(i)}`)}rect(e,t,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function Es(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);t=e}return e},()=>new bs(t)}function As(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function xs(e){this._context=e}function Cs(e){return new xs(e)}function Ss(e){return e[0]}function _s(e){return e[1]}function Is(e,t){var r=cs(!0),n=null,i=Cs,a=null,o=Es(s);function s(s){var l,c,u,d=(s=As(s)).length,h=!1;for(null==n&&(a=i(u=o())),l=0;l<=d;++l)!(l<d&&r(c=s[l],l,s))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,s),+t(c,l,s));if(u)return a=null,u+""||null}return e="function"==typeof e?e:void 0===e?Ss:cs(e),t="function"==typeof t?t:void 0===t?_s:cs(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:cs(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:cs(+e),s):t},s.defined=function(e){return arguments.length?(r="function"==typeof e?e:cs(!!e),s):r},s.curve=function(e){return arguments.length?(i=e,null!=n&&(a=i(n)),s):i},s.context=function(e){return arguments.length?(null==e?n=a=null:a=i(n=e),s):n},s}function Os(e,t,r){var n=null,i=cs(!0),a=null,o=Cs,s=null,l=Es(c);function c(c){var u,d,h,f,p,g=(c=As(c)).length,m=!1,y=new Array(g),v=new Array(g);for(null==a&&(s=o(p=l())),u=0;u<=g;++u){if(!(u<g&&i(f=c[u],u,c))===m)if(m=!m)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(y[h],v[h]);s.lineEnd(),s.areaEnd()}m&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),s.point(n?+n(f,u,c):y[u],r?+r(f,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return Is().defined(i).curve(o).context(a)}return e="function"==typeof e?e:void 0===e?Ss:cs(+e),t="function"==typeof t?t:cs(void 0===t?0:+t),r="function"==typeof r?r:void 0===r?_s:cs(+r),c.x=function(t){return arguments.length?(e="function"==typeof t?t:cs(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"==typeof t?t:cs(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:cs(+e),c):n},c.y=function(e){return arguments.length?(t="function"==typeof e?e:cs(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"==typeof e?e:cs(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:cs(+e),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(e){return arguments.length?(i="function"==typeof e?e:cs(!!e),c):i},c.curve=function(e){return arguments.length?(o=e,null!=a&&(s=o(a)),c):o},c.context=function(e){return arguments.length?(null==e?a=s=null:s=o(a=e),c):a},c}xs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class Ts{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const Ps={draw(e,t){const r=hs(t/fs);e.moveTo(r,0),e.arc(0,0,r,0,ps)}},Rs={draw(e,t){const r=hs(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Ms=hs(1/3),Ns=2*Ms,Ds={draw(e,t){const r=hs(t/Ns),n=r*Ms;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},js={draw(e,t){const r=hs(t),n=-r/2;e.rect(n,n,r,r)}},ks=ds(fs/10)/ds(7*fs/10),Bs=ds(ps/10)*ks,Ls=-us(ps/10)*ks,Fs={draw(e,t){const r=hs(.8908130915292852*t),n=Bs*r,i=Ls*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const t=ps*a/5,o=us(t),s=ds(t);e.lineTo(s*r,-o*r),e.lineTo(o*n-s*i,s*n+o*i)}e.closePath()}},Us=hs(3),zs={draw(e,t){const r=-hs(t/(3*Us));e.moveTo(0,2*r),e.lineTo(-Us*r,-r),e.lineTo(Us*r,-r),e.closePath()}},Hs=-.5,Vs=hs(3)/2,Ws=1/hs(12),Gs=3*(Ws/2+1),Xs={draw(e,t){const r=hs(t/Gs),n=r/2,i=r*Ws,a=n,o=r*Ws+r,s=-a,l=o;e.moveTo(n,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(Hs*n-Vs*i,Vs*n+Hs*i),e.lineTo(Hs*a-Vs*o,Vs*a+Hs*o),e.lineTo(Hs*s-Vs*l,Vs*s+Hs*l),e.lineTo(Hs*n+Vs*i,Hs*i-Vs*n),e.lineTo(Hs*a+Vs*o,Hs*o-Vs*a),e.lineTo(Hs*s+Vs*l,Hs*l-Vs*s),e.closePath()}};function Ks(){}function Ys(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function qs(e){this._context=e}function Zs(e){this._context=e}function $s(e){this._context=e}function Qs(e){this._context=e}function Js(e){return e<0?-1:1}function el(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),s=(a*i+o*n)/(n+i);return(Js(a)+Js(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function tl(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function rl(e,t,r){var n=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-n)/3;e._context.bezierCurveTo(n+s,i+s*t,a-s,o-s*r,a,o)}function nl(e){this._context=e}function il(e){this._context=new al(e)}function al(e){this._context=e}function ol(e){this._context=e}function sl(e){var t,r,n=e.length-1,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function ll(e,t){this._context=e,this._t=t}function cl(e,t){if((i=e.length)>1)for(var r,n,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(n=o,o=e[t[a]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}function ul(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function dl(e,t){return e[t]}function hl(e){const t=[];return t.key=e,t}qs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ys(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ys(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Zs.prototype={areaStart:Ks,areaEnd:Ks,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ys(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},$s.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ys(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Qs.prototype={areaStart:Ks,areaEnd:Ks,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},nl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rl(this,this._t0,tl(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rl(this,tl(this,r=el(this,e,t)),r);break;default:rl(this,this._t0,r=el(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(il.prototype=Object.create(nl.prototype)).point=function(e,t){nl.prototype.point.call(this,t,e)},al.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}},ol.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=sl(e),i=sl(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},ll.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};var fl,pl={},gl={};fl=gl,Object.defineProperty(fl,Symbol.toStringTag,{value:"Module"}),fl.isUnsafeProperty=function(e){return"__proto__"===e};var ml={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}}(ml);var yl={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toKey=function(e){var t;return"string"==typeof e||"symbol"==typeof e?e:Object.is(null==(t=null==e?void 0:e.valueOf)?void 0:t.call(e),-0)?"-0":String(e)}}(yl);var vl={},wl={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toString=function e(t){if(null==t)return"";if("string"==typeof t)return t;if(Array.isArray(t))return t.map(e).join(",");const r=String(t);return"0"===r&&Object.is(Number(t),-0)?"-0":r}}(wl),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wl,r=yl;e.toPath=function(e){if(Array.isArray(e))return e.map(r.toKey);if("symbol"==typeof e)return[e];const n=[],i=(e=t.toString(e)).length;if(0===i)return n;let a=0,o="",s="",l=!1;for(46===e.charCodeAt(0)&&(n.push(""),a++);a<i;){const t=e[a];s?"\\"===t&&a+1<i?(a++,o+=e[a]):t===s?s="":o+=t:l?'"'===t||"'"===t?s=t:"]"===t?(l=!1,n.push(o),o=""):o+=t:"["===t?(l=!0,o&&(n.push(o),o="")):"."===t?o&&(n.push(o),o=""):o+=t,a++}return o&&n.push(o),n}}(vl),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gl,r=ml,n=yl,i=vl;e.get=function e(a,o,s){if(null==a)return s;switch(typeof o){case"string":{if(t.isUnsafeProperty(o))return s;const n=a[o];return void 0===n?r.isDeepKey(o)?e(a,i.toPath(o),s):s:n}case"number":case"symbol":{"number"==typeof o&&(o=n.toKey(o));const e=a[o];return void 0===e?s:e}default:{if(Array.isArray(o))return function(e,r,n){if(0===r.length)return n;let i=e;for(let a=0;a<r.length;a++){if(null==i)return n;if(t.isUnsafeProperty(r[a]))return n;i=i[r[a]]}if(void 0===i)return n;return i}(a,o,s);if(o=Object.is(null==o?void 0:o.valueOf(),-0)?"-0":String(o),t.isUnsafeProperty(o))return s;const e=a[o];return void 0===e?s:e}}}}(pl);const bl=O(pl.get);function El(e){var t=10**(arguments.length>1&&void 0!==arguments[1]?arguments[1]:4),r=Math.round(e*t)/t;return Object.is(r,-0)?0:r}function Al(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((e,t,n)=>{var i=r[n-1];return"string"==typeof i?e+i+t:void 0!==i?e+El(i)+t:e+t},"")}var xl=e=>0===e?0:e>0?1:-1,Cl=e=>"number"==typeof e&&e!=+e,Sl=e=>"string"==typeof e&&e.indexOf("%")===e.length-1,_l=e=>("number"==typeof e||e instanceof Number)&&!Cl(e),Il=e=>_l(e)||"string"==typeof e,Ol=0,Tl=e=>{var t=++Ol;return"".concat(e||"").concat(t)},Pl=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!_l(e)&&"string"!=typeof e)return n;if(Sl(e)){if(null==t)return n;var a=e.indexOf("%");r=t*parseFloat(e.slice(0,a))/100}else r=+e;return Cl(r)&&(r=n),i&&null!=t&&r>t&&(r=t),r},Rl=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[String(e[n])])return!0;r[String(e[n])]=!0}return!1};function Ml(e,t,r){return _l(e)&&_l(t)?El(e+r*(t-e)):t}function Nl(e,t,r){if(e&&e.length)return e.find(e=>e&&("function"==typeof t?t(e):bl(e,t))===r)}var Dl=e=>null==e,jl=e=>Dl(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function kl(e){return null!=e}function Bl(){}var Ll=["type","size","sizeType"];function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fl.apply(null,arguments)}function Ul(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function zl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ul(Object(r),!0).forEach(function(t){Hl(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ul(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Hl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Vl={symbolCircle:Ps,symbolCross:Rs,symbolDiamond:Ds,symbolSquare:js,symbolStar:Fs,symbolTriangle:zs,symbolWye:Xs},Wl=Math.PI/180,Gl=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=zl(zl({},function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,Ll)),{},{type:t,size:r,sizeType:n}),a="circle";"string"==typeof t&&(a=t);var{className:o,cx:s,cy:l}=i,c=ts(i);return _l(s)&&_l(l)&&_l(r)?_.createElement("path",Fl({},c,{className:h("recharts-symbols",o),transform:"translate(".concat(s,", ").concat(l,")"),d:(()=>{var e=(e=>{var t="symbol".concat(jl(e));return Vl[t]||Ps})(a),t=function(e,t){let r=null,n=Es(i);function i(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return e="function"==typeof e?e:cs(e||Ps),t="function"==typeof t?t:cs(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"==typeof t?t:cs(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:cs(+e),i):t},i.context=function(e){return arguments.length?(r=null==e?null:e,i):r},i}().type(e).size(((e,t,r)=>{if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*Wl;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.tan(n)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(r,n,a)),i=t();if(null!==i)return i})()})):null};Gl.registerSymbol=(e,t)=>{Vl["symbol".concat(jl(e))]=t};var Xl=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Kl=(e,t)=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var r=e;if(_.isValidElement(e)&&(r=e.props),"object"!=typeof r&&"function"!=typeof r)return null;var n={};return Object.keys(r).forEach(e=>{qo(e)&&(n[e]=t=>r[e](r,t))}),n},Yl=(e,t,r)=>{if(null===e||"object"!=typeof e&&"function"!=typeof e)return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];qo(i)&&"function"==typeof a&&(n||(n={}),n[i]=((e,t,r)=>n=>(e(t,r,n),null))(a,t,r))}),n};function ql(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Zl(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $l(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ql(Object(r),!0).forEach(function(t){Zl(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ql(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e),n=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==n[t]&&(e[t]=n[t]),e),r)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ql.apply(null,arguments)}function Jl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ec(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tc=32,rc={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function nc(e){var t,{data:r,iconType:n,inactiveColor:i}=e,a=16,o=tc/6,s=tc/3,l=r.inactive?i:r.color,c=null!=n?n:r.type;if("none"===c)return null;if("plainline"===c)return _.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:null===(t=r.payload)||void 0===t?void 0:t.strokeDasharray,x1:0,y1:a,x2:tc,y2:a,className:"recharts-legend-icon"});if("line"===c)return _.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,"\n            A").concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,"\n            H").concat(tc,"M").concat(2*s,",").concat(a,"\n            A").concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if("rect"===c)return _.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(4,"h").concat(tc,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(_.isValidElement(r.legendIcon)){var u=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jl(Object(r),!0).forEach(function(t){ec(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jl(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},r);return delete u.legendIcon,_.cloneElement(r.legendIcon,u)}return _.createElement(Gl,{fill:l,cx:a,cy:a,size:tc,sizeType:"diameter",type:c})}function ic(e){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:o}=e,s={x:0,y:0,width:tc,height:tc},l={display:"horizontal"===n?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((t,n)=>{var u=t.formatter||i,d=h({"recharts-legend-item":!0,["legend-item-".concat(n)]:!0,inactive:t.inactive});if("none"===t.type)return null;var f=t.inactive?a:t.color,p=u?u(t.value,t,n):t.value;return _.createElement("li",Ql({className:d,style:l,key:"legend-item-".concat(n)},Yl(e,t,n)),_.createElement(is,{width:r,height:r,viewBox:s,style:c,"aria-label":"".concat(p," legend icon")},_.createElement(nc,{data:t,iconType:o,inactiveColor:a})),_.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},p))})}var ac=e=>{var t=$l(e,rc),{payload:r,layout:n,align:i}=t;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===n?i:"left"};return _.createElement("ul",{className:"recharts-default-legend",style:a},_.createElement(ic,Ql({},t,{payload:r})))},oc={},sc={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.uniqBy=function(e,t){const r=new Map;for(let n=0;n<e.length;n++){const i=e[n],a=t(i);r.has(a)||r.set(a,i)}return Array.from(r.values())}}(sc);var lc={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.identity=function(e){return e}}(lc);var cc={},uc={},dc={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}}(dc),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dc;e.isArrayLike=function(e){return null!=e&&"function"!=typeof e&&t.isLength(e.length)}}(uc);var hc={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObjectLike=function(e){return"object"==typeof e&&null!==e}}(hc),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uc,r=hc;e.isArrayLikeObject=function(e){return r.isObjectLike(e)&&t.isArrayLike(e)}}(cc);var fc={},pc={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pl;e.property=function(e){return function(r){return t.get(r,e)}}}(pc);var gc={},mc={},yc={},vc={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObject=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}}(vc);var wc={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPrimitive=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e}}(wc);var bc={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}}(bc),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vc,r=wc,n=bc;function i(e,s,l,c){if(s===e)return!0;switch(typeof s){case"object":return function(e,t,n,i){if(null==t)return!0;if(Array.isArray(t))return a(e,t,n,i);if(t instanceof Map)return function(e,t,r,n){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[i,a]of t.entries()){if(!1===r(e.get(i),a,i,e,t,n))return!1}return!0}(e,t,n,i);if(t instanceof Set)return o(e,t,n,i);const s=Object.keys(t);if(null==e||r.isPrimitive(e))return 0===s.length;if(0===s.length)return!0;if(null==i?void 0:i.has(t))return i.get(t)===e;null==i||i.set(t,e);try{for(let a=0;a<s.length;a++){const o=s[a];if(!r.isPrimitive(e)&&!(o in e))return!1;if(void 0===t[o]&&void 0!==e[o])return!1;if(null===t[o]&&null!==e[o])return!1;if(!n(e[o],t[o],o,e,t,i))return!1}return!0}finally{null==i||i.delete(t)}}(e,s,l,c);case"function":return Object.keys(s).length>0?i(e,{...s},l,c):n.eq(e,s);default:return t.isObject(e)?"string"!=typeof s||""===s:n.eq(e,s)}}function a(e,t,r,n){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const i=new Set;for(let a=0;a<t.length;a++){const o=t[a];let s=!1;for(let l=0;l<e.length;l++){if(i.has(l))continue;let c=!1;if(r(e[l],o,a,e,t,n)&&(c=!0),c){i.add(l),s=!0;break}}if(!s)return!1}return!0}function o(e,t,r,n){return 0===t.size||e instanceof Set&&a([...e],[...t],r,n)}e.isMatchWith=function e(t,r,n){return"function"!=typeof n?e(t,r,()=>{}):i(t,r,function e(t,r,a,o,s,l){const c=n(t,r,a,o,s,l);return void 0!==c?Boolean(c):i(t,r,e,l)},new Map)},e.isSetMatch=o}(yc),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yc;e.isMatch=function(e,r){return t.isMatchWith(e,r,()=>{})}}(mc);var Ec={},Ac={},xc={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}}(xc);var Cc={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}}(Cc);var Sc={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});e.argumentsTag="[object Arguments]",e.arrayBufferTag="[object ArrayBuffer]",e.arrayTag="[object Array]",e.bigInt64ArrayTag="[object BigInt64Array]",e.bigUint64ArrayTag="[object BigUint64Array]",e.booleanTag="[object Boolean]",e.dataViewTag="[object DataView]",e.dateTag="[object Date]",e.errorTag="[object Error]",e.float32ArrayTag="[object Float32Array]",e.float64ArrayTag="[object Float64Array]",e.functionTag="[object Function]",e.int16ArrayTag="[object Int16Array]",e.int32ArrayTag="[object Int32Array]",e.int8ArrayTag="[object Int8Array]",e.mapTag="[object Map]",e.numberTag="[object Number]",e.objectTag="[object Object]",e.regexpTag="[object RegExp]",e.setTag="[object Set]",e.stringTag="[object String]",e.symbolTag="[object Symbol]",e.uint16ArrayTag="[object Uint16Array]",e.uint32ArrayTag="[object Uint32Array]",e.uint8ArrayTag="[object Uint8Array]",e.uint8ClampedArrayTag="[object Uint8ClampedArray]"}(Sc);var _c={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}}(_c),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xc,r=Cc,n=Sc,i=wc,a=_c;function o(e,t,l,c=new Map,u=void 0){const d=null==u?void 0:u(e,t,l,c);if(void 0!==d)return d;if(i.isPrimitive(e))return e;if(c.has(e))return c.get(e);if(Array.isArray(e)){const t=new Array(e.length);c.set(e,t);for(let r=0;r<e.length;r++)t[r]=o(e[r],r,l,c,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;c.set(e,t);for(const[r,n]of e)t.set(r,o(n,r,l,c,u));return t}if(e instanceof Set){const t=new Set;c.set(e,t);for(const r of e)t.add(o(r,void 0,l,c,u));return t}if("undefined"!=typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(a.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);c.set(e,t);for(let r=0;r<e.length;r++)t[r]=o(e[r],r,l,c,u);return t}if(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return c.set(e,t),s(t,e,l,c,u),t}if("undefined"!=typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return c.set(e,t),s(t,e,l,c,u),t}if("undefined"!=typeof Blob&&e instanceof Blob){const t=new Blob([e],{type:e.type});return c.set(e,t),s(t,e,l,c,u),t}if(e instanceof Error){const t=new e.constructor;return c.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,s(t,e,l,c,u),t}if(e instanceof Boolean){const t=new Boolean(e.valueOf());return c.set(e,t),s(t,e,l,c,u),t}if(e instanceof Number){const t=new Number(e.valueOf());return c.set(e,t),s(t,e,l,c,u),t}if(e instanceof String){const t=new String(e.valueOf());return c.set(e,t),s(t,e,l,c,u),t}if("object"==typeof e&&function(e){switch(r.getTag(e)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return c.set(e,t),s(t,e,l,c,u),t}return e}function s(e,r,n=e,i,a){const s=[...Object.keys(r),...t.getSymbols(r)];for(let t=0;t<s.length;t++){const l=s[t],c=Object.getOwnPropertyDescriptor(e,l);(null==c||c.writable)&&(e[l]=o(r[l],l,n,i,a))}}e.cloneDeepWith=function(e,t){return o(e,void 0,e,new Map,t)},e.cloneDeepWithImpl=o,e.copyProperties=s}(Ac),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ac;e.cloneDeep=function(e){return t.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}}(Ec),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mc,r=Ec;e.matches=function(e){return e=r.cloneDeep(e),r=>t.isMatch(r,e)}}(gc);var Ic={},Oc={},Tc={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ac,r=Sc;e.cloneDeepWith=function(e,n){return t.cloneDeepWith(e,(i,a,o,s)=>{const l=null==n?void 0:n(i,a,o,s);if(void 0!==l)return l;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case r.numberTag:case r.stringTag:case r.booleanTag:{const r=new e.constructor(null==e?void 0:e.valueOf());return t.copyProperties(r,e),r}case r.argumentsTag:{const r={};return t.copyProperties(r,e),r.length=e.length,r[Symbol.iterator]=e[Symbol.iterator],r}default:return}})}}(Tc),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tc;e.cloneDeep=function(e){return t.cloneDeepWith(e)}}(Oc);var Pc={},Rc={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;e.isIndex=function(e,r=Number.MAX_SAFE_INTEGER){switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<r;case"symbol":return!1;case"string":return t.test(e)}}}(Rc);var Mc={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cc;e.isArguments=function(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===t.getTag(e)}}(Mc),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ml,r=Rc,n=Mc,i=vl;e.has=function(e,a){let o;if(o=Array.isArray(a)?a:"string"==typeof a&&t.isDeepKey(a)&&null==(null==e?void 0:e[a])?i.toPath(a):[a],0===o.length)return!1;let s=e;for(let t=0;t<o.length;t++){const e=o[t];if(null==s||!Object.hasOwn(s,e)){if(!((Array.isArray(s)||n.isArguments(s))&&r.isIndex(e)&&e<s.length))return!1}s=s[e]}return!0}}(Pc),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mc,r=yl,n=Oc,i=pl,a=Pc;e.matchesProperty=function(e,o){switch(typeof e){case"object":Object.is(null==e?void 0:e.valueOf(),-0)&&(e="-0");break;case"number":e=r.toKey(e)}return o=n.cloneDeep(o),function(r){const n=i.get(r,e);return void 0===n?a.has(r,e):void 0===o?void 0===n:t.isMatch(n,o)}}}(Ic),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lc,r=pc,n=gc,i=Ic;e.iteratee=function(e){if(null==e)return t.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?i.matchesProperty(e[0],e[1]):n.matches(e);case"string":case"symbol":case"number":return r.property(e)}}}(fc),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sc,r=lc,n=cc,i=fc;e.uniqBy=function(e,a=r.identity){return n.isArrayLikeObject(e)?t.uniqBy(Array.from(e),i.iteratee(a)):[]}}(oc);const Nc=O(oc.uniqBy);function Dc(e,t,r){return!0===t?Nc(e,r):"function"==typeof t?Nc(e,t):e}var jc={exports:{}},kc={},Bc=_,Lc=$;var Fc="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Uc=Lc.useSyncExternalStore,zc=Bc.useRef,Hc=Bc.useEffect,Vc=Bc.useMemo,Wc=Bc.useDebugValue;kc.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=zc(null);if(null===a.current){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=Vc(function(){function e(e){if(!l){if(l=!0,a=e,e=n(e),void 0!==i&&o.hasValue){var t=o.value;if(i(t,e))return s=t}return s=e}if(t=s,Fc(a,e))return t;var r=n(e);return void 0!==i&&i(t,r)?(a=e,t):(a=e,s=r)}var a,s,l=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,i]);var s=Uc(e,a[0],a[1]);return Hc(function(){o.hasValue=!0,o.value=s},[s]),Wc(s),s},jc.exports=kc;var Gc=jc.exports,Xc=_.createContext(null),Kc=e=>e,Yc=()=>{var e=_.useContext(Xc);return e?e.store.dispatch:Kc},qc=()=>{},Zc=()=>qc,$c=(e,t)=>e===t;function Qc(e){var t=_.useContext(Xc);return Gc.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Zc,t?t.store.getState:qc,t?t.store.getState:qc,t?e:qc,$c)}var Jc={},eu={},tu={};!function(e){function t(e){return"symbol"==typeof e?1:null===e?2:void 0===e?3:e!=e?4:0}Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});e.compareValues=(e,r,n)=>{if(e!==r){const i=t(e),a=t(r);if(i===a&&0===i){if(e<r)return"desc"===n?1:-1;if(e>r)return"desc"===n?-1:1}return"desc"===n?a-i:i-a}return 0}}(tu);var ru={},nu={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isSymbol=function(e){return"symbol"==typeof e||e instanceof Symbol}}(nu),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nu,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;e.isKey=function(e,i){return!Array.isArray(e)&&(!("number"!=typeof e&&"boolean"!=typeof e&&null!=e&&!t.isSymbol(e))||("string"==typeof e&&(n.test(e)||!r.test(e))||null!=i&&Object.hasOwn(i,e)))}}(ru),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tu,r=ru,n=vl;e.orderBy=function(e,i,a,o){if(null==e)return[];a=o?void 0:a,Array.isArray(e)||(e=Object.values(e)),Array.isArray(i)||(i=null==i?[null]:[i]),0===i.length&&(i=[null]),Array.isArray(a)||(a=null==a?[]:[a]),a=a.map(e=>String(e));const s=(e,t)=>{let r=e;for(let n=0;n<t.length&&null!=r;++n)r=r[t[n]];return r},l=i.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"==typeof e||Array.isArray(e)||r.isKey(e)?e:{key:e,path:n.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"==typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:s(t,e.path):"function"==typeof e?e(t):Array.isArray(e)?s(t,e):"object"==typeof t?t[e]:t)(t,e))})).slice().sort((e,r)=>{for(let n=0;n<l.length;n++){const i=t.compareValues(e.criteria[n],r.criteria[n],a[n]);if(0!==i)return i}return 0}).map(e=>e.original)}}(eu);var iu={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.flatten=function(e,t=1){const r=[],n=Math.floor(t),i=(e,t)=>{for(let a=0;a<e.length;a++){const o=e[a];Array.isArray(o)&&t<n?i(o,t+1):r.push(o)}};return i(e,0),r}}(iu);var au={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rc,r=uc,n=vc,i=bc;e.isIterateeCall=function(e,a,o){return!!n.isObject(o)&&(!!("number"==typeof a&&r.isArrayLike(o)&&t.isIndex(a)&&a<o.length||"string"==typeof a&&a in o)&&i.eq(o[a],e))}}(au),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eu,r=iu,n=au;e.sortBy=function(e,...i){const a=i.length;return a>1&&n.isIterateeCall(e,i[0],i[1])?i=[]:a>2&&n.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(e,r.flatten(i),["asc"])}}(Jc);const ou=O(Jc.sortBy);var su=e=>e.legend.settings,lu=Vi([e=>e.legend.payload,su],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?ou(n,r):n});function cu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,r]=_.useState({height:0,left:0,top:0,width:0}),n=_.useCallback(e=>{if(null!=e){var n=e.getBoundingClientRect(),i={height:n.height,left:n.left,top:n.top,width:n.width};(Math.abs(i.height-t.height)>1||Math.abs(i.left-t.left)>1||Math.abs(i.top-t.top)>1||Math.abs(i.width-t.width)>1)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}var uu=wa({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=null!==(r=t.payload.top)&&void 0!==r?r:0,e.margin.right=null!==(n=t.payload.right)&&void 0!==n?n:0,e.margin.bottom=null!==(i=t.payload.bottom)&&void 0!==i?i:0,e.margin.left=null!==(a=t.payload.left)&&void 0!==a?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:du,setLayout:hu,setChartSize:fu,setScale:pu}=uu.actions,gu=uu.reducer;function mu(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function yu(e){return Number.isFinite(e)}function vu(e){return"number"==typeof e&&e>0&&Number.isFinite(e)}function wu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wu(Object(r),!0).forEach(function(t){Eu(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wu(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Eu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Au(e,t,r){return Dl(e)||Dl(t)?r:Il(t)?bl(e,t,r):"function"==typeof t?t(e):r}var xu=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,Cu=(e,t,r,n)=>{if(n)return e.map(e=>e.coordinate);var i,a,o=e.map(e=>(e.coordinate===t&&(i=!0),e.coordinate===r&&(a=!0),e.coordinate));return i||o.push(t),a||o.push(r),o},Su=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=e;if(!o)return null;var p="scaleBand"===s&&o.bandwidth?o.bandwidth()/2:2,g="category"===i&&o.bandwidth?o.bandwidth()/p:0;return g="angleAxis"===f&&a&&a.length>=2?2*xl(a[0]-a[1])*g:g,d||h?(d||h||[]).map((e,t)=>{var r=n?n.indexOf(e):e;return{coordinate:o(r)+g,value:e,offset:g,index:t}}).filter(e=>!Cl(e.coordinate)):l&&c?c.map((e,t)=>({coordinate:o(e)+g,value:e,index:t,offset:g})):o.ticks&&null!=u?o.ticks(u).map((e,t)=>({coordinate:o(e)+g,value:e,offset:g,index:t})):o.domain().map((e,t)=>({coordinate:o(e)+g,value:n?n[e]:e,index:t,offset:g}))},_u=1e-4,Iu={sign:e=>{var t,r=e.length;if(!(r<=0)){var n=null===(t=e[0])||void 0===t?void 0:t.length;if(!(null==n||n<=0))for(var i=0;i<n;++i)for(var a=0,o=0,s=0;s<r;++s){var l=e[s],c=null==l?void 0:l[i];if(null!=c){var u=c[1],d=c[0],h=Cl(u)?d:u;h>=0?(c[0]=a,c[1]=a+h,a=u):(c[0]=o,c[1]=o+h,o=u)}}}},expand:function(e,t){if((n=e.length)>0){for(var r,n,i,a=0,o=e[0].length;a<o;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}cl(e,t)}},none:cl,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,i=e[t[0]],a=i.length;n<a;++n){for(var o=0,s=0;o<r;++o)s+=e[o][n][1]||0;i[n][1]+=i[n][0]=-s/2}cl(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,i,a=0,o=1;o<n;++o){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[o][1]||0,h=(d-(u[o-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[o][1]||0)-(p[o-1][1]||0)}l+=d,c+=h*d}r[o-1][1]+=r[o-1][0]=a,l&&(a-=c/l)}r[o-1][1]+=r[o-1][0]=a,cl(e,t)}},positive:e=>{var t,r=e.length;if(!(r<=0)){var n=null===(t=e[0])||void 0===t?void 0:t.length;if(!(null==n||n<=0))for(var i=0;i<n;++i)for(var a=0,o=0;o<r;++o){var s=e[o],l=null==s?void 0:s[i];if(null!=l){var c=Cl(l[1])?l[0]:l[1];c>=0?(l[0]=a,l[1]=a+c,a=l[1]):(l[0]=0,l[1]=0)}}}}},Ou=(e,t,r)=>{var n,i=null!==(n=Iu[r])&&void 0!==n?n:cl,a=function(){var e=cs([]),t=ul,r=cl,n=dl;function i(i){var a,o,s=Array.from(e.apply(this,arguments),hl),l=s.length,c=-1;for(const e of i)for(a=0,++c;a<l;++a)(s[a][c]=[0,+n(e,s[a].key,c,i)]).data=e;for(a=0,o=As(t(s));a<l;++a)s[o[a]].index=a;return r(s,o),s}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:cs(Array.from(t)),i):e},i.value=function(e){return arguments.length?(n="function"==typeof e?e:cs(+e),i):n},i.order=function(e){return arguments.length?(t=null==e?ul:"function"==typeof e?e:cs(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(r=null==e?cl:e,i):r},i}().keys(t).value((e,t)=>Number(Au(e,t,0))).order(ul).offset(i),o=a(e);return o.forEach((r,n)=>{r.forEach((r,i)=>{var a=Au(e[i],t[n],0);Array.isArray(a)&&2===a.length&&_l(a[0])&&_l(a[1])&&(r[0]=a[0],r[1]=a[1])})}),o};function Tu(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:o}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Dl(i[t.dataKey])){var s=Nl(r,"value",i[t.dataKey]);if(s)return s.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=Au(i,Dl(o)?t.dataKey:o);return Dl(l)?null:t.scale(l)}var Pu=(e,t,r)=>{var n;if(null!=e)return[(n=Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:o}=a,s=o.reduce((e,n)=>{var i,a=mu(n,t,r),o=(i=a.flat(2).filter(_l),[Math.min(...i),Math.max(...i)]);return yu(o[0])&&yu(o[1])?[Math.min(e[0],o[0]),Math.max(e[1],o[1])]:e},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]]},Ru=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mu=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Nu=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=ou(t,e=>e.coordinate),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],c=i[o-1];a=Math.min(((null==l?void 0:l.coordinate)||0)-((null==c?void 0:c.coordinate)||0),a)}return a===1/0?0:a}return r?void 0:0};function Du(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return bu(bu({},t),{},{dataKey:r,payload:n,value:i,name:a})}function ju(e,t){return e?String(e):"string"==typeof t?t:void 0}var ku=e=>e.layout.width,Bu=e=>e.layout.height,Lu=e=>e.layout.scale,Fu=e=>e.layout.margin,Uu=Vi(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),zu=Vi(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),Hu="data-recharts-item-index",Vu="data-recharts-item-id";function Wu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Gu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wu(Object(r),!0).forEach(function(t){Xu(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wu(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Xu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ku=Vi([ku,Bu,Fu,e=>e.brush.height,function(e){return zu(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return zu(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return Uu(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return Uu(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},su,e=>e.legend.size],(e,t,r,n,i,a,o,s,l,c)=>{var u={left:(r.left||0)+i,right:(r.right||0)+a},d=Gu(Gu({},{top:(r.top||0)+o,bottom:(r.bottom||0)+s}),u),h=d.bottom;d.bottom+=n,d=((e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:o,layout:s}=t;if(("vertical"===s||"horizontal"===s&&"middle"===o)&&"center"!==a&&_l(e[a]))return bu(bu({},e),{},{[a]:e[a]+(n||0)});if(("horizontal"===s||"vertical"===s&&"center"===a)&&"middle"!==o&&_l(e[o]))return bu(bu({},e),{},{[o]:e[o]+(i||0)})}return e})(d,l,c);var f=e-d.left-d.right,p=t-d.top-d.bottom;return Gu(Gu({brushBottom:h},d),{},{width:Math.max(f,0),height:Math.max(p,0)})}),Yu=Vi(Ku,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),qu=Vi(ku,Bu,(e,t)=>({x:0,y:0,width:e,height:t})),Zu=_.createContext(null),$u=()=>null!=_.useContext(Zu),Qu=e=>e.brush,Ju=Vi([Qu,Ku,Fu],(e,t,r)=>({height:e.height,x:_l(e.x)?e.x:t.left,y:_l(e.y)?e.y:t.top+t.height+t.brushBottom-((null==r?void 0:r.bottom)||0),width:_l(e.width)?e.width:t.width})),ed={},td={},rd={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.debounce=function(e,t,{signal:r,edges:n}={}){let i,a=null;const o=null!=n&&n.includes("leading"),s=null==n||n.includes("trailing"),l=()=>{null!==a&&(e.apply(i,a),i=void 0,a=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,s&&l(),d()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null),i=void 0,a=null},h=function(...e){if(null==r?void 0:r.aborted)return;i=this,a=e;const t=null==c;u(),o&&t&&l()};return h.schedule=u,h.cancel=d,h.flush=()=>{l()},null==r||r.addEventListener("abort",d,{once:!0}),h}}(rd),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rd;e.debounce=function(e,r=0,n={}){"object"!=typeof n&&(n={});const{leading:i=!1,trailing:a=!0,maxWait:o}=n,s=Array(2);let l;i&&(s[0]="leading"),a&&(s[1]="trailing");let c=null;const u=t.debounce(function(...t){l=e.apply(this,t),c=null},r,{edges:s}),d=function(...t){return null!=o&&(null===c&&(c=Date.now()),Date.now()-c>=o)?(l=e.apply(this,t),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,t),l)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),l),d}}(td),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=td;e.throttle=function(e,r=0,n={}){const{leading:i=!0,trailing:a=!0}=n;return t.debounce(e,r,{leading:i,maxWait:r,trailing:a})}}(ed);const nd=O(ed.throttle);var id=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];if("undefined"!=typeof console&&console.warn&&!e)if(void 0===t);else;},ad=(e,t,r)=>{var{width:n="100%",height:i="100%",aspect:a,maxHeight:o}=r,s=Sl(n)?e:Number(n),l=Sl(i)?t:Number(i);return a&&a>0&&(s?l=s/a:l&&(s=l*a),o&&null!=l&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},od={width:0,height:0,overflow:"visible"},sd={width:0,overflowX:"visible"},ld={height:0,overflowY:"visible"},cd={},ud=e=>{var{width:t,height:r}=e,n=Sl(t),i=Sl(r);return n&&i?od:n?sd:i?ld:cd};function dd(){return dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dd.apply(null,arguments)}function hd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function fd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hd(Object(r),!0).forEach(function(t){pd(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hd(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function pd(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gd=_.createContext({width:-1,height:-1});function md(e){var{children:t,width:r,height:n}=e,i=_.useMemo(()=>({width:r,height:n}),[r,n]);return function(e){return vu(e.width)&&vu(e.height)}(i)?_.createElement(gd.Provider,{value:i},t):null}var yd=()=>_.useContext(gd),vd=_.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:a,minWidth:o=0,minHeight:s,maxHeight:l,children:c,debounce:u=0,id:d,className:f,onResize:p,style:g={}}=e,m=_.useRef(null),y=_.useRef();y.current=p,_.useImperativeHandle(t,()=>m.current);var[v,w]=_.useState({containerWidth:n.width,containerHeight:n.height}),b=_.useCallback((e,t)=>{w(r=>{var n=Math.round(e),i=Math.round(t);return r.containerWidth===n&&r.containerHeight===i?r:{containerWidth:n,containerHeight:i}})},[]);_.useEffect(()=>{if(null==m.current||"undefined"==typeof ResizeObserver)return Bl;var e=e=>{var t,{width:r,height:n}=e[0].contentRect;b(r,n),null===(t=y.current)||void 0===t||t.call(y,r,n)};u>0&&(e=nd(e,u,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:r,height:n}=m.current.getBoundingClientRect();return b(r,n),t.observe(m.current),()=>{t.disconnect()}},[b,u]);var{containerWidth:E,containerHeight:A}=v;id(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:x,calculatedHeight:C}=ad(E,A,{width:i,height:a,aspect:r,maxHeight:l});return id(null!=x&&x>0||null!=C&&C>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",x,C,i,a,o,s,r),_.createElement("div",{id:d?"".concat(d):void 0,className:h("recharts-responsive-container",f),style:fd(fd({},g),{},{width:i,height:a,minWidth:o,minHeight:s,maxHeight:l}),ref:m},_.createElement("div",{style:ud({width:i,height:a})},_.createElement(md,{width:x,height:C},c)))}),wd=_.forwardRef((e,t)=>{var r=yd();if(vu(r.width)&&vu(r.height))return e.children;var{width:n,height:i}=function(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return void 0===i&&void 0===a?(i="100%",a="100%"):void 0===i?i=n&&n>0?void 0:"100%":void 0===a&&(a=n&&n>0?void 0:"100%"),{width:i,height:a}}({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:o}=ad(void 0,void 0,{width:n,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return _l(a)&&_l(o)?_.createElement(md,{width:a,height:o},e.children):_.createElement(vd,dd({},e,{width:n,height:i,ref:t}))});function bd(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Ed=()=>{var e,t=$u(),r=Qc(Yu),n=Qc(Ju),i=null===(e=Qc(Qu))||void 0===e?void 0:e.padding;return t&&n&&i?{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}:r},Ad={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},xd=()=>{var e;return null!==(e=Qc(Ku))&&void 0!==e?e:Ad},Cd=()=>Qc(ku),Sd=()=>Qc(Bu),_d=e=>e.layout.layoutType,Id=()=>Qc(_d),Od=e=>{var t=Yc(),r=$u(),{width:n,height:i}=e,a=yd(),o=n,s=i;return a&&(o=a.width>0?a.width:n,s=a.height>0?a.height:i),_.useEffect(()=>{!r&&vu(o)&&vu(s)&&t(fu({width:o,height:s}))},[t,r,o,s]),null},Td=Symbol.for("immer-nothing"),Pd=Symbol.for("immer-draftable"),Rd=Symbol.for("immer-state");function Md(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Nd=Object.getPrototypeOf;function Dd(e){return!!e&&!!e[Rd]}function jd(e){var t;return!!e&&(Ld(e)||Array.isArray(e)||!!e[Pd]||!!(null==(t=e.constructor)?void 0:t[Pd])||Vd(e)||Wd(e))}var kd=Object.prototype.constructor.toString(),Bd=new WeakMap;function Ld(e){if(!e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if("function"!=typeof r)return!1;let n=Bd.get(r);return void 0===n&&(n=Function.toString.call(r),Bd.set(r,n)),n===kd}function Fd(e,t,r=!0){if(0===Ud(e)){(r?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)})}else e.forEach((r,n)=>t(n,r,e))}function Ud(e){const t=e[Rd];return t?t.type_:Array.isArray(e)?1:Vd(e)?2:Wd(e)?3:0}function zd(e,t){return 2===Ud(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Hd(e,t,r){const n=Ud(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function Vd(e){return e instanceof Map}function Wd(e){return e instanceof Set}function Gd(e){return e.copy_||e.base_}function Xd(e,t){if(Vd(e))return new Map(e);if(Wd(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Ld(e);if(!0===t||"class_only"===t&&!r){const t=Object.getOwnPropertyDescriptors(e);delete t[Rd];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const i=r[n],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Nd(e),t)}{const t=Nd(e);if(null!==t&&r)return{...e};const n=Object.create(t);return Object.assign(n,e)}}function Kd(e,t=!1){return qd(e)||Dd(e)||!jd(e)||(Ud(e)>1&&Object.defineProperties(e,{set:Yd,add:Yd,clear:Yd,delete:Yd}),Object.freeze(e),t&&Object.values(e).forEach(e=>Kd(e,!0))),e}var Yd={value:function(){Md(2)}};function qd(e){return null===e||"object"!=typeof e||Object.isFrozen(e)}var Zd,$d={};function Qd(e){const t=$d[e];return t||Md(0),t}function Jd(){return Zd}function eh(e,t){t&&(Qd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function th(e){rh(e),e.drafts_.forEach(ih),e.drafts_=null}function rh(e){e===Zd&&(Zd=e.parent_)}function nh(e){return Zd={drafts_:[],parent_:Zd,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ih(e){const t=e[Rd];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function ah(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[Rd].modified_&&(th(t),Md(4)),jd(e)&&(e=oh(t,e),t.parent_||lh(t,e)),t.patches_&&Qd("Patches").generateReplacementPatches_(r[Rd].base_,e,t.patches_,t.inversePatches_)):e=oh(t,r,[]),th(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Td?e:void 0}function oh(e,t,r){if(qd(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Rd];if(!i)return Fd(t,(n,a)=>sh(e,i,t,n,a,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return lh(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const t=i.copy_;let a=t,o=!1;3===i.type_&&(a=new Set(t),t.clear(),o=!0),Fd(a,(n,a)=>sh(e,i,t,n,a,r,o),n),lh(e,t,!1),r&&e.patches_&&Qd("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function sh(e,t,r,n,i,a,o){if(null==i)return;if("object"!=typeof i&&!o)return;const s=qd(i);if(!s||o){if(Dd(i)){const o=oh(e,i,a&&t&&3!==t.type_&&!zd(t.assigned_,n)?a.concat(n):void 0);if(Hd(r,n,o),!Dd(o))return;e.canAutoFreeze_=!1}else o&&r.add(i);if(jd(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;if(t&&t.base_&&t.base_[n]===i&&s)return;oh(e,i),t&&t.scope_.parent_||"symbol"==typeof n||!(Vd(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))||lh(e,i)}}}function lh(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Kd(t,r)}var ch={get(e,t){if(t===Rd)return e;const r=Gd(e);if(!zd(r,t))return function(e,t,r){var n;const i=hh(t,r);return i?"value"in i?i.value:null==(n=i.get)?void 0:n.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!jd(n)?n:n===dh(e.base_,t)?(ph(e),e.copy_[t]=gh(n,e)):n},has:(e,t)=>t in Gd(e),ownKeys:e=>Reflect.ownKeys(Gd(e)),set(e,t,r){const n=hh(Gd(e),t);if(null==n?void 0:n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=dh(Gd(e),t),o=null==n?void 0:n[Rd];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(((i=r)===(a=n)?0!==i||1/i==1/a:i!=i&&a!=a)&&(void 0!==r||zd(e.base_,t)))return!0;ph(e),fh(e)}var i,a;return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==dh(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,ph(e),fh(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=Gd(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){Md(11)},getPrototypeOf:e=>Nd(e.base_),setPrototypeOf(){Md(12)}},uh={};function dh(e,t){const r=e[Rd];return(r?Gd(r):e)[t]}function hh(e,t){if(!(t in e))return;let r=Nd(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=Nd(r)}}function fh(e){e.modified_||(e.modified_=!0,e.parent_&&fh(e.parent_))}function ph(e){e.copy_||(e.copy_=Xd(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Fd(ch,(e,t)=>{uh[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),uh.deleteProperty=function(e,t){return uh.set.call(this,e,t,void 0)},uh.set=function(e,t,r){return ch.set.call(this,e[0],t,r,e[0])};function gh(e,t){const r=Vd(e)?Qd("MapSet").proxyMap_(e,t):Wd(e)?Qd("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Jd(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=ch;r&&(i=[n],a=uh);const{revoke:o,proxy:s}=Proxy.revocable(i,a);return n.draft_=s,n.revoke_=o,s}(e,t);return(t?t.scope_:Jd()).drafts_.push(r),r}function mh(e){if(!jd(e)||qd(e))return e;const t=e[Rd];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Xd(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Xd(e,!0);return Fd(r,(e,t)=>{Hd(r,e,mh(t))},n),t&&(t.finalized_=!1),r}(new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,r)=>{if("function"==typeof e&&"function"!=typeof t){const r=t;t=e;const n=this;return function(e=r,...i){return n.produce(e,e=>t.call(this,e,...i))}}let n;if("function"!=typeof t&&Md(6),void 0!==r&&"function"!=typeof r&&Md(7),jd(e)){const i=nh(this),a=gh(e,void 0);let o=!0;try{n=t(a),o=!1}finally{o?th(i):rh(i)}return eh(i,r),ah(n,i)}if(!e||"object"!=typeof e){if(n=t(e),void 0===n&&(n=e),n===Td&&(n=void 0),this.autoFreeze_&&Kd(n,!0),r){const t=[],i=[];Qd("Patches").generateReplacementPatches_(e,n,t,i),r(t,i)}return n}Md(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...r)=>this.produceWithPatches(t,t=>e(t,...r));let r,n;return[this.produce(e,t,(e,t)=>{r=e,n=t}),r,n]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"==typeof(null==e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){jd(e)||Md(8),Dd(e)&&(e=function(e){Dd(e)||Md(10);return mh(e)}(e));const t=nh(this),r=gh(e,void 0);return r[Rd].isManual_=!0,rh(t),r}finishDraft(e,t){const r=e&&e[Rd];r&&r.isManual_||Md(9);const{scope_:n}=r;return eh(n,t),ah(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=Qd("Patches").applyPatches_;return Dd(e)?n(e,t):this.produce(e,e=>n(e,t))}}).produce;var yh=wa({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:ea()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Ni(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:ea()},removeLegendPayload:{reducer(e,t){var r=Ni(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:ea()}}}),{setLegendSize:vh,setLegendSettings:wh,addLegendPayload:bh,replaceLegendPayload:Eh,removeLegendPayload:Ah}=yh.actions,xh=yh.reducer,Ch=["contextPayload"];function Sh(){return Sh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sh.apply(null,arguments)}function _h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ih(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_h(Object(r),!0).forEach(function(t){Oh(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Oh(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Th(e){return e.value}function Ph(e){var{contextPayload:t}=e,r=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,Ch),n=Dc(t,e.payloadUniqBy,Th),i=Ih(Ih({},r),{},{payload:n});return _.isValidElement(e.content)?_.cloneElement(e.content,i):"function"==typeof e.content?_.createElement(e.content,i):_.createElement(ac,i)}function Rh(e){var t=Yc();return _.useEffect(()=>{t(wh(e))},[t,e]),null}function Mh(e){var t=Yc();return _.useEffect(()=>(t(vh(e)),()=>{t(vh({width:0,height:0}))}),[t,e]),null}var Nh={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Dh(e){var t=$l(e,Nh),r=Qc(lu),n=_.useContext(ls),i=Qc(e=>e.layout.margin),{width:a,height:o,wrapperStyle:s,portal:l}=t,[c,u]=cu([r]),d=Cd(),h=Sd();if(null==d||null==h)return null;var f=d-((null==i?void 0:i.left)||0)-((null==i?void 0:i.right)||0),p=function(e,t,r,n){return"vertical"===e&&_l(t)?{height:t}:"horizontal"===e?{width:r||n}:null}(t.layout,o,a,f),g=l?s:Ih(Ih({position:"absolute",width:(null==p?void 0:p.width)||a||"auto",height:(null==p?void 0:p.height)||o||"auto"},function(e,t,r,n,i,a){var o,s,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(o="center"===c&&"vertical"===l?{left:((n||0)-a.width)/2}:"right"===c?{right:r&&r.right||0}:{left:r&&r.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(s="middle"===u?{top:((i||0)-a.height)/2}:"bottom"===u?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Ih(Ih({},o),s)}(s,t,i,d,h,c)),s),m=null!=l?l:n;if(null==m||null==r)return null;var y=_.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:u},_.createElement(Rh,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&_.createElement(Mh,{width:c.width,height:c.height}),_.createElement(Ph,Sh({},t,p,{margin:i,chartWidth:d,chartHeight:h,contextPayload:r})));return C.createPortal(y,m)}function jh(){return jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jh.apply(null,arguments)}function kh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Bh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kh(Object(r),!0).forEach(function(t){Lh(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kh(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Lh(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fh(e){return Array.isArray(e)&&Il(e[0])&&Il(e[1])?e.join(" ~ "):e}Dh.displayName="Legend";var Uh=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:d,accessibilityLayer:f=!1}=e,p=Bh({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=Bh({margin:0},i),m=!Dl(u),y=m?u:"",v=h("recharts-default-tooltip",l),w=h("recharts-tooltip-label",c);m&&d&&null!=a&&(y=d(u,a));var b=f?{role:"status","aria-live":"assertive"}:{};return _.createElement("div",jh({className:v,style:p},b),_.createElement("p",{className:w,style:g},_.isValidElement(y)?y:"".concat(y)),(()=>{if(a&&a.length){var e=(s?ou(a,s):a).map((e,r)=>{if("none"===e.type)return null;var i=e.formatter||o||Fh,{value:s,name:l}=e,c=s,u=l;if(i){var d=i(s,l,e,r,a);if(Array.isArray(d))[c,u]=d;else{if(null==d)return null;c=d}}var h=Bh({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},n);return _.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(r),style:h},Il(u)?_.createElement("span",{className:"recharts-tooltip-item-name"},u):null,Il(u)?_.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,_.createElement("span",{className:"recharts-tooltip-item-value"},c),_.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return _.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},zh="recharts-tooltip-wrapper",Hh={visibility:"hidden"};function Vh(e){var{coordinate:t,translateX:r,translateY:n}=e;return h(zh,{["".concat(zh,"-right")]:_l(r)&&t&&_l(t.x)&&r>=t.x,["".concat(zh,"-left")]:_l(r)&&t&&_l(t.x)&&r<t.x,["".concat(zh,"-bottom")]:_l(n)&&t&&_l(t.y)&&n>=t.y,["".concat(zh,"-top")]:_l(n)&&t&&_l(t.y)&&n<t.y})}function Wh(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:c}=e;if(a&&_l(a[n]))return a[n];var u=r[n]-s-(i>0?i:0),d=r[n]+i;if(t[n])return o[n]?u:d;var h=l[n];return null==h?0:o[n]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+s>h+c?Math.max(u,h):Math.max(d,h)}function Gh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Xh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gh(Object(r),!0).forEach(function(t){Kh(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gh(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Kh(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class Yh extends _.PureComponent{constructor(){super(...arguments),Kh(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Kh(this,"handleKeyDown",e=>{var t,r,n,i;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(r=this.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==t?t:0,y:null!==(n=null===(i=this.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==n?n:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:t,animationDuration:r,animationEasing:n,children:i,coordinate:a,hasPayload:o,isAnimationActive:s,offset:l,position:c,reverseDirection:u,useTranslate3d:d,viewBox:h,wrapperStyle:f,lastBoundingBox:p,innerRef:g,hasPortalFromProps:m}=this.props,{cssClasses:y,cssProperties:v}=function(e){var t,r,n,{allowEscapeViewBox:i,coordinate:a,offsetTopLeft:o,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:d}=e;return t=c.height>0&&c.width>0&&a?function(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:r=Wh({allowEscapeViewBox:i,coordinate:a,key:"x",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:d,viewBoxDimension:d.width}),translateY:n=Wh({allowEscapeViewBox:i,coordinate:a,key:"y",offsetTopLeft:o,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:u}):Hh,{cssProperties:t,cssClasses:Vh({translateX:r,translateY:n,coordinate:a})}}({allowEscapeViewBox:t,coordinate:a,offsetTopLeft:l,position:c,reverseDirection:u,tooltipBox:{height:p.height,width:p.width},useTranslate3d:d,viewBox:h}),w=m?{}:Xh(Xh({transition:s&&e?"transform ".concat(r,"ms ").concat(n):void 0},v),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),b=Xh(Xh({},w),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},f);return _.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:b,ref:g},i)}}var qh=()=>{var e;return null===(e=Qc(e=>e.rootProps.accessibilityLayer))||void 0===e||e};function Zh(){return Zh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zh.apply(null,arguments)}function $h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Qh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$h(Object(r),!0).forEach(function(t){Jh(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$h(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Jh(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ef={curveBasisClosed:function(e){return new Zs(e)},curveBasisOpen:function(e){return new $s(e)},curveBasis:function(e){return new qs(e)},curveBumpX:function(e){return new Ts(e,!0)},curveBumpY:function(e){return new Ts(e,!1)},curveLinearClosed:function(e){return new Qs(e)},curveLinear:Cs,curveMonotoneX:function(e){return new nl(e)},curveMonotoneY:function(e){return new il(e)},curveNatural:function(e){return new ol(e)},curveStep:function(e){return new ll(e,.5)},curveStepAfter:function(e){return new ll(e,1)},curveStepBefore:function(e){return new ll(e,0)}},tf=e=>yu(e.x)&&yu(e.y),rf=e=>null!=e.base&&tf(e.base)&&tf(e),nf=e=>e.x,af=e=>e.y,of=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,o=((e,t)=>{if("function"==typeof e)return e;var r="curve".concat(jl(e));return"curveMonotone"!==r&&"curveBump"!==r||!t?ef[r]||Cs:ef["".concat(r).concat("vertical"===t?"Y":"X")]})(t,i),s=a?r.filter(tf):r;if(Array.isArray(n)){var l=r.map((e,t)=>Qh(Qh({},e),{},{base:n[t]}));return("vertical"===i?Os().y(af).x1(nf).x0(e=>e.base.x):Os().x(nf).y1(af).y0(e=>e.base.y)).defined(rf).curve(o)(a?l.filter(rf):l)}return("vertical"===i&&_l(n)?Os().y(af).x1(nf).x0(n):_l(n)?Os().x(nf).y1(af).y0(n):Is().x(nf).y(af)).defined(tf).curve(o)(s)},sf=e=>{var{className:t,points:r,path:n,pathRef:i}=e,a=Id();if(!(r&&r.length||n))return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},s=r&&r.length?of(o):n;return _.createElement("path",Zh({},Jo(e),Kl(e),{className:h("recharts-curve",t),d:null===s?void 0:s,ref:i}))},lf=["x","y","top","left","width","height","className"];function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cf.apply(null,arguments)}function uf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function df(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hf=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),ff=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:o=0,className:s}=e,l=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uf(Object(r),!0).forEach(function(t){df(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uf(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:t,y:r,top:n,left:i,width:a,height:o},function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,lf));return _l(t)&&_l(r)&&_l(a)&&_l(o)&&_l(n)&&_l(i)?_.createElement("path",cf({},ts(l),{className:h("recharts-cross",s),d:hf(t,r,a,o,n,i)})):null};function pf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pf(Object(r),!0).forEach(function(t){mf(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pf(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function mf(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var yf=(e,t,r)=>e.map(e=>{return"".concat((n=e,n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(r);var n}).join(","),vf=(e,t)=>Object.keys(t).reduce((r,n)=>gf(gf({},r),{},{[n]:e(n,t[n])}),{});function wf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wf(Object(r),!0).forEach(function(t){Ef(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wf(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ef(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Af=(e,t,r)=>e+(t-e)*r,xf=e=>{var{from:t,to:r}=e;return t!==r},Cf=(e,t,r)=>{var n=vf((t,r)=>{if(xf(r)){var[n,i]=e(r.from,r.to,r.velocity);return bf(bf({},r),{},{from:n,velocity:i})}return r},t);return r<1?vf((e,t)=>xf(t)&&null!=n[e]?bf(bf({},t),{},{velocity:Af(t.velocity,n[e].velocity,r),from:Af(t.from,n[e].from,r)}):t,t):Cf(e,n,r-1)};function Sf(e,t,r,n,i,a){var o,s=n.reduce((r,n)=>bf(bf({},r),{},{[n]:{from:e[n],velocity:0,to:t[n]}}),{}),l=null,c=n=>{o||(o=n);var u=(n-o)/r.dt;s=Cf(r,s,u),i(bf(bf(bf({},e),t),vf((e,t)=>t.from,s))),o=n,Object.values(s).filter(xf).length&&(l=a.setTimeout(c))};return()=>(l=a.setTimeout(c),()=>{var e;null===(e=l)||void 0===e||e()})}const _f=(e,t,r,n,i,a)=>{var o,s,l=(o=e,s=t,[Object.keys(o),Object.keys(s)].reduce((e,t)=>e.filter(e=>t.includes(e))));return null==r?()=>(i(bf(bf({},e),t)),()=>{}):!0===r.isStepper?Sf(e,t,r,l,i,a):function(e,t,r,n,i,a,o){var s,l=null,c=i.reduce((r,n)=>{var i=e[n],a=t[n];return null==i||null==a?r:bf(bf({},r),{},{[n]:[i,a]})},{}),u=i=>{s||(s=i);var d=(i-s)/n,h=vf((e,t)=>Af(...t,r(d)),c);if(a(bf(bf(bf({},e),t),h)),d<1)l=o.setTimeout(u);else{var f=vf((e,t)=>Af(...t,r(1)),c);a(bf(bf(bf({},e),t),f))}};return()=>(l=o.setTimeout(u),()=>{var e;null===(e=l)||void 0===e||e()})}(e,t,r,n,l,i,a)};var If=1e-4,Of=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Tf=(e,t)=>e.map((e,r)=>e*t**r).reduce((e,t)=>e+t),Pf=(e,t)=>r=>{var n=Of(e,t);return Tf(n,r)},Rf=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(1===t.length)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:var n=(e=>{var t,r=e.split("(");if(2!==r.length||"cubic-bezier"!==r[0])return null;var n=null===(t=r[1])||void 0===t||null===(t=t.split(")")[0])||void 0===t?void 0:t.split(",");if(null==n||4!==n.length)return null;var i=n.map(e=>parseFloat(e));return[i[0],i[1],i[2],i[3]]})(t[0]);if(n)return n}return 4===t.length?t:[0,0,1,1]},Mf=(e,t,r,n)=>{var i,a,o=Pf(e,r),s=Pf(t,n),l=(i=e,a=r,e=>{var t=[...Of(i,a).map((e,t)=>e*t).slice(1),0];return Tf(t,e)}),c=e=>e>1?1:e<0?0:e,u=e=>{for(var t=e>1?1:e,r=t,n=0;n<8;++n){var i=o(r)-t,a=l(r);if(Math.abs(i-t)<If||a<If)return s(r);r=c(r-i/a)}return s(r)};return u.isStepper=!1,u},Nf=function(){return Mf(...Rf(...arguments))},Df=e=>{if("string"==typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Nf(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:r=8,dt:n=17}=e,i=(e,i,a)=>{var o=a+(-(e-i)*t-a*r)*n/1e3,s=a*n/1e3+e;return Math.abs(s-i)<If&&Math.abs(o)<If?[i,0]:[s,o]};return i.isStepper=!0,i.dt=n,i}();default:if("cubic-bezier"===e.split("(")[0])return Nf(e)}return"function"==typeof e?e:null};class jf{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=performance.now(),n=null,i=a=>{a-r>=t?e(a):"function"==typeof requestAnimationFrame&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{null!=n&&cancelAnimationFrame(n)}}}function kf(){return e=new jf,t=()=>null,r=!1,n=null,i=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,[s,...l]=o;return"number"==typeof s?void(n=e.setTimeout(i.bind(null,l),s)):(i(s),void(n=e.setTimeout(i.bind(null,l))))}"string"==typeof a&&t(a),"object"==typeof a&&t(a),"function"==typeof a&&a()}},{stop:()=>{r=!0},start:e=>{r=!1,n&&(n(),n=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e};var e,t,r,n,i}var Bf=_.createContext(kf);var Lf=!("undefined"!=typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout),Ff={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Uf={t:0},zf={t:1};function Hf(e){var t,r,n,i=$l(e,Ff),{isActive:a,canBegin:o,duration:s,easing:l,begin:c,onAnimationEnd:u,onAnimationStart:d,children:h}=i,f="auto"===a?!Lf:a,p=(t=i.animationId,r=i.animationManager,n=_.useContext(Bf),_.useMemo(()=>null!=r?r:n(t),[t,r,n])),[g,m]=_.useState(f?Uf:zf),y=_.useRef(null);return _.useEffect(()=>{f||m(zf)},[f]),_.useEffect(()=>{if(!f||!o)return Bl;var e=_f(Uf,zf,Df(l),s,m,p.getTimeoutController());return p.start([d,c,()=>{y.current=e()},s,u]),()=>{p.stop(),y.current&&y.current(),u()}},[f,o,s,l,c,d,u,p]),h(g.t)}function Vf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",r=_.useRef(Tl(t)),n=_.useRef(e);return n.current!==e&&(r.current=Tl(t),n.current=e),r.current}var Wf,Gf,Xf,Kf,Yf,qf,Zf,$f,Qf,Jf,ep=["radius"],tp=["radius"];function rp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function np(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rp(Object(r),!0).forEach(function(t){ip(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rp(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ip(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ap(){return ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ap.apply(null,arguments)}function op(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sp(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var lp=(e,t,r,n,i)=>{var a,o=El(r),s=El(n),l=Math.min(Math.abs(o)/2,Math.abs(s)/2),c=s>=0?1:-1,u=o>=0?1:-1,d=s>=0&&o>=0||s<0&&o<0?1:0;if(l>0&&i instanceof Array){for(var h=[0,0,0,0],f=0;f<4;f++)h[f]=i[f]>l?l:i[f];a=Al(Wf||(Wf=sp(["M",",",""])),e,t+c*h[0]),h[0]>0&&(a+=Al(Gf||(Gf=sp(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+u*h[0],t)),a+=Al(Xf||(Xf=sp(["L ",",",""])),e+r-u*h[1],t),h[1]>0&&(a+=Al(Kf||(Kf=sp(["A ",",",",0,0,",",\n        ",",",""])),h[1],h[1],d,e+r,t+c*h[1])),a+=Al(Yf||(Yf=sp(["L ",",",""])),e+r,t+n-c*h[2]),h[2]>0&&(a+=Al(qf||(qf=sp(["A ",",",",0,0,",",\n        ",",",""])),h[2],h[2],d,e+r-u*h[2],t+n)),a+=Al(Zf||(Zf=sp(["L ",",",""])),e+u*h[3],t+n),h[3]>0&&(a+=Al($f||($f=sp(["A ",",",",0,0,",",\n        ",",",""])),h[3],h[3],d,e,t+n-c*h[3])),a+="Z"}else if(l>0&&i===+i&&i>0){var p=Math.min(l,i);a=Al(Qf||(Qf=sp(["M ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",","," Z"])),e,t+c*p,p,p,d,e+u*p,t,e+r-u*p,t,p,p,d,e+r,t+c*p,e+r,t+n-c*p,p,p,d,e+r-u*p,t+n,e+u*p,t+n,p,p,d,e,t+n-c*p)}else a=Al(Jf||(Jf=sp(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return a},cp={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},up=e=>{var t=$l(e,cp),r=_.useRef(null),[n,i]=_.useState(-1);_.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var e=r.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:a,y:o,width:s,height:l,radius:c,className:u}=t,{animationEasing:d,animationDuration:f,animationBegin:p,isAnimationActive:g,isUpdateAnimationActive:m}=t,y=_.useRef(s),v=_.useRef(l),w=_.useRef(a),b=_.useRef(o),E=Vf(_.useMemo(()=>({x:a,y:o,width:s,height:l,radius:c}),[a,o,s,l,c]),"rectangle-");if(a!==+a||o!==+o||s!==+s||l!==+l||0===s||0===l)return null;var A=h("recharts-rectangle",u);if(!m){var x=ts(t),{radius:C}=x,S=op(x,ep);return _.createElement("path",ap({},S,{x:El(a),y:El(o),width:El(s),height:El(l),radius:"number"==typeof c?c:void 0,className:A,d:lp(a,o,s,l,c)}))}var I=y.current,O=v.current,T=w.current,P=b.current,R="0px ".concat(-1===n?1:n,"px"),M="".concat(n,"px 0px"),N=yf(["strokeDasharray"],f,"string"==typeof d?d:cp.animationEasing);return _.createElement(Hf,{animationId:E,key:E,canBegin:n>0,duration:f,easing:d,isActive:m,begin:p},e=>{var n,i=Ml(I,s,e),u=Ml(O,l,e),d=Ml(T,a,e),h=Ml(P,o,e);r.current&&(y.current=i,v.current=u,w.current=d,b.current=h),n=g?e>0?{transition:N,strokeDasharray:M}:{strokeDasharray:R}:{strokeDasharray:M};var f=ts(t),{radius:p}=f,m=op(f,tp);return _.createElement("path",ap({},m,{radius:"number"==typeof c?c:void 0,className:A,d:lp(d,h,i,u,c),ref:r,style:np(np({},n),t.style)}))})};function dp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dp(Object(r),!0).forEach(function(t){fp(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dp(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function fp(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pp,gp,mp,yp,vp,wp,bp,Ep=Math.PI/180,Ap=e=>180*e/Math.PI,xp=(e,t,r,n)=>({x:e+Math.cos(-Ep*n)*r,y:t+Math.sin(-Ep*n)*r}),Cp=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},Sp=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,o=((e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)})({x:r,y:n},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var s=(r-i)/o,l=Math.acos(s);return n>a&&(l=2*Math.PI-l),{radius:o,angle:Ap(l),angleInRadian:l}},_p=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360);return e+360*Math.min(i,a)},Ip=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=Sp({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(i<o||i>s)return null;if(0===i)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-360*a,endAngle:r-360*a}})(t),d=a;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?hp(hp({},t),{},{radius:i,angle:_p(d,t)}):null};function Op(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e;return{points:[xp(t,r,n,i),xp(t,r,n,a)],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function Tp(){return Tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tp.apply(null,arguments)}function Pp(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Rp=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,c=s*(o?1:-1)+n,u=Math.asin(s/c)/Ep,d=l?i:i+a*u,h=l?i-a*u:i;return{center:xp(t,r,c,d),circleTangency:xp(t,r,n,d),lineTangency:xp(t,r,c*Math.cos(u*Ep),h),theta:u}},Mp=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:o}=e,s=((e,t)=>xl(t-e)*Math.min(Math.abs(t-e),359.999))(a,o),l=a+s,c=xp(t,r,i,a),u=xp(t,r,i,l),d=Al(pp||(pp=Pp(["M ",",","\n    A ",",",",0,\n    ",",",",\n    ",",","\n  "])),c.x,c.y,i,i,+(Math.abs(s)>180),+(a>l),u.x,u.y);if(n>0){var h=xp(t,r,n,a),f=xp(t,r,n,l);d+=Al(gp||(gp=Pp(["L ",",","\n            A ",",",",0,\n            ",",",",\n            ",","," Z"])),f.x,f.y,n,n,+(Math.abs(s)>180),+(a<=l),h.x,h.y)}else d+=Al(mp||(mp=Pp(["L ",","," Z"])),t,r);return d},Np={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Dp=e=>{var t=$l(e,Np),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u,className:d}=t;if(a<i||c===u)return null;var f,p=h("recharts-sector",d),g=a-i,m=Pl(o,g,0,!0);return f=m>0&&Math.abs(c-u)<360?(e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:c}=e,u=xl(c-l),{circleTangency:d,lineTangency:h,theta:f}=Rp({cx:t,cy:r,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:s}),{circleTangency:p,lineTangency:g,theta:m}=Rp({cx:t,cy:r,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:s}),y=s?Math.abs(l-c):Math.abs(l-c)-f-m;if(y<0)return o?Al(yp||(yp=Pp(["M ",",","\n        a",",",",0,0,1,",",0\n        a",",",",0,0,1,",",0\n      "])),h.x,h.y,a,a,2*a,a,a,2*-a):Mp({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:c});var v=Al(vp||(vp=Pp(["M ",",","\n    A",",",",0,0,",",",",","\n    A",",",",0,",",",",",",","\n    A",",",",0,0,",",",",","\n  "])),h.x,h.y,a,a,+(u<0),d.x,d.y,i,i,+(y>180),+(u<0),p.x,p.y,a,a,+(u<0),g.x,g.y);if(n>0){var{circleTangency:w,lineTangency:b,theta:E}=Rp({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),{circleTangency:A,lineTangency:x,theta:C}=Rp({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),S=s?Math.abs(l-c):Math.abs(l-c)-E-C;if(S<0&&0===a)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+=Al(wp||(wp=Pp(["L",",","\n      A",",",",0,0,",",",",","\n      A",",",",0,",",",",",",","\n      A",",",",0,0,",",",",","Z"])),x.x,x.y,a,a,+(u<0),A.x,A.y,n,n,+(S>180),+(u>0),w.x,w.y,a,a,+(u<0),b.x,b.y)}else v+=Al(bp||(bp=Pp(["L",",","Z"])),t,r);return v})({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(m,g/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:c,endAngle:u}):Mp({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u}),_.createElement("path",Tp({},ts(t),{className:p,d:f}))};function jp(e,t,r){if("horizontal"===e)return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if("vertical"===e)return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(Xl(t)){if("centric"===e){var{cx:n,cy:i,innerRadius:a,outerRadius:o,angle:s}=t,l=xp(n,i,a,s),c=xp(n,i,o,s);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return Op(t)}}var kp={},Bp={},Lp={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nu;e.toNumber=function(e){return t.isSymbol(e)?NaN:Number(e)}}(Lp),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lp;e.toFinite=function(e){if(!e)return 0===e?e:0;if((e=t.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e==e?e:0}}(Bp),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=au,r=Bp;e.range=function(e,n,i){i&&"number"!=typeof i&&t.isIterateeCall(e,n,i)&&(n=i=void 0),e=r.toFinite(e),void 0===n?(n=e,e=0):n=r.toFinite(n),i=void 0===i?e<n?1:-1:r.toFinite(i);const a=Math.max(Math.ceil((n-e)/(i||1)),0),o=new Array(a);for(let t=0;t<a;t++)o[t]=e,e+=i;return o}}(kp);const Fp=O(kp.range);function Up(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zp(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hp(e){let t,r,n;function i(e,n,i=0,a=e.length){if(i<a){if(0!==t(n,n))return a;do{const t=i+a>>>1;r(e[t],n)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=Up,r=(t,r)=>Up(e(t),r),n=(t,r)=>e(t)-r):(t=e===Up||e===zp?e:Vp,r=e,n=e),{left:i,center:function(e,t,r=0,a=e.length){const o=i(e,t,r,a-1);return o>r&&n(e[o-1],t)>-n(e[o],t)?o-1:o},right:function(e,n,i=0,a=e.length){if(i<a){if(0!==t(n,n))return a;do{const t=i+a>>>1;r(e[t],n)<=0?i=t+1:a=t}while(i<a)}return i}}}function Vp(){return 0}function Wp(e){return null===e?NaN:+e}const Gp=Hp(Up).right;Hp(Wp).center;class Xp extends Map{constructor(e,t=Yp){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(Kp(this,e))}has(e){return super.has(Kp(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},r){const n=t(r);e.has(n)&&(r=e.get(n),e.delete(n));return r}(this,e))}}function Kp({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Yp(e){return null!==e&&"object"==typeof e?e.valueOf():e}function qp(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const Zp=Math.sqrt(50),$p=Math.sqrt(10),Qp=Math.sqrt(2);function Jp(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=Zp?10:a>=$p?5:a>=Qp?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=r&&r<2?Jp(e,t,2*r):[s,l,c]}function eg(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[i,a,o]=n?Jp(t,e,r):Jp(e,t,r);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(n)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function tg(e,t,r){return Jp(e=+e,t=+t,r=+r)[2]}function rg(e,t,r){r=+r;const n=(t=+t)<(e=+e),i=n?tg(t,e,r):tg(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function ng(e,t){let r;for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);return r}function ig(e,t){let r;for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);return r}function ag(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=void 0===i?qp:function(e=Up){if(e===Up)return qp;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}(i);n>r;){if(n-r>600){const a=n-r+1,o=t-r+1,s=Math.log(a),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1);ag(e,t,Math.max(r,Math.floor(t-o*l/a+c)),Math.min(n,Math.floor(t+(a-o)*l/a+c)),i)}const a=e[t];let o=r,s=n;for(og(e,r,t),i(e[n],a)>0&&og(e,r,n);o<s;){for(og(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}0===i(e[r],a)?og(e,r,s):(++s,og(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function og(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function sg(e,t,r=Wp){if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),o=+r(e[a],a,e);return o+(+r(e[a+1],a+1,e)-o)*(i-a)}}function lg(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function cg(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const ug=Symbol("implicit");function dg(){var e=new Xp,t=[],r=[],n=ug;function i(i){let a=e.get(i);if(void 0===a){if(n!==ug)return n;e.set(i,a=t.push(i)-1)}return r[a%r.length]}return i.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new Xp;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return i},i.range=function(e){return arguments.length?(r=Array.from(e),i):r.slice()},i.unknown=function(e){return arguments.length?(n=e,i):n},i.copy=function(){return dg(t,r).unknown(n)},lg.apply(i,arguments),i}function hg(){var e,t,r=dg().unknown(void 0),n=r.domain,i=r.range,a=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var r=n().length,d=o<a,h=d?o:a,f=d?a:o;e=(f-h)/Math.max(1,r-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(r-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=0|Math.max(0,Math.ceil((t-e)/r)),a=new Array(i);++n<i;)a[n]=e+n*r;return a}(r).map(function(t){return h+e*t});return i(d?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),d()):n()},r.range=function(e){return arguments.length?([a,o]=e,a=+a,o=+o,d()):[a,o]},r.rangeRound=function(e){return[a,o]=e,a=+a,o=+o,s=!0,d()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(s=!!e,d()):s},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},r.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},r.copy=function(){return hg(n(),[a,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},lg.apply(d(),arguments)}function fg(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return fg(t())},e}function pg(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function gg(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function mg(){}var yg=.7,vg=1/yg,wg="\\s*([+-]?\\d+)\\s*",bg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Eg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ag=/^#([0-9a-f]{3,8})$/,xg=new RegExp(`^rgb\\(${wg},${wg},${wg}\\)$`),Cg=new RegExp(`^rgb\\(${Eg},${Eg},${Eg}\\)$`),Sg=new RegExp(`^rgba\\(${wg},${wg},${wg},${bg}\\)$`),_g=new RegExp(`^rgba\\(${Eg},${Eg},${Eg},${bg}\\)$`),Ig=new RegExp(`^hsl\\(${bg},${Eg},${Eg}\\)$`),Og=new RegExp(`^hsla\\(${bg},${Eg},${Eg},${bg}\\)$`),Tg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Pg(){return this.rgb().formatHex()}function Rg(){return this.rgb().formatRgb()}function Mg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Ag.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?Ng(t):3===r?new kg(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?Dg(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?Dg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=xg.exec(e))?new kg(t[1],t[2],t[3],1):(t=Cg.exec(e))?new kg(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Sg.exec(e))?Dg(t[1],t[2],t[3],t[4]):(t=_g.exec(e))?Dg(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Ig.exec(e))?Hg(t[1],t[2]/100,t[3]/100,1):(t=Og.exec(e))?Hg(t[1],t[2]/100,t[3]/100,t[4]):Tg.hasOwnProperty(e)?Ng(Tg[e]):"transparent"===e?new kg(NaN,NaN,NaN,0):null}function Ng(e){return new kg(e>>16&255,e>>8&255,255&e,1)}function Dg(e,t,r,n){return n<=0&&(e=t=r=NaN),new kg(e,t,r,n)}function jg(e,t,r,n){return 1===arguments.length?((i=e)instanceof mg||(i=Mg(i)),i?new kg((i=i.rgb()).r,i.g,i.b,i.opacity):new kg):new kg(e,t,r,null==n?1:n);var i}function kg(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function Bg(){return`#${zg(this.r)}${zg(this.g)}${zg(this.b)}`}function Lg(){const e=Fg(this.opacity);return`${1===e?"rgb(":"rgba("}${Ug(this.r)}, ${Ug(this.g)}, ${Ug(this.b)}${1===e?")":`, ${e})`}`}function Fg(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ug(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zg(e){return((e=Ug(e))<16?"0":"")+e.toString(16)}function Hg(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Wg(e,t,r,n)}function Vg(e){if(e instanceof Wg)return new Wg(e.h,e.s,e.l,e.opacity);if(e instanceof mg||(e=Mg(e)),!e)return new Wg;if(e instanceof Wg)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(r-n)/s+6*(r<n):r===a?(n-t)/s+2:(t-r)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new Wg(o,s,l,e.opacity)}function Wg(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function Gg(e){return(e=(e||0)%360)<0?e+360:e}function Xg(e){return Math.max(0,Math.min(1,e||0))}function Kg(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}pg(mg,Mg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Pg,formatHex:Pg,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Vg(this).formatHsl()},formatRgb:Rg,toString:Rg}),pg(kg,jg,gg(mg,{brighter(e){return e=null==e?vg:Math.pow(vg,e),new kg(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?yg:Math.pow(yg,e),new kg(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new kg(Ug(this.r),Ug(this.g),Ug(this.b),Fg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bg,formatHex:Bg,formatHex8:function(){return`#${zg(this.r)}${zg(this.g)}${zg(this.b)}${zg(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Lg,toString:Lg})),pg(Wg,function(e,t,r,n){return 1===arguments.length?Vg(e):new Wg(e,t,r,null==n?1:n)},gg(mg,{brighter(e){return e=null==e?vg:Math.pow(vg,e),new Wg(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?yg:Math.pow(yg,e),new Wg(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new kg(Kg(e>=240?e-240:e+120,i,n),Kg(e,i,n),Kg(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Wg(Gg(this.h),Xg(this.s),Xg(this.l),Fg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Fg(this.opacity);return`${1===e?"hsl(":"hsla("}${Gg(this.h)}, ${100*Xg(this.s)}%, ${100*Xg(this.l)}%${1===e?")":`, ${e})`}`}}));const Yg=e=>()=>e;function qg(e){return 1===(e=+e)?Zg:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):Yg(isNaN(t)?r:t)}}function Zg(e,t){var r=t-e;return r?function(e,t){return function(r){return e+r*t}}(e,r):Yg(isNaN(e)?t:e)}const $g=function e(t){var r=qg(t);function n(e,t){var n=r((e=jg(e)).r,(t=jg(t)).r),i=r(e.g,t.g),a=r(e.b,t.b),o=Zg(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return n.gamma=e,n}(1);function Qg(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(r=0;r<n;++r)i[r]=e[r]*(1-a)+t[r]*a;return i}}function Jg(e,t){var r,n=t?t.length:0,i=e?Math.min(n,e.length):0,a=new Array(i),o=new Array(n);for(r=0;r<i;++r)a[r]=om(e[r],t[r]);for(;r<n;++r)o[r]=t[r];return function(e){for(r=0;r<i;++r)o[r]=a[r](e);return o}}function em(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function tm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function rm(e,t){var r,n={},i={};for(r in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)r in e?n[r]=om(e[r],t[r]):i[r]=t[r];return function(e){for(r in n)i[r]=n[r](e);return i}}var nm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,im=new RegExp(nm.source,"g");function am(e,t){var r,n,i,a=nm.lastIndex=im.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(r=nm.exec(e))&&(n=im.exec(t));)(i=n.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,l.push({i:o,x:tm(r,n)})),a=im.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)s[(r=l[n]).i]=r.x(e);return s.join("")})}function om(e,t){var r,n,i=typeof t;return null==t||"boolean"===i?Yg(t):("number"===i?tm:"string"===i?(r=Mg(t))?(t=r,$g):am:t instanceof Mg?$g:t instanceof Date?em:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(t)?Jg:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?rm:tm:Qg))(e,t)}function sm(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function lm(e){return+e}var cm=[0,1];function um(e){return e}function dm(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function hm(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=dm(i,n),a=r(o,a)):(n=dm(n,i),a=r(a,o)),function(e){return a(n(e))}}function fm(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=dm(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(t){var r=Gp(e,t,1,n)-1;return a[r](i[r](t))}}function pm(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function gm(){var e,t,r,n,i,a,o=cm,s=cm,l=om,c=um;function u(){var e,t,r,l=Math.min(o.length,s.length);return c!==um&&(e=o[0],t=o[l-1],e>t&&(r=e,e=t,t=r),c=function(r){return Math.max(e,Math.min(t,r))}),n=l>2?fm:hm,i=a=null,d}function d(t){return null==t||isNaN(t=+t)?r:(i||(i=n(o.map(e),s,l)))(e(c(t)))}return d.invert=function(r){return c(t((a||(a=n(s,o.map(e),tm)))(r)))},d.domain=function(e){return arguments.length?(o=Array.from(e,lm),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=sm,u()},d.clamp=function(e){return arguments.length?(c=!!e||um,u()):c!==um},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(r=e,d):r},function(r,n){return e=r,t=n,u()}}function mm(){return gm()(um,um)}function ym(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function vm(e){return(e=ym(Math.abs(e)))?e[1]:NaN}var wm,bm=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Em(e){if(!(t=bm.exec(e)))throw new Error("invalid format: "+e);var t;return new Am({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Am(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function xm(e,t){var r=ym(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}Em.prototype=Am.prototype,Am.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Cm={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>xm(100*e,t),r:xm,s:function(e,t){var r=ym(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(wm=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+ym(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Sm(e){return e}var _m,Im,Om,Tm=Array.prototype.map,Pm=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Rm(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?Sm:(t=Tm.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>n&&(s=Math.max(1,n-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>n));)s=t[o=(o+1)%t.length];return a.reverse().join(r)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?Sm:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(Tm.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=Em(e)).fill,r=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,g=e.comma,m=e.precision,y=e.trim,v=e.type;"n"===v?(g=!0,v="g"):Cm[v]||(void 0===m&&(m=12),y=!0,v="g"),(f||"0"===t&&"="===r)&&(f=!0,t="0",r="=");var w="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",b="$"===h?a:/[%p]/.test(v)?l:"",E=Cm[v],A=/[defgprs%]/.test(v);function x(e){var i,a,l,h=w,x=b;if("c"===v)x=E(e)+x,e="";else{var C=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:E(Math.abs(e),m),y&&(e=function(e){e:for(var t,r=e.length,n=1,i=-1;n<r;++n)switch(e[n]){case".":i=t=n;break;case"0":0===i&&(i=n),t=n;break;default:if(!+e[n])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),C&&0===+e&&"+"!==d&&(C=!1),h=(C?"("===d?d:c:"-"===d||"("===d?"":d)+h,x=("s"===v?Pm[8+wm/3]:"")+x+(C&&"("===d?")":""),A)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){x=(46===l?o+e.slice(i+1):e.slice(i))+x,e=e.slice(0,i);break}}g&&!f&&(e=n(e,1/0));var S=h.length+e.length+x.length,_=S<p?new Array(p-S+1).join(t):"";switch(g&&f&&(e=n(_+e,_.length?p-x.length:1/0),_=""),r){case"<":e=h+e+x+_;break;case"=":e=h+_+e+x;break;case"^":e=_.slice(0,S=_.length>>1)+h+e+x+_.slice(S);break;default:e=_+h+e+x}return s(e)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),x.toString=function(){return e+""},x}return{format:d,formatPrefix:function(e,t){var r=d(((e=Em(e)).type="f",e)),n=3*Math.max(-8,Math.min(8,Math.floor(vm(t)/3))),i=Math.pow(10,-n),a=Pm[8+n/3];return function(e){return r(i*e)+a}}}}function Mm(e,t,r,n){var i,a=rg(e,t,r);switch((n=Em(null==n?",f":n)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(vm(t)/3)))-vm(Math.abs(e)))}(a,o))||(n.precision=i),Om(n,o);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,vm(t)-vm(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(i=function(e){return Math.max(0,-vm(Math.abs(e)))}(a))||(n.precision=i-2*("%"===n.type))}return Im(n)}function Nm(e){var t=e.domain;return e.ticks=function(e){var r=t();return eg(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return Mm(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,i,a=t(),o=0,s=a.length-1,l=a[o],c=a[s],u=10;for(c<l&&(i=l,l=c,c=i,i=o,o=s,s=i);u-- >0;){if((i=tg(l,c,r))===n)return a[o]=l,a[s]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}n=i}return e},e}function Dm(e,t){var r,n=0,i=(e=e.slice()).length-1,a=e[n],o=e[i];return o<a&&(r=n,n=i,i=r,r=a,a=o,o=r),e[n]=t.floor(a),e[i]=t.ceil(o),e}function jm(e){return Math.log(e)}function km(e){return Math.exp(e)}function Bm(e){return-Math.log(-e)}function Lm(e){return-Math.exp(-e)}function Fm(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Um(e){return(t,r)=>-e(-t,r)}function zm(e){const t=e(jm,km),r=t.domain;let n,i,a=10;function o(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?Fm:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),r()[0]<0?(n=Um(n),i=Um(i),e(Bm,Lm)):e(jm,km),t}return t.base=function(e){return arguments.length?(a=+e,o()):a},t.domain=function(e){return arguments.length?(r(e),o()):r()},t.ticks=e=>{const t=r();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=n(o),h=n(s);const f=null==e?10:+e;let p=[];if(!(a%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<a;++c)if(u=d<0?c/i(-d):c*i(d),!(u<o)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=a-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<o)){if(u>s)break;p.push(u)}2*p.length<f&&(p=eg(o,s,f))}else p=eg(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===a?"s":","),"function"!=typeof r&&(a%1||null!=(r=Em(r)).precision||(r.trim=!0),r=Im(r)),e===1/0)return r;const o=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(n(e)));return t*a<a-.5&&(t*=a),t<=o?r(e):""}},t.nice=()=>r(Dm(r(),{floor:e=>i(Math.floor(n(e))),ceil:e=>i(Math.ceil(n(e)))})),t}function Hm(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Vm(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Wm(e){var t=1,r=e(Hm(t),Vm(t));return r.constant=function(r){return arguments.length?e(Hm(t=+r),Vm(t)):t},Nm(r)}function Gm(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Xm(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Km(e){return e<0?-e*e:e*e}function Ym(e){var t=e(um,um),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(um,um):.5===r?e(Xm,Km):e(Gm(r),Gm(1/r)):r},Nm(t)}function qm(){var e=Ym(gm());return e.copy=function(){return pm(e,qm()).exponent(e.exponent())},lg.apply(e,arguments),e}function Zm(e){return Math.sign(e)*e*e}_m=Rm({thousands:",",grouping:[3],currency:["$",""]}),Im=_m.format,Om=_m.formatPrefix;const $m=new Date,Qm=new Date;function Jm(e,t,r,n){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),i.round=e=>{const t=i(e),r=i.ceil(e);return e-t<r-e?t:r},i.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),i.range=(r,n,a)=>{const o=[];if(r=i.ceil(r),a=null==a?1:Math.floor(a),!(r<n&&a>0))return o;let s;do{o.push(s=new Date(+r)),t(r,a),e(r)}while(s<r&&r<n);return o},i.filter=r=>Jm(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(i.count=(t,n)=>($m.setTime(+t),Qm.setTime(+n),e($m),e(Qm),Math.floor(r($m,Qm))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(n?t=>n(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const ey=Jm(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ey.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?Jm(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ey:null),ey.range;const ty=1e3,ry=6e4,ny=36e5,iy=864e5,ay=6048e5,oy=2592e6,sy=31536e6,ly=Jm(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ty)},(e,t)=>(t-e)/ty,e=>e.getUTCSeconds());ly.range;const cy=Jm(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ty)},(e,t)=>{e.setTime(+e+t*ry)},(e,t)=>(t-e)/ry,e=>e.getMinutes());cy.range;const uy=Jm(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ry)},(e,t)=>(t-e)/ry,e=>e.getUTCMinutes());uy.range;const dy=Jm(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ty-e.getMinutes()*ry)},(e,t)=>{e.setTime(+e+t*ny)},(e,t)=>(t-e)/ny,e=>e.getHours());dy.range;const hy=Jm(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ny)},(e,t)=>(t-e)/ny,e=>e.getUTCHours());hy.range;const fy=Jm(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ry)/iy,e=>e.getDate()-1);fy.range;const py=Jm(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/iy,e=>e.getUTCDate()-1);py.range;const gy=Jm(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/iy,e=>Math.floor(e/iy));function my(e){return Jm(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ry)/ay)}gy.range;const yy=my(0),vy=my(1),wy=my(2),by=my(3),Ey=my(4),Ay=my(5),xy=my(6);function Cy(e){return Jm(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/ay)}yy.range,vy.range,wy.range,by.range,Ey.range,Ay.range,xy.range;const Sy=Cy(0),_y=Cy(1),Iy=Cy(2),Oy=Cy(3),Ty=Cy(4),Py=Cy(5),Ry=Cy(6);Sy.range,_y.range,Iy.range,Oy.range,Ty.range,Py.range,Ry.range;const My=Jm(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());My.range;const Ny=Jm(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());Ny.range;const Dy=Jm(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Dy.every=e=>isFinite(e=Math.floor(e))&&e>0?Jm(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null,Dy.range;const jy=Jm(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function ky(e,t,r,n,i,a){const o=[[ly,1,ty],[ly,5,5e3],[ly,15,15e3],[ly,30,3e4],[a,1,ry],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,ny],[i,3,108e5],[i,6,216e5],[i,12,432e5],[n,1,iy],[n,2,1728e5],[r,1,ay],[t,1,oy],[t,3,7776e6],[e,1,sy]];function s(t,r,n){const i=Math.abs(r-t)/n,a=Hp(([,,e])=>e).right(o,i);if(a===o.length)return e.every(rg(t/sy,r/sy,n));if(0===a)return ey.every(Math.max(rg(t,r,n),1));const[s,l]=o[i/o[a-1][2]<o[a][2]/i?a-1:a];return s.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const i=r&&"function"==typeof r.range?r:s(e,t,r),a=i?i.range(e,+t+1):[];return n?a.reverse():a},s]}jy.every=e=>isFinite(e=Math.floor(e))&&e>0?Jm(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null,jy.range;const[By,Ly]=ky(jy,Ny,Sy,gy,hy,uy),[Fy,Uy]=ky(Dy,My,yy,fy,dy,cy);function zy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Hy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Vy(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var Wy,Gy,Xy,Ky={"-":"",_:" ",0:"0"},Yy=/^\s*\d+/,qy=/^%/,Zy=/[\\^$*+?|[\]().{}]/g;function $y(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function Qy(e){return e.replace(Zy,"\\$&")}function Jy(e){return new RegExp("^(?:"+e.map(Qy).join("|")+")","i")}function ev(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function tv(e,t,r){var n=Yy.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function rv(e,t,r){var n=Yy.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function nv(e,t,r){var n=Yy.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function iv(e,t,r){var n=Yy.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function av(e,t,r){var n=Yy.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function ov(e,t,r){var n=Yy.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function sv(e,t,r){var n=Yy.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function lv(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function cv(e,t,r){var n=Yy.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function uv(e,t,r){var n=Yy.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function dv(e,t,r){var n=Yy.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function hv(e,t,r){var n=Yy.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function fv(e,t,r){var n=Yy.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function pv(e,t,r){var n=Yy.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function gv(e,t,r){var n=Yy.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function mv(e,t,r){var n=Yy.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function yv(e,t,r){var n=Yy.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function vv(e,t,r){var n=qy.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function wv(e,t,r){var n=Yy.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function bv(e,t,r){var n=Yy.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Ev(e,t){return $y(e.getDate(),t,2)}function Av(e,t){return $y(e.getHours(),t,2)}function xv(e,t){return $y(e.getHours()%12||12,t,2)}function Cv(e,t){return $y(1+fy.count(Dy(e),e),t,3)}function Sv(e,t){return $y(e.getMilliseconds(),t,3)}function _v(e,t){return Sv(e,t)+"000"}function Iv(e,t){return $y(e.getMonth()+1,t,2)}function Ov(e,t){return $y(e.getMinutes(),t,2)}function Tv(e,t){return $y(e.getSeconds(),t,2)}function Pv(e){var t=e.getDay();return 0===t?7:t}function Rv(e,t){return $y(yy.count(Dy(e)-1,e),t,2)}function Mv(e){var t=e.getDay();return t>=4||0===t?Ey(e):Ey.ceil(e)}function Nv(e,t){return e=Mv(e),$y(Ey.count(Dy(e),e)+(4===Dy(e).getDay()),t,2)}function Dv(e){return e.getDay()}function jv(e,t){return $y(vy.count(Dy(e)-1,e),t,2)}function kv(e,t){return $y(e.getFullYear()%100,t,2)}function Bv(e,t){return $y((e=Mv(e)).getFullYear()%100,t,2)}function Lv(e,t){return $y(e.getFullYear()%1e4,t,4)}function Fv(e,t){var r=e.getDay();return $y((e=r>=4||0===r?Ey(e):Ey.ceil(e)).getFullYear()%1e4,t,4)}function Uv(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+$y(t/60|0,"0",2)+$y(t%60,"0",2)}function zv(e,t){return $y(e.getUTCDate(),t,2)}function Hv(e,t){return $y(e.getUTCHours(),t,2)}function Vv(e,t){return $y(e.getUTCHours()%12||12,t,2)}function Wv(e,t){return $y(1+py.count(jy(e),e),t,3)}function Gv(e,t){return $y(e.getUTCMilliseconds(),t,3)}function Xv(e,t){return Gv(e,t)+"000"}function Kv(e,t){return $y(e.getUTCMonth()+1,t,2)}function Yv(e,t){return $y(e.getUTCMinutes(),t,2)}function qv(e,t){return $y(e.getUTCSeconds(),t,2)}function Zv(e){var t=e.getUTCDay();return 0===t?7:t}function $v(e,t){return $y(Sy.count(jy(e)-1,e),t,2)}function Qv(e){var t=e.getUTCDay();return t>=4||0===t?Ty(e):Ty.ceil(e)}function Jv(e,t){return e=Qv(e),$y(Ty.count(jy(e),e)+(4===jy(e).getUTCDay()),t,2)}function ew(e){return e.getUTCDay()}function tw(e,t){return $y(_y.count(jy(e)-1,e),t,2)}function rw(e,t){return $y(e.getUTCFullYear()%100,t,2)}function nw(e,t){return $y((e=Qv(e)).getUTCFullYear()%100,t,2)}function iw(e,t){return $y(e.getUTCFullYear()%1e4,t,4)}function aw(e,t){var r=e.getUTCDay();return $y((e=r>=4||0===r?Ty(e):Ty.ceil(e)).getUTCFullYear()%1e4,t,4)}function ow(){return"+0000"}function sw(){return"%"}function lw(e){return+e}function cw(e){return Math.floor(+e/1e3)}function uw(e){return new Date(e)}function dw(e){return e instanceof Date?+e:+new Date(+e)}function hw(e,t,r,n,i,a,o,s,l,c){var u=mm(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),y=c("%a %d"),v=c("%b %d"),w=c("%B"),b=c("%Y");function E(e){return(l(e)<e?f:s(e)<e?p:o(e)<e?g:a(e)<e?m:n(e)<e?i(e)<e?y:v:r(e)<e?w:b)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,dw)):h().map(uw)},u.ticks=function(t){var r=h();return e(r[0],r[r.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?E:c(t)},u.nice=function(e){var r=h();return e&&"function"==typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?h(Dm(r,e)):u},u.copy=function(){return pm(u,hw(e,t,r,n,i,a,o,s,l,c))},u}function fw(){var e,t,r,n,i,a=0,o=1,s=um,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var r,n;return arguments.length?([r,n]=t,s=e(r,n),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([a,o]=i,e=n(a=+a),t=n(o=+o),r=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(om),c.rangeRound=u(sm),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return n=i,e=i(a),t=i(o),r=e===t?0:1/(t-e),c}}function pw(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function gw(){var e=Ym(fw());return e.copy=function(){return pw(e,gw()).exponent(e.exponent())},cg.apply(e,arguments)}function mw(){var e,t,r,n,i,a,o,s=0,l=.5,c=1,u=1,d=um,h=!1;function f(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(u*e<u*t?n:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var r,n,i;return arguments.length?([r,n,i]=t,d=function(e,t){void 0===t&&(t=e,e=om);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return a[t](e-t)}}(e,[r,n,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(o){return arguments.length?([s,l,c]=o,e=a(s=+s),t=a(l=+l),r=a(c=+c),n=e===t?0:.5/(t-e),i=t===r?0:.5/(r-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(om),f.rangeRound=p(sm),f.unknown=function(e){return arguments.length?(o=e,f):o},function(o){return a=o,e=o(s),t=o(l),r=o(c),n=e===t?0:.5/(t-e),i=t===r?0:.5/(r-t),u=t<e?-1:1,f}}function yw(){var e=Ym(mw());return e.copy=function(){return pw(e,yw()).exponent(e.exponent())},cg.apply(e,arguments)}!function(e){Wy=function(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=Jy(i),u=ev(i),d=Jy(a),h=ev(a),f=Jy(o),p=ev(o),g=Jy(s),m=ev(s),y=Jy(l),v=ev(l),w={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:Ev,e:Ev,f:_v,g:Bv,G:Fv,H:Av,I:xv,j:Cv,L:Sv,m:Iv,M:Ov,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:lw,s:cw,S:Tv,u:Pv,U:Rv,V:Nv,w:Dv,W:jv,x:null,X:null,y:kv,Y:Lv,Z:Uv,"%":sw},b={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:zv,e:zv,f:Xv,g:nw,G:aw,H:Hv,I:Vv,j:Wv,L:Gv,m:Kv,M:Yv,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:lw,s:cw,S:qv,u:Zv,U:$v,V:Jv,w:ew,W:tw,x:null,X:null,y:rw,Y:iw,Z:ow,"%":sw},E={a:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=d.exec(t.slice(r));return n?(e.w=h.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=y.exec(t.slice(r));return n?(e.m=v.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=g.exec(t.slice(r));return n?(e.m=m.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return C(e,t,r,n)},d:dv,e:dv,f:yv,g:sv,G:ov,H:fv,I:fv,j:hv,L:mv,m:uv,M:pv,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=u.get(n[0].toLowerCase()),r+n[0].length):-1},q:cv,Q:wv,s:bv,S:gv,u:rv,U:nv,V:iv,w:tv,W:av,x:function(e,t,n){return C(e,r,t,n)},X:function(e,t,r){return C(e,n,t,r)},y:sv,Y:ov,Z:lv,"%":vv};function A(e,t){return function(r){var n,i,a,o=[],s=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=Ky[n=e.charAt(++s)])?n=e.charAt(++s):i="e"===n?" ":"0",(a=t[n])&&(n=a(r,i)),o.push(n),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function x(e,t){return function(r){var n,i,a=Vy(1900,void 0,1);if(C(a,e,r+="",0)!=r.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(n=Hy(Vy(a.y,0,1))).getUTCDay(),n=i>4||0===i?_y.ceil(n):_y(n),n=py.offset(n,7*(a.V-1)),a.y=n.getUTCFullYear(),a.m=n.getUTCMonth(),a.d=n.getUTCDate()+(a.w+6)%7):(i=(n=zy(Vy(a.y,0,1))).getDay(),n=i>4||0===i?vy.ceil(n):vy(n),n=fy.offset(n,7*(a.V-1)),a.y=n.getFullYear(),a.m=n.getMonth(),a.d=n.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Hy(Vy(a.y,0,1)).getUTCDay():zy(Vy(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Hy(a)):zy(a)}}function C(e,t,r,n){for(var i,a,o=0,s=t.length,l=r.length;o<s;){if(n>=l)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=E[i in Ky?t.charAt(o++):i])||(n=a(e,r,n))<0)return-1}else if(i!=r.charCodeAt(n++))return-1}return n}return w.x=A(r,w),w.X=A(n,w),w.c=A(t,w),b.x=A(r,b),b.X=A(n,b),b.c=A(t,b),{format:function(e){var t=A(e+="",w);return t.toString=function(){return e},t},parse:function(e){var t=x(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=A(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=x(e+="",!0);return t.toString=function(){return e},t}}}(e),Gy=Wy.format,Wy.parse,Xy=Wy.utcFormat,Wy.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const vw=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hg,scaleDiverging:function e(){var t=Nm(mw()(um));return t.copy=function(){return pw(t,e())},cg.apply(t,arguments)},scaleDivergingLog:function e(){var t=zm(mw()).domain([.1,1,10]);return t.copy=function(){return pw(t,e()).base(t.base())},cg.apply(t,arguments)},scaleDivergingPow:yw,scaleDivergingSqrt:function(){return yw.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=Wm(mw());return t.copy=function(){return pw(t,e()).constant(t.constant())},cg.apply(t,arguments)},scaleIdentity:function e(t){var r;function n(e){return null==e||isNaN(e=+e)?r:e}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,lm),n):t.slice()},n.unknown=function(e){return arguments.length?(r=e,n):r},n.copy=function(){return e(t).unknown(r)},t=arguments.length?Array.from(t,lm):[0,1],Nm(n)},scaleImplicit:ug,scaleLinear:function e(){var t=mm();return t.copy=function(){return pm(t,e())},lg.apply(t,arguments),Nm(t)},scaleLog:function e(){const t=zm(gm()).domain([1,10]);return t.copy=()=>pm(t,e()).base(t.base()),lg.apply(t,arguments),t},scaleOrdinal:dg,scalePoint:function(){return fg(hg.apply(null,arguments).paddingInner(1))},scalePow:qm,scaleQuantile:function e(){var t,r=[],n=[],i=[];function a(){var e=0,t=Math.max(1,n.length);for(i=new Array(t-1);++e<t;)i[e-1]=sg(r,e/t);return o}function o(e){return null==e||isNaN(e=+e)?t:n[Gp(i,e)]}return o.invertExtent=function(e){var t=n.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:r[0],t<i.length?i[t]:r[r.length-1]]},o.domain=function(e){if(!arguments.length)return r.slice();r=[];for(let t of e)null==t||isNaN(t=+t)||r.push(t);return r.sort(Up),a()},o.range=function(e){return arguments.length?(n=Array.from(e),a()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return i.slice()},o.copy=function(){return e().domain(r).range(n).unknown(t)},lg.apply(o,arguments)},scaleQuantize:function e(){var t,r=0,n=1,i=1,a=[.5],o=[0,1];function s(e){return null!=e&&e<=e?o[Gp(a,e,0,i)]:t}function l(){var e=-1;for(a=new Array(i);++e<i;)a[e]=((e+1)*n-(e-i)*r)/(i+1);return s}return s.domain=function(e){return arguments.length?([r,n]=e,r=+r,n=+n,l()):[r,n]},s.range=function(e){return arguments.length?(i=(o=Array.from(e)).length-1,l()):o.slice()},s.invertExtent=function(e){var t=o.indexOf(e);return t<0?[NaN,NaN]:t<1?[r,a[0]]:t>=i?[a[i-1],n]:[a[t-1],a[t]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return a.slice()},s.copy=function(){return e().domain([r,n]).range(o).unknown(t)},lg.apply(Nm(s),arguments)},scaleRadial:function e(){var t,r=mm(),n=[0,1],i=!1;function a(e){var n=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(r(e));return isNaN(n)?t:i?Math.round(n):n}return a.invert=function(e){return r.invert(Zm(e))},a.domain=function(e){return arguments.length?(r.domain(e),a):r.domain()},a.range=function(e){return arguments.length?(r.range((n=Array.from(e,lm)).map(Zm)),a):n.slice()},a.rangeRound=function(e){return a.range(e).round(!0)},a.round=function(e){return arguments.length?(i=!!e,a):i},a.clamp=function(e){return arguments.length?(r.clamp(e),a):r.clamp()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.copy=function(){return e(r.domain(),n).round(i).clamp(r.clamp()).unknown(t)},lg.apply(a,arguments),Nm(a)},scaleSequential:function e(){var t=Nm(fw()(um));return t.copy=function(){return pw(t,e())},cg.apply(t,arguments)},scaleSequentialLog:function e(){var t=zm(fw()).domain([1,10]);return t.copy=function(){return pw(t,e()).base(t.base())},cg.apply(t,arguments)},scaleSequentialPow:gw,scaleSequentialQuantile:function e(){var t=[],r=um;function n(e){if(null!=e&&!isNaN(e=+e))return r((Gp(t,e,1)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(Up),n},n.interpolator=function(e){return arguments.length?(r=e,n):r},n.range=function(){return t.map((e,n)=>r(n/(t.length-1)))},n.quantiles=function(e){return Array.from({length:e+1},(r,n)=>function(e,t){if((r=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||r<2)return ig(e);if(t>=1)return ng(e);var r,n=(r-1)*t,i=Math.floor(n),a=ng(ag(e,i).subarray(0,i+1));return a+(ig(e.subarray(i+1))-a)*(n-i)}}(t,n/e))},n.copy=function(){return e(r).domain(t)},cg.apply(n,arguments)},scaleSequentialSqrt:function(){return gw.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=Wm(fw());return t.copy=function(){return pw(t,e()).constant(t.constant())},cg.apply(t,arguments)},scaleSqrt:function(){return qm.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=Wm(gm());return t.copy=function(){return pm(t,e()).constant(t.constant())},lg.apply(t,arguments)},scaleThreshold:function e(){var t,r=[.5],n=[0,1],i=1;function a(e){return null!=e&&e<=e?n[Gp(r,e,0,i)]:t}return a.domain=function(e){return arguments.length?(r=Array.from(e),i=Math.min(r.length,n.length-1),a):r.slice()},a.range=function(e){return arguments.length?(n=Array.from(e),i=Math.min(r.length,n.length-1),a):n.slice()},a.invertExtent=function(e){var t=n.indexOf(e);return[r[t-1],r[t]]},a.unknown=function(e){return arguments.length?(t=e,a):t},a.copy=function(){return e().domain(r).range(n).unknown(t)},lg.apply(a,arguments)},scaleTime:function(){return lg.apply(hw(Fy,Uy,Dy,My,yy,fy,dy,cy,ly,Gy).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return lg.apply(hw(By,Ly,jy,Ny,Sy,py,hy,uy,ly,Xy).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:Mm},Symbol.toStringTag,{value:"Module"}));var ww=e=>e.chartData,bw=Vi([ww],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Ew=(e,t,r,n)=>n?bw(e):ww(e);function Aw(e){if(Array.isArray(e)&&2===e.length){var[t,r]=e;if(yu(t)&&yu(r))return!0}return!1}function xw(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Cw(e,t){if(t&&"function"!=typeof e&&Array.isArray(e)&&2===e.length){var r,n,[i,a]=e;if(yu(i))r=i;else if("function"==typeof i)return;if(yu(a))n=a;else if("function"==typeof a)return;var o=[r,n];if(Aw(o))return o}}var Sw,_w=1e9,Iw=!0,Ow="[DecimalError] ",Tw=Ow+"Invalid argument: ",Pw=Ow+"Exponent out of range: ",Rw=Math.floor,Mw=Math.pow,Nw=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Dw=1e7,jw=9007199254740991,kw=Rw(1286742750677284.5),Bw={};function Lw(e,t){var r,n,i,a,o,s,l,c,u=e.constructor,d=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Iw?Yw(t,d):t;if(l=e.d,c=t.d,o=e.e,i=t.e,l=l.slice(),a=o-i){for(a<0?(n=l,a=-a,s=c.length):(n=c,i=o,s=l.length),a>(s=(o=Math.ceil(d/7))>s?o+1:s+1)&&(a=s,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for((s=l.length)-(a=c.length)<0&&(a=s,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/Dw|0,l[a]%=Dw;for(r&&(l.unshift(r),++i),s=l.length;0==l[--s];)l.pop();return t.d=l,t.e=i,Iw?Yw(t,d):t}function Fw(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Tw+e)}function Uw(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(a+=Gw(r)),a+=n;(r=7-(n=(o=e[t])+"").length)&&(a+=Gw(r))}else if(0===o)return"0";for(;o%10==0;)o/=10;return a+o}Bw.absoluteValue=Bw.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},Bw.comparedTo=Bw.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,r=(n=a.d.length)<(i=e.d.length)?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1},Bw.decimalPlaces=Bw.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},Bw.dividedBy=Bw.div=function(e){return zw(this,new this.constructor(e))},Bw.dividedToIntegerBy=Bw.idiv=function(e){var t=this.constructor;return Yw(zw(this,new t(e),0,1),t.precision)},Bw.equals=Bw.eq=function(e){return!this.cmp(e)},Bw.exponent=function(){return Vw(this)},Bw.greaterThan=Bw.gt=function(e){return this.cmp(e)>0},Bw.greaterThanOrEqualTo=Bw.gte=function(e){return this.cmp(e)>=0},Bw.isInteger=Bw.isint=function(){return this.e>this.d.length-2},Bw.isNegative=Bw.isneg=function(){return this.s<0},Bw.isPositive=Bw.ispos=function(){return this.s>0},Bw.isZero=function(){return 0===this.s},Bw.lessThan=Bw.lt=function(e){return this.cmp(e)<0},Bw.lessThanOrEqualTo=Bw.lte=function(e){return this.cmp(e)<1},Bw.logarithm=Bw.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(Sw))throw Error(Ow+"NaN");if(r.s<1)throw Error(Ow+(r.s?"NaN":"-Infinity"));return r.eq(Sw)?new n(0):(Iw=!1,t=zw(Xw(r,a),Xw(e,a),a),Iw=!0,Yw(t,i))},Bw.minus=Bw.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?qw(t,e):Lw(t,(e.s=-e.s,e))},Bw.modulo=Bw.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(!(e=new n(e)).s)throw Error(Ow+"NaN");return r.s?(Iw=!1,t=zw(r,e,0,1).times(e),Iw=!0,r.minus(t)):Yw(new n(r),i)},Bw.naturalExponential=Bw.exp=function(){return Hw(this)},Bw.naturalLogarithm=Bw.ln=function(){return Xw(this)},Bw.negated=Bw.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},Bw.plus=Bw.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Lw(t,e):qw(t,(e.s=-e.s,e))},Bw.precision=Bw.sd=function(e){var t,r,n,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(Tw+e);if(t=Vw(i)+1,r=7*(n=i.d.length-1)+1,n=i.d[n]){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},Bw.squareRoot=Bw.sqrt=function(){var e,t,r,n,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Ow+"NaN")}for(e=Vw(s),Iw=!1,0==(i=Math.sqrt(+s))||i==1/0?(((t=Uw(s.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Rw((e+1)/2)-(e<0||e%2),n=new l(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new l(i.toString()),i=o=(r=l.precision)+3;;)if(n=(a=n).plus(zw(s,a,o+2)).times(.5),Uw(a.d).slice(0,o)===(t=Uw(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&"4999"==t){if(Yw(a,r+1,0),a.times(a).eq(s)){n=a;break}}else if("9999"!=t)break;o+=4}return Iw=!0,Yw(n,r)},Bw.times=Bw.mul=function(e){var t,r,n,i,a,o,s,l,c,u=this,d=u.constructor,h=u.d,f=(e=new d(e)).d;if(!u.s||!e.s)return new d(0);for(e.s*=u.s,r=u.e+e.e,(l=h.length)<(c=f.length)&&(a=h,h=f,f=a,o=l,l=c,c=o),a=[],n=o=l+c;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)s=a[i]+f[n]*h[i-n-1]+t,a[i--]=s%Dw|0,t=s/Dw|0;a[i]=(a[i]+t)%Dw|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Iw?Yw(e,d.precision):e},Bw.toDecimalPlaces=Bw.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(Fw(e,0,_w),void 0===t?t=n.rounding:Fw(t,0,8),Yw(r,e+Vw(r)+1,t))},Bw.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=Zw(n,!0):(Fw(e,0,_w),void 0===t?t=i.rounding:Fw(t,0,8),r=Zw(n=Yw(new i(n),e+1,t),!0,e+1)),r},Bw.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return void 0===e?Zw(i):(Fw(e,0,_w),void 0===t?t=a.rounding:Fw(t,0,8),r=Zw((n=Yw(new a(i),e+Vw(i)+1,t)).abs(),!1,e+Vw(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)},Bw.toInteger=Bw.toint=function(){var e=this,t=e.constructor;return Yw(new t(e),Vw(e)+1,t.rounding)},Bw.toNumber=function(){return+this},Bw.toPower=Bw.pow=function(e){var t,r,n,i,a,o,s=this,l=s.constructor,c=+(e=new l(e));if(!e.s)return new l(Sw);if(!(s=new l(s)).s){if(e.s<1)throw Error(Ow+"Infinity");return s}if(s.eq(Sw))return s;if(n=l.precision,e.eq(Sw))return Yw(s,n);if(o=(t=e.e)>=(r=e.d.length-1),a=s.s,o){if((r=c<0?-c:c)<=jw){for(i=new l(Sw),t=Math.ceil(n/7+4),Iw=!1;r%2&&$w((i=i.times(s)).d,t),0!==(r=Rw(r/2));)$w((s=s.times(s)).d,t);return Iw=!0,e.s<0?new l(Sw).div(i):Yw(i,n)}}else if(a<0)throw Error(Ow+"NaN");return a=a<0&&1&e.d[Math.max(t,r)]?-1:1,s.s=1,Iw=!1,i=e.times(Xw(s,n+12)),Iw=!0,(i=Hw(i)).s=a,i},Bw.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return void 0===e?n=Zw(i,(r=Vw(i))<=a.toExpNeg||r>=a.toExpPos):(Fw(e,1,_w),void 0===t?t=a.rounding:Fw(t,0,8),n=Zw(i=Yw(new a(i),e,t),e<=(r=Vw(i))||r<=a.toExpNeg,e)),n},Bw.toSignificantDigits=Bw.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(Fw(e,1,_w),void 0===t?t=r.rounding:Fw(t,0,8)),Yw(new r(this),e,t)},Bw.toString=Bw.valueOf=Bw.val=Bw.toJSON=Bw[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Vw(e),r=e.constructor;return Zw(e,t<=r.toExpNeg||t>=r.toExpPos)};var zw=function(){function e(e,t){var r,n=0,i=e.length;for(e=e.slice();i--;)r=e[i]*t+n,e[i]=r%Dw|0,n=r/Dw|0;return n&&e.unshift(n),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*Dw+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,a,o){var s,l,c,u,d,h,f,p,g,m,y,v,w,b,E,A,x,C,S=n.constructor,_=n.s==i.s?1:-1,I=n.d,O=i.d;if(!n.s)return new S(n);if(!i.s)throw Error(Ow+"Division by zero");for(l=n.e-i.e,x=O.length,E=I.length,p=(f=new S(_)).d=[],c=0;O[c]==(I[c]||0);)++c;if(O[c]>(I[c]||0)&&--l,(v=null==a?a=S.precision:o?a+(Vw(n)-Vw(i))+1:a)<0)return new S(0);if(v=v/7+2|0,c=0,1==x)for(u=0,O=O[0],v++;(c<E||u)&&v--;c++)w=u*Dw+(I[c]||0),p[c]=w/O|0,u=w%O|0;else{for((u=Dw/(O[0]+1)|0)>1&&(O=e(O,u),I=e(I,u),x=O.length,E=I.length),b=x,m=(g=I.slice(0,x)).length;m<x;)g[m++]=0;(C=O.slice()).unshift(0),A=O[0],O[1]>=Dw/2&&++A;do{u=0,(s=t(O,g,x,m))<0?(y=g[0],x!=m&&(y=y*Dw+(g[1]||0)),(u=y/A|0)>1?(u>=Dw&&(u=Dw-1),1==(s=t(d=e(O,u),g,h=d.length,m=g.length))&&(u--,r(d,x<h?C:O,h))):(0==u&&(s=u=1),d=O.slice()),(h=d.length)<m&&d.unshift(0),r(g,d,m),-1==s&&(s=t(O,g,x,m=g.length))<1&&(u++,r(g,x<m?C:O,m)),m=g.length):0===s&&(u++,g=[0]),p[c++]=u,s&&g[0]?g[m++]=I[b]||0:(g=[I[b]],m=1)}while((b++<E||void 0!==g[0])&&v--)}return p[0]||p.shift(),f.e=l,Yw(f,o?a+Vw(f)+1:a)}}();function Hw(e,t){var r,n,i,a,o,s=0,l=0,c=e.constructor,u=c.precision;if(Vw(e)>16)throw Error(Pw+Vw(e));if(!e.s)return new c(Sw);for(Iw=!1,o=u,a=new c(.03125);e.abs().gte(.1);)e=e.times(a),l+=5;for(o+=Math.log(Mw(2,l))/Math.LN10*2+5|0,r=n=i=new c(Sw),c.precision=o;;){if(n=Yw(n.times(e),o),r=r.times(++s),Uw((a=i.plus(zw(n,r,o))).d).slice(0,o)===Uw(i.d).slice(0,o)){for(;l--;)i=Yw(i.times(i),o);return c.precision=u,null==t?(Iw=!0,Yw(i,u)):i}i=a}}function Vw(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function Ww(e,t,r){if(t>e.LN10.sd())throw Iw=!0,r&&(e.precision=r),Error(Ow+"LN10 precision limit exceeded");return Yw(new e(e.LN10),t)}function Gw(e){for(var t="";e--;)t+="0";return t}function Xw(e,t){var r,n,i,a,o,s,l,c,u,d=1,h=e,f=h.d,p=h.constructor,g=p.precision;if(h.s<1)throw Error(Ow+(h.s?"NaN":"-Infinity"));if(h.eq(Sw))return new p(0);if(null==t?(Iw=!1,c=g):c=t,h.eq(10))return null==t&&(Iw=!0),Ww(p,c);if(c+=10,p.precision=c,n=(r=Uw(f)).charAt(0),a=Vw(h),!(Math.abs(a)<15e14))return l=Ww(p,c+2,g).times(a+""),h=Xw(new p(n+"."+r.slice(1)),c-10).plus(l),p.precision=g,null==t?(Iw=!0,Yw(h,g)):h;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=Uw((h=h.times(e)).d)).charAt(0),d++;for(a=Vw(h),n>1?(h=new p("0."+r),a++):h=new p(n+"."+r.slice(1)),s=o=h=zw(h.minus(Sw),h.plus(Sw),c),u=Yw(h.times(h),c),i=3;;){if(o=Yw(o.times(u),c),Uw((l=s.plus(zw(o,new p(i),c))).d).slice(0,c)===Uw(s.d).slice(0,c))return s=s.times(2),0!==a&&(s=s.plus(Ww(p,c+2,g).times(a+""))),s=zw(s,new p(d),c),p.precision=g,null==t?(Iw=!0,Yw(s,g)):s;s=l,i+=2}}function Kw(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(n,i)){if(i-=n,r=r-n-1,e.e=Rw(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Iw&&(e.e>kw||e.e<-kw))throw Error(Pw+r)}else e.s=0,e.e=0,e.d=[0];return e}function Yw(e,t,r){var n,i,a,o,s,l,c,u,d=e.d;for(o=1,a=d[0];a>=10;a/=10)o++;if((n=t-o)<0)n+=7,i=t,c=d[u=0];else{if((u=Math.ceil((n+1)/7))>=(a=d.length))return e;for(c=a=d[u],o=1;a>=10;a/=10)o++;i=(n%=7)-7+o}if(void 0!==r&&(s=c/(a=Mw(10,o-i-1))%10|0,l=t<0||void 0!==d[u+1]||c%a,l=r<4?(s||l)&&(0==r||r==(e.s<0?3:2)):s>5||5==s&&(4==r||l||6==r&&(n>0?i>0?c/Mw(10,o-i):0:d[u-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return l?(a=Vw(e),d.length=1,t=t-a-1,d[0]=Mw(10,(7-t%7)%7),e.e=Rw(-t/7)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==n?(d.length=u,a=1,u--):(d.length=u+1,a=Mw(10,7-n),d[u]=i>0?(c/Mw(10,o-i)%Mw(10,i)|0)*a:0),l)for(;;){if(0==u){(d[0]+=a)==Dw&&(d[0]=1,++e.e);break}if(d[u]+=a,d[u]!=Dw)break;d[u--]=0,a=1}for(n=d.length;0===d[--n];)d.pop();if(Iw&&(e.e>kw||e.e<-kw))throw Error(Pw+Vw(e));return e}function qw(e,t){var r,n,i,a,o,s,l,c,u,d,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Iw?Yw(t,f):t;if(l=e.d,d=t.d,n=t.e,c=e.e,l=l.slice(),o=c-n){for((u=o<0)?(r=l,o=-o,s=d.length):(r=d,n=c,s=l.length),o>(i=Math.max(Math.ceil(f/7),s)+2)&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for((u=(i=l.length)<(s=d.length))&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}o=0}for(u&&(r=l,l=d,d=r,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(a=i;a&&0===l[--a];)l[a]=Dw-1;--l[a],l[i]+=Dw}l[i]-=d[i]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(t.d=l,t.e=n,Iw?Yw(t,f):t):new h(0)}function Zw(e,t,r){var n,i=Vw(e),a=Uw(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+Gw(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Gw(-i-1)+a,r&&(n=r-o)>0&&(a+=Gw(n))):i>=o?(a+=Gw(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+Gw(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=Gw(n))),e.s<0?"-"+a:a}function $w(e,t){if(e.length>t)return e.length=t,!0}function Qw(e){if(!e||"object"!=typeof e)throw Error(Ow+"Object expected");var t,r,n,i=["precision",1,_w,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(n=e[r=i[t]])){if(!(Rw(n)===n&&n>=i[t+1]&&n<=i[t+2]))throw Error(Tw+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(Tw+r+": "+n);this[r]=new this(n)}return this}var Jw=function e(t){var r,n,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(Tw+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):Kw(t,e.toString())}if("string"!=typeof e)throw Error(Tw+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!Nw.test(e))throw Error(Tw+e);Kw(t,e)}if(a.prototype=Bw,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=Qw,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return a.config(t),a}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});Sw=new Jw(1);const eb=Jw;var tb,rb=e=>e,nb={},ib=e=>e===nb,ab=e=>function t(){return 0===arguments.length||1===arguments.length&&ib(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},ob=(e,t)=>1===e?t:ab(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(e=>e!==nb).length;return a>=e?t(...n):ob(e-a,ab(function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var a=n.map(e=>ib(e)?r.shift():e);return t(...a,...r)}))}),sb=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},lb=ob((tb=(e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)).length,tb);function cb(e){return 0===e?1:Math.floor(new eb(e).abs().log(10).toNumber())+1}function ub(e,t,r){for(var n=new eb(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var db=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},hb=(e,t,r)=>{if(e.lte(0))return new eb(0);var n=cb(e.toNumber()),i=new eb(10).pow(n),a=e.div(i),o=1!==n?.05:.1,s=new eb(Math.ceil(a.div(o).toNumber())).add(r).mul(o).mul(i);return new eb(t?s.toNumber():Math.ceil(s.toNumber()))},fb=(e,t,r)=>{var n=new eb(1),i=new eb(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new eb(10).pow(cb(e)-1),i=new eb(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new eb(Math.floor(e)))}else 0===e?i=new eb(Math.floor((t-1)/2)):r||(i=new eb(Math.floor(e)));var o=Math.floor((t-1)/2);return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return rb;var n=t.reverse(),i=n[0],a=n.slice(1);return function(){return a.reduce((e,t)=>t(e),i(...arguments))}}(lb(e=>i.add(new eb(e-o).mul(n)).toNumber()),sb)(0,t)},pb=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new eb(0),tickMin:new eb(0),tickMax:new eb(0)};var a,o=hb(new eb(t).sub(e).div(r-1),n,i);a=e<=0&&t>=0?new eb(0):(a=new eb(e).add(t).div(2)).sub(new eb(a).mod(o));var s=Math.ceil(a.sub(e).div(o).toNumber()),l=Math.ceil(new eb(t).sub(a).div(o).toNumber()),c=s+l+1;return c>r?pb(e,t,r,n,i+1):(c<r&&(l=t>0?l+(r-c):l,s=t>0?s:s+(r-c)),{step:o,tickMin:a.sub(new eb(s).mul(o)),tickMax:a.add(new eb(l).mul(o))})},gb=e=>e.rootProps.stackOffset,mb=e=>e.rootProps.reverseStackOrder,yb=e=>e.options.chartName,vb=e=>e.rootProps.syncId,wb=e=>e.rootProps.syncMethod,bb=e=>e.options.eventEmitter,Eb={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ab=0,xb="auto",Cb=!0,Sb=!1,_b=!0,Ib=0,Ob="auto",Tb=!0,Pb=5,Rb=(e,t)=>{if(e&&t)return null!=e&&e.reversed?[t[1],t[0]]:t},Mb={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ab,includeHidden:!1,name:void 0,reversed:!1,scale:xb,tick:Cb,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},Nb={allowDataOverflow:Sb,allowDecimals:!1,allowDuplicatedCategory:_b,dataKey:void 0,domain:void 0,id:Ib,includeHidden:!1,name:void 0,reversed:!1,scale:Ob,tick:Tb,tickCount:Pb,ticks:void 0,type:"number",unit:void 0},Db={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:Ab,includeHidden:!1,name:void 0,reversed:!1,scale:xb,tick:Cb,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},jb={allowDataOverflow:Sb,allowDecimals:!1,allowDuplicatedCategory:_b,dataKey:void 0,domain:void 0,id:Ib,includeHidden:!1,name:void 0,reversed:!1,scale:Ob,tick:Tb,tickCount:Pb,ticks:void 0,type:"category",unit:void 0},kb=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?Db:Mb,Bb=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?jb:Nb,Lb=e=>e.polarOptions,Fb=Vi([ku,Bu,Ku],Cp),Ub=Vi([Lb,Fb],(e,t)=>{if(null!=e)return Pl(e.innerRadius,t,0)}),zb=Vi([Lb,Fb],(e,t)=>{if(null!=e)return Pl(e.outerRadius,t,.8*t)}),Hb=Vi([Lb],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]});Vi([kb,Hb],Rb);var Vb=Vi([Fb,Ub,zb],(e,t,r)=>{if(null!=e&&null!=t&&null!=r)return[t,r]});Vi([Bb,Vb],Rb);var Wb=Vi([_d,Lb,Ub,zb,ku,Bu],(e,t,r,n,i,a)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=r&&null!=n){var{cx:o,cy:s,startAngle:l,endAngle:c}=t;return{cx:Pl(o,i,i/2),cy:Pl(s,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),Gb=(e,t)=>t,Xb=(e,t,r)=>r;function Kb(e){return null==e?void 0:e.id}function Yb(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,o=new Map;return e.forEach(e=>{var t,r=null!==(t=e.data)&&void 0!==t?t:n;if(null!=r&&0!==r.length){var s=Kb(e);r.forEach((t,r)=>{var n,l=null==a||i?r:String(Au(t,a,null)),c=Au(t,e.dataKey,0);n=o.has(l)?o.get(l):{},Object.assign(n,{[s]:c}),o.set(l,n)})}}),Array.from(o.values())}function qb(e){return"stackId"in e&&null!=e.stackId&&null!=e.dataKey}var Zb=(e,t)=>e===t||null!=e&&null!=t&&(e[0]===t[0]&&e[1]===t[1]);function $b(e,t){return!(!Array.isArray(e)||!Array.isArray(t)||0!==e.length||0!==t.length)||e===t}var Qb=e=>{var t=_d(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},Jb=e=>e.tooltip.settings.axisId;function eE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function tE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eE(Object(r),!0).forEach(function(t){rE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function rE(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nE=[0,"auto"],iE={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},aE=(e,t)=>e.cartesianAxis.xAxis[t],oE=(e,t)=>{var r=aE(e,t);return null==r?iE:r},sE={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:nE,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},lE=(e,t)=>e.cartesianAxis.yAxis[t],cE=(e,t)=>{var r=lE(e,t);return null==r?sE:r},uE={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},dE=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return null==r?uE:r},hE=(e,t,r)=>{switch(t){case"xAxis":return oE(e,r);case"yAxis":return cE(e,r);case"zAxis":return dE(e,r);case"angleAxis":return kb(e,r);case"radiusAxis":return Bb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},fE=(e,t,r)=>{switch(t){case"xAxis":return oE(e,r);case"yAxis":return cE(e,r);case"angleAxis":return kb(e,r);case"radiusAxis":return Bb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},pE=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function gE(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var mE=e=>e.graphicalItems.cartesianItems,yE=Vi([Gb,Xb],gE),vE=(e,t,r)=>e.filter(r).filter(e=>!0===(null==t?void 0:t.includeHidden)||!e.hide),wE=Vi([mE,hE,yE],vE,{memoizeOptions:{resultEqualityCheck:$b}}),bE=Vi([wE],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(qb)),EE=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),AE=Vi([wE],EE),xE=e=>e.map(e=>e.data).filter(Boolean).flat(1),CE=Vi([wE],xE,{memoizeOptions:{resultEqualityCheck:$b}}),SE=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},_E=Vi([CE,Ew],SE),IE=(e,t,r)=>null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:Au(e,t.dataKey)})):r.length>0?r.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:Au(e,t)}))):e.map(e=>({value:e})),OE=Vi([_E,hE,wE],IE);function TE(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function PE(e){if(Il(e)||e instanceof Date){var t=Number(e);if(yu(t))return t}}function RE(e){if(Array.isArray(e)){var t=[PE(e[0]),PE(e[1])];return Aw(t)?t:void 0}var r=PE(e);if(null!=r)return[r,r]}function ME(e){return e.map(PE).filter(kl)}var NE=e=>{var t=Qb(e),r=Jb(e);return fE(e,t,r)},DE=Vi([NE],e=>null==e?void 0:e.dataKey),jE=Vi([bE,Ew,NE],Yb),kE=(e,t,r,n)=>{var i=t.reduce((e,t)=>{if(null==t.stackId)return e;var r=e[t.stackId];return null==r&&(r=[]),r.push(t),e[t.stackId]=r,e},{});return Object.fromEntries(Object.entries(i).map(t=>{var[i,a]=t,o=n?[...a].reverse():a,s=o.map(Kb);return[i,{stackedData:Ou(e,s,r),graphicalItems:o}]}))},BE=Vi([jE,bE,gb,mb],kE),LE=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(null==n&&"zAxis"!==r){var o=Pu(e,i,a);if(null==o||0!==o[0]||0!==o[1])return o}},FE=Vi([hE],e=>e.allowDataOverflow),UE=e=>{var t;if(null==e||!("domain"in e))return nE;if(null!=e.domain)return e.domain;if("ticks"in e&&null!=e.ticks){if("number"===e.type){var r=ME(e.ticks);return[Math.min(...r),Math.max(...r)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null==e?void 0:e.domain)&&void 0!==t?t:nE},zE=Vi([hE],UE),HE=Vi([zE,FE],Cw),VE=Vi([BE,ww,Gb,HE],LE,{memoizeOptions:{resultEqualityCheck:Zb}}),WE=e=>e.errorBars,GE=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(Boolean);if(0!==n.length){var i=n.flat();return[Math.min(...i),Math.max(...i)]}},XE=(e,t,r,n,i)=>{var a,o;if(r.length>0&&e.forEach(e=>{r.forEach(r=>{var s,l,c=null===(s=n[r.id])||void 0===s?void 0:s.filter(e=>TE(i,e)),u=Au(e,null!==(l=t.dataKey)&&void 0!==l?l:r.dataKey),d=function(e,t,r){return!r||"number"!=typeof t||Cl(t)?[]:r.length?ME(r.flatMap(r=>{var n,i,a=Au(e,r.dataKey);if(Array.isArray(a)?[n,i]=a:n=i=a,yu(n)&&yu(i))return[t-n,t+i]})):[]}(e,u,c);if(d.length>=2){var h=Math.min(...d),f=Math.max(...d);(null==a||h<a)&&(a=h),(null==o||f>o)&&(o=f)}var p=RE(u);null!=p&&(a=null==a?p[0]:Math.min(a,p[0]),o=null==o?p[1]:Math.max(o,p[1]))})}),null!=(null==t?void 0:t.dataKey)&&e.forEach(e=>{var r=RE(Au(e,t.dataKey));null!=r&&(a=null==a?r[0]:Math.min(a,r[0]),o=null==o?r[1]:Math.max(o,r[1]))}),yu(a)&&yu(o))return[a,o]},KE=Vi([_E,hE,AE,WE,Gb],XE,{memoizeOptions:{resultEqualityCheck:Zb}});function YE(e){var{value:t}=e;if(Il(t)||t instanceof Date)return t}var qE=e=>e.referenceElements.dots,ZE=(e,t,r)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===r:e.yAxisId===r),$E=Vi([qE,Gb,Xb],ZE),QE=e=>e.referenceElements.areas,JE=Vi([QE,Gb,Xb],ZE),eA=e=>e.referenceElements.lines,tA=Vi([eA,Gb,Xb],ZE),rA=(e,t)=>{if(null!=e){var r=ME(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]}},nA=Vi($E,Gb,rA),iA=(e,t)=>{if(null!=e){var r=ME(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==r.length)return[Math.min(...r),Math.max(...r)]}},aA=Vi([JE,Gb],iA);var oA=(e,t)=>{if(null!=e){var r=e.flatMap(e=>"xAxis"===t?function(e){var t;if(null!=e.x)return ME([e.x]);var r=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.x);return null==r||0===r.length?[]:ME(r)}(e):function(e){var t;if(null!=e.y)return ME([e.y]);var r=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.y);return null==r||0===r.length?[]:ME(r)}(e));if(0!==r.length)return[Math.min(...r),Math.max(...r)]}},sA=Vi([tA,Gb],oA),lA=Vi(nA,sA,aA,(e,t,r)=>GE(e,r,t)),cA=(e,t,r,n,i,a,o,s)=>null!=r?r:function(e,t,r){if(r||null!=t){if("function"==typeof e&&null!=t)try{var n=e(t,r);if(Aw(n))return xw(n,t,r)}catch(f){}if(Array.isArray(e)&&2===e.length){var i,a,[o,s]=e;if("auto"===o)null!=t&&(i=Math.min(...t));else if(_l(o))i=o;else if("function"==typeof o)try{null!=t&&(i=o(null==t?void 0:t[0]))}catch(p){}else if("string"==typeof o&&Ru.test(o)){var l=Ru.exec(o);if(null==l||null==l[1]||null==t)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=null==t?void 0:t[0];if("auto"===s)null!=t&&(a=Math.max(...t));else if(_l(s))a=s;else if("function"==typeof s)try{null!=t&&(a=s(null==t?void 0:t[1]))}catch(g){}else if("string"==typeof s&&Mu.test(s)){var u=Mu.exec(s);if(null==u||null==u[1]||null==t)a=void 0;else{var d=+u[1];a=t[1]+d}}else a=null==t?void 0:t[1];var h=[i,a];if(Aw(h))return null==t?h:xw(h,t,r)}}}(t,"vertical"===o&&"xAxis"===s||"horizontal"===o&&"yAxis"===s?GE(n,a,i):GE(a,i),e.allowDataOverflow),uA=Vi([hE,zE,HE,VE,KE,lA,_d,Gb],cA,{memoizeOptions:{resultEqualityCheck:Zb}}),dA=[0,1],hA=(e,t,r,n,i,a,o)=>{if(null!=e&&null!=r&&0!==r.length||void 0!==o){var s,{dataKey:l,type:c}=e,u=xu(t,a);return u&&null==l?Fp(0,null!==(s=null==r?void 0:r.length)&&void 0!==s?s:0):"category"===c?((e,t,r)=>{var n=e.map(YE).filter(e=>null!=e);return r&&(null==t.dataKey||t.allowDuplicatedCategory&&Rl(n))?Fp(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))})(n,e,u):"expand"===i?dA:o}},fA=Vi([hE,_d,_E,OE,gb,Gb,uA],hA),pA=(e,t,r,n,i)=>{if(null!=e){var{scale:a,type:o}=e;if("auto"===a)return"radial"===t&&"radiusAxis"===i?"band":"radial"===t&&"angleAxis"===i?"linear":"category"===o&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":"category"===o?"band":"linear";if("string"==typeof a){var s="scale".concat(jl(a));return s in vw?s:"point"}}},gA=Vi([hE,_d,pE,yb,Gb],pA);function mA(e,t,r,n){if(null!=r&&null!=n){if("function"==typeof e.scale)return e.scale.copy().domain(r).range(n);var i=function(e){if(null!=e){if(e in vw)return vw[e]();var t="scale".concat(jl(e));return t in vw?vw[t]():void 0}}(t);if(null!=i){var a=i.domain(r).range(n);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-_u,a=Math.max(n[0],n[1])+_u,o=e(t[0]),s=e(t[r-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[r-1]])}})(a),a}}}var yA=(e,t,r)=>{var n=UE(t);if("auto"===r||"linear"===r)return null!=t&&t.tickCount&&Array.isArray(n)&&("auto"===n[0]||"auto"===n[1])&&Aw(e)?function(e){var[t,r]=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(n,2),[o,s]=db([t,r]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...sb(0,n-1).map(()=>1/0)]:[...sb(0,n-1).map(()=>-1/0),s];return t>r?l.reverse():l}if(o===s)return fb(o,n,i);var{step:c,tickMin:u,tickMax:d}=pb(o,s,a,i,0),h=ub(u,d.add(new eb(.1).mul(c)),c);return t>r?h.reverse():h}(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&Aw(e)?function(e,t){var[r,n]=e,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[a,o]=db([r,n]);if(a===-1/0||o===1/0)return[r,n];if(a===o)return[a];var s=Math.max(t,2),l=hb(new eb(o).sub(a).div(s-1),i,0),c=[...ub(new eb(a),new eb(o),l),o];return!1===i&&(c=c.map(e=>Math.round(e))),r>n?c.reverse():c}(e,t.tickCount,t.allowDecimals):void 0},vA=Vi([fA,fE,gA],yA),wA=(e,t,r,n)=>{if("angleAxis"!==n&&"number"===(null==e?void 0:e.type)&&Aw(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],o=t[1],s=r[r.length-1];return[Math.min(i,a),Math.max(o,s)]}return t},bA=Vi([hE,fA,vA,Gb],wA),EA=Vi(OE,hE,(e,t)=>{if(t&&"number"===t.type){var r=1/0,n=Array.from(ME(e.map(e=>e.value))).sort((e,t)=>e-t),i=n[0],a=n[n.length-1];if(null==i||null==a)return 1/0;var o=a-i;if(0===o)return 1/0;for(var s=0;s<n.length-1;s++){var l=n[s],c=n[s+1];if(null!=l&&null!=c){var u=c-l;r=Math.min(r,u)}}return r/o}}),AA=Vi(EA,_d,e=>e.rootProps.barCategoryGap,Ku,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!yu(e))return 0;var a="vertical"===t?n.height:n.width;if("gap"===i)return e*a/2;if("no-gap"===i){var o=Pl(r,e*a),s=e*a/2;return s-o-(s-o)/a*o}return 0}),xA=Vi(oE,(e,t,r)=>{var n=oE(e,t);return null==n||"string"!=typeof n.padding?0:AA(e,"xAxis",t,r,n.padding)},(e,t)=>{var r,n;if(null==e)return{left:0,right:0};var{padding:i}=e;return"string"==typeof i?{left:t,right:t}:{left:(null!==(r=i.left)&&void 0!==r?r:0)+t,right:(null!==(n=i.right)&&void 0!==n?n:0)+t}}),CA=Vi(cE,(e,t,r)=>{var n=cE(e,t);return null==n||"string"!=typeof n.padding?0:AA(e,"yAxis",t,r,n.padding)},(e,t)=>{var r,n;if(null==e)return{top:0,bottom:0};var{padding:i}=e;return"string"==typeof i?{top:t,bottom:t}:{top:(null!==(r=i.top)&&void 0!==r?r:0)+t,bottom:(null!==(n=i.bottom)&&void 0!==n?n:0)+t}}),SA=Vi([Ku,xA,Ju,Qu,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),_A=Vi([Ku,_d,CA,Ju,Qu,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:o}=i;return a?[n.height-o.bottom,o.top]:"horizontal"===t?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),IA=(e,t,r,n)=>{var i;switch(t){case"xAxis":return SA(e,r,n);case"yAxis":return _A(e,r,n);case"zAxis":return null===(i=dE(e,r))||void 0===i?void 0:i.range;case"angleAxis":return Hb(e);case"radiusAxis":return Vb(e,r);default:return}},OA=Vi([hE,IA],Rb),TA=Vi([hE,gA,bA,OA],mA);function PA(e,t){return e.id<t.id?-1:e.id>t.id?1:0}Vi([wE,WE,Gb],(e,t,r)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>TE(r,e)));var RA=(e,t)=>t,MA=(e,t,r)=>r,NA=Vi(Uu,RA,MA,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(PA)),DA=Vi(zu,RA,MA,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(PA)),jA=(e,t)=>({width:e.width,height:t.height}),kA=Vi(Ku,oE,jA),BA=Vi(Bu,Ku,NA,RA,MA,(e,t,r,n,i)=>{var a,o={};return r.forEach(r=>{var s=jA(t,r);null==a&&(a=((e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}})(t,n,e));var l="top"===n&&!i||"bottom"===n&&i;o[r.id]=a-Number(l)*s.height,a+=(l?-1:1)*s.height}),o}),LA=Vi(ku,Ku,DA,RA,MA,(e,t,r,n,i)=>{var a,o={};return r.forEach(r=>{var s=((e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height}))(t,r);null==a&&(a=((e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}})(t,n,e));var l="left"===n&&!i||"right"===n&&i;o[r.id]=a-Number(l)*s.width,a+=(l?-1:1)*s.width}),o}),FA=Vi([Ku,oE,(e,t)=>{var r=oE(e,t);if(null!=r)return BA(e,r.orientation,r.mirror)},(e,t)=>t],(e,t,r,n)=>{if(null!=t){var i=null==r?void 0:r[n];return null==i?{x:e.left,y:0}:{x:e.left,y:i}}}),UA=Vi([Ku,cE,(e,t)=>{var r=cE(e,t);if(null!=r)return LA(e,r.orientation,r.mirror)},(e,t)=>t],(e,t,r,n)=>{if(null!=t){var i=null==r?void 0:r[n];return null==i?{x:0,y:e.top}:{x:i,y:e.top}}}),zA=Vi(Ku,cE,(e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height})),HA=(e,t,r,n)=>{if(null!=r){var{allowDuplicatedCategory:i,type:a,dataKey:o}=r,s=xu(e,n),l=t.map(e=>e.value);return o&&s&&"category"===a&&i&&Rl(l)?l:void 0}},VA=Vi([_d,OE,hE,Gb],HA),WA=(e,t,r,n)=>{if(null!=r&&null!=r.dataKey){var{type:i,scale:a}=r;return!xu(e,n)||"number"!==i&&"auto"===a?void 0:t.map(e=>e.value)}},GA=Vi([_d,OE,fE,Gb],WA),XA=Vi([_d,(e,t,r)=>{switch(t){case"xAxis":return oE(e,r);case"yAxis":return cE(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},gA,TA,VA,GA,IA,vA,Gb],(e,t,r,n,i,a,o,s,l)=>{if(null!=t){var c=xu(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:s,range:o,realScaleType:r,scale:n}}}),KA=Vi([_d,fE,gA,TA,vA,IA,VA,GA,Gb],(e,t,r,n,i,a,o,s,l)=>{if(null!=t&&null!=n){var c=xu(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===r&&"function"==typeof n.bandwidth?n.bandwidth()/2:2,p="category"===u&&n.bandwidth?n.bandwidth()/f:0;p="angleAxis"===l&&null!=a&&a.length>=2?2*xl(a[0]-a[1])*p:p;var g=d||i;return g?g.map((e,t)=>{var r=o?o.indexOf(e):e;return{index:t,coordinate:n(r)+p,value:e,offset:p}}).filter(e=>yu(e.coordinate)):c&&s?s.map((e,t)=>({coordinate:n(e)+p,value:e,index:t,offset:p})).filter(e=>yu(e.coordinate)):n.ticks?n.ticks(h).map(e=>({coordinate:n(e)+p,value:e,offset:p})):n.domain().map((e,t)=>({coordinate:n(e)+p,value:o?o[e]:e,index:t,offset:p}))}}),YA=Vi([_d,fE,TA,IA,VA,GA,Gb],(e,t,r,n,i,a,o)=>{if(null!=t&&null!=r&&null!=n&&n[0]!==n[1]){var s=xu(e,o),{tickCount:l}=t,c=0;return c="angleAxis"===o&&(null==n?void 0:n.length)>=2?2*xl(n[0]-n[1])*c:c,s&&a?a.map((e,t)=>({coordinate:r(e)+c,value:e,index:t,offset:c})):r.ticks?r.ticks(l).map(e=>({coordinate:r(e)+c,value:e,offset:c})):r.domain().map((e,t)=>({coordinate:r(e)+c,value:i?i[e]:e,index:t,offset:c}))}}),qA=Vi(hE,TA,(e,t)=>{if(null!=e&&null!=t)return tE(tE({},e),{},{scale:t})}),ZA=Vi([hE,gA,fA,OA],mA);Vi((e,t,r)=>dE(e,r),ZA,(e,t)=>{if(null!=e&&null!=t)return tE(tE({},e),{},{scale:t})});var $A=Vi([_d,Uu,zu],(e,t,r)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),QA=e=>e.options.defaultTooltipEventType,JA=e=>e.options.validateTooltipEventTypes;function ex(e,t,r){if(null==e)return t;var n=e?"axis":"item";return null==r?t:r.includes(n)?n:t}function tx(e,t){return ex(t,QA(e),JA(e))}var rx=(e,t)=>{var r,n=Number(t);if(!Cl(n)&&null!=t)return n>=0?null==e||null===(r=e[n])||void 0===r?void 0:r.value:void 0},nx={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},ix=wa({name:"tooltip",initialState:{itemInteraction:{click:nx,hover:nx},axisInteraction:{click:nx,hover:nx},keyboardInteraction:nx,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:ea()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Ni(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:ea()},removeTooltipEntrySettings:{reducer(e,t){var r=Ni(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:ea()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:ax,replaceTooltipEntrySettings:ox,removeTooltipEntrySettings:sx,setTooltipSettingsState:lx,setActiveMouseOverItemIndex:cx,mouseLeaveItem:ux,mouseLeaveChart:dx,setActiveClickItemIndex:hx,setMouseOverAxisIndex:fx,setMouseClickAxisIndex:px,setSyncInteraction:gx,setKeyboardInteraction:mx}=ix.actions,yx=ix.reducer;function vx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vx(Object(r),!0).forEach(function(t){bx(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vx(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bx(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ex=(e,t,r,n)=>{if(null==t)return nx;var i=function(e,t,r){return"axis"===t?"click"===r?e.axisInteraction.click:e.axisInteraction.hover:"click"===r?e.itemInteraction.click:e.itemInteraction.hover}(e,t,r);if(null==i)return nx;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var a=!0===e.settings.active;if(null!=i.index){if(a)return wx(wx({},i),{},{active:!0})}else if(null!=n)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return wx(wx({},nx),{},{coordinate:i.coordinate})};function Ax(e,t){var r=function(e){if("number"==typeof e)return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}(e),n=t[0],i=t[1];if(void 0===r)return!1;var a=Math.min(n,i),o=Math.max(n,i);return r>=a&&r<=o}var xx=(e,t,r,n)=>{var i=null==e?void 0:e.index;if(null==i)return null;var a=Number(i);if(!yu(a))return i;var o=1/0;t.length>0&&(o=t.length-1);var s=Math.max(0,Math.min(a,o)),l=t[s];return null==l||function(e,t,r){if(null==r||null==t)return!0;var n=Au(e,t);return null==n||!Aw(r)||Ax(n,r)}(l,r,n)?String(s):null},Cx=(e,t,r,n,i,a,o,s)=>{if(null!=a&&null!=s){var l=o[0],c=null==l?void 0:s(l.positions,a);if(null!=c)return c;var u=null==i?void 0:i[Number(a)];if(u)return"horizontal"===r?{x:u.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:u.coordinate}}},Sx=(e,t,r,n)=>{if("axis"===t)return e.tooltipItemPayloads;if(0===e.tooltipItemPayloads.length)return[];var i;if(null==(i="hover"===r?e.itemInteraction.hover.graphicalItemId:e.itemInteraction.click.graphicalItemId)&&null!=n){var a=e.tooltipItemPayloads[0];return null!=a?[a]:[]}return e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.graphicalItemId)===i})},_x=e=>e.options.tooltipPayloadSearcher,Ix=e=>e.tooltip;function Ox(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Tx(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ox(Object(r),!0).forEach(function(t){Px(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ox(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Px(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rx=(e,t,r,n,i,a,o)=>{if(null!=t&&null!=a){var{chartData:s,computedData:l,dataStartIndex:c,dataEndIndex:u}=r;return e.reduce((e,r)=>{var d,h,f,{dataDefinedOnItem:p,settings:g}=r,m=function(e,t){return null!=e?e:t}(p,s),y=Array.isArray(m)?mu(m,c,u):m,v=null!==(d=null==g?void 0:g.dataKey)&&void 0!==d?d:n,w=null==g?void 0:g.nameKey;(h=n&&Array.isArray(y)&&!Array.isArray(y[0])&&"axis"===o?Nl(y,n,i):a(y,t,l,w),Array.isArray(h))?h.forEach(t=>{var r=Tx(Tx({},g),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(Du({tooltipEntrySettings:r,dataKey:t.dataKey,payload:t.payload,value:Au(t.payload,t.dataKey),name:t.name}))}):e.push(Du({tooltipEntrySettings:g,dataKey:v,payload:h,value:Au(h,v),name:null!==(f=Au(h,w))&&void 0!==f?f:null==g?void 0:g.name}));return e},[])}},Mx=Vi([NE,_d,pE,yb,Qb],pA),Nx=Vi([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Dx=Vi([Qb,Jb],gE),jx=Vi([Nx,NE,Dx],vE,{memoizeOptions:{resultEqualityCheck:$b}}),kx=Vi([jx],e=>e.filter(qb)),Bx=Vi([jx],xE,{memoizeOptions:{resultEqualityCheck:$b}}),Lx=Vi([Bx,ww],SE),Fx=Vi([kx,ww,NE],Yb),Ux=Vi([Lx,NE,jx],IE),zx=Vi([NE],UE),Hx=Vi([NE],e=>e.allowDataOverflow),Vx=Vi([zx,Hx],Cw),Wx=Vi([jx],e=>e.filter(qb)),Gx=Vi([Fx,Wx,gb,mb],kE),Xx=Vi([Gx,ww,Qb,Vx],LE),Kx=Vi([jx],EE),Yx=Vi([Lx,NE,Kx,WE,Qb],XE,{memoizeOptions:{resultEqualityCheck:Zb}}),qx=Vi([qE,Qb,Jb],ZE),Zx=Vi([qx,Qb],rA),$x=Vi([QE,Qb,Jb],ZE),Qx=Vi([$x,Qb],iA),Jx=Vi([eA,Qb,Jb],ZE),eC=Vi([Jx,Qb],oA),tC=Vi([Zx,eC,Qx],GE),rC=Vi([NE,zx,Vx,Xx,Yx,tC,_d,Qb],cA),nC=Vi([NE,_d,Lx,Ux,gb,Qb,rC],hA),iC=Vi([nC,NE,Mx],yA),aC=Vi([NE,nC,iC,Qb],wA),oC=e=>{var t=Qb(e),r=Jb(e);return IA(e,t,r,!1)},sC=Vi([NE,oC],Rb),lC=Vi([NE,Mx,aC,sC],mA),cC=Vi([_d,Ux,NE,Qb],HA),uC=Vi([_d,Ux,NE,Qb],WA),dC=Vi([_d,NE,Mx,lC,oC,cC,uC,Qb],(e,t,r,n,i,a,o,s)=>{if(t){var{type:l}=t,c=xu(e,s);if(n){var u="scaleBand"===r&&n.bandwidth?n.bandwidth()/2:2,d="category"===l&&n.bandwidth?n.bandwidth()/u:0;return d="angleAxis"===s&&null!=i&&(null==i?void 0:i.length)>=2?2*xl(i[0]-i[1])*d:d,c&&o?o.map((e,t)=>({coordinate:n(e)+d,value:e,index:t,offset:d})):n.domain().map((e,t)=>({coordinate:n(e)+d,value:a?a[e]:e,index:t,offset:d}))}}}),hC=Vi([QA,JA,e=>e.tooltip.settings],(e,t,r)=>ex(r.shared,e,t)),fC=e=>e.tooltip.settings.trigger,pC=e=>e.tooltip.settings.defaultIndex,gC=Vi([Ix,hC,fC,pC],Ex),mC=Vi([gC,Lx,DE,nC],xx),yC=Vi([dC,mC],rx),vC=Vi([gC],e=>{if(e)return e.dataKey}),wC=Vi([gC],e=>{if(e)return e.graphicalItemId}),bC=Vi([Ix,hC,fC,pC],Sx),EC=Vi([ku,Bu,_d,Ku,dC,pC,bC,_x],Cx),AC=Vi([gC,EC],(e,t)=>null!=e&&e.coordinate?e.coordinate:t),xC=Vi([gC],e=>{var t;return null!==(t=null==e?void 0:e.active)&&void 0!==t&&t}),CC=Vi([bC,mC,ww,DE,yC,_x,hC],Rx),SC=Vi([CC],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}});function _C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function IC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_C(Object(r),!0).forEach(function(t){OC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_C(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function OC(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var TC=()=>{var e=Qc(NE),t=Qc(dC),r=Qc(lC);return Nu(e&&r?IC(IC({},e),{},{scale:r}):void 0,t)};function PC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function RC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PC(Object(r),!0).forEach(function(t){MC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function MC(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var NC=(e,t,r,n,i)=>{var a,o=null!==(a=null==t?void 0:t.length)&&void 0!==a?a:0;if(o<=1||null==e)return 0;if("angleAxis"===n&&null!=i&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var s=0;s<o;s++){var l,c,u,d,h,f=s>0?null===(l=r[s-1])||void 0===l?void 0:l.coordinate:null===(c=r[o-1])||void 0===c?void 0:c.coordinate,p=null===(u=r[s])||void 0===u?void 0:u.coordinate,g=s>=o-1?null===(d=r[0])||void 0===d?void 0:d.coordinate:null===(h=r[s+1])||void 0===h?void 0:h.coordinate,m=void 0;if(null!=f&&null!=p&&null!=g)if(xl(p-f)!==xl(g-p)){var y=[];if(xl(g-p)===xl(i[1]-i[0])){m=g;var v=p+i[1]-i[0];y[0]=Math.min(v,(v+f)/2),y[1]=Math.max(v,(v+f)/2)}else{m=f;var w=g+i[1]-i[0];y[0]=Math.min(p,(w+p)/2),y[1]=Math.max(p,(w+p)/2)}var b,E=[Math.min(p,(m+p)/2),Math.max(p,(m+p)/2)];if(e>E[0]&&e<=E[1]||e>=y[0]&&e<=y[1])return null===(b=r[s])||void 0===b?void 0:b.index}else{var A,x=Math.min(f,g),C=Math.max(f,g);if(e>(x+p)/2&&e<=(C+p)/2)return null===(A=r[s])||void 0===A?void 0:A.index}}else if(t)for(var S=0;S<o;S++){var _=t[S];if(null!=_){var I=t[S+1],O=t[S-1];if(0===S&&null!=I&&e<=(_.coordinate+I.coordinate)/2)return _.index;if(S===o-1&&null!=O&&e>(_.coordinate+O.coordinate)/2)return _.index;if(S>0&&S<o-1&&null!=O&&null!=I&&e>(_.coordinate+O.coordinate)/2&&e<=(_.coordinate+I.coordinate)/2)return _.index}}return-1},DC=(e,t)=>t,jC=(e,t,r)=>r,kC=(e,t,r,n)=>n,BC=Vi(dC,e=>ou(e,e=>e.coordinate)),LC=Vi([Ix,DC,jC,kC],Ex),FC=Vi([LC,Lx,DE,nC],xx),UC=Vi([Ix,DC,jC,kC],Sx),zC=Vi([ku,Bu,_d,Ku,dC,kC,UC,_x],Cx),HC=Vi([LC,zC],(e,t)=>{var r;return null!==(r=e.coordinate)&&void 0!==r?r:t}),VC=Vi([dC,FC],rx),WC=Vi([UC,FC,ww,DE,VC,_x,DC],Rx),GC=Vi([LC,FC],(e,t)=>({isActive:e.active&&null!=t,activeIndex:t})),XC=(e,t,r,n,i,a,o)=>{if(e&&n&&i&&a&&r){var s=Ip(e,r);if(s){var l=((e,t)=>"centric"===t?e.angle:e.radius)(s,t),c=NC(l,o,a,n,i),u=((e,t,r,n)=>{var i=t.find(e=>e&&e.index===r);if(i){if("centric"===e){var a=i.coordinate,{radius:o}=n;return RC(RC(RC({},n),xp(n.cx,n.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,{angle:l}=n;return RC(RC(RC({},n),xp(n.cx,n.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}})(t,a,c,s);return{activeIndex:String(c),activeCoordinate:u}}}},KC=Vi(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(null!=t){var n=e[t];if(null!=n)return r?n.panoramaElement:n.element}}),YC=Vi(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(e=>parseInt(e,10)).concat(Object.values(Eb));return Array.from(new Set(t)).sort((e,t)=>e-t)},{memoizeOptions:{resultEqualityCheck:function(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}}});function qC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ZC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qC(Object(r),!0).forEach(function(t){$C(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $C(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var QC={zIndexMap:Object.values(Eb).reduce((e,t)=>ZC(ZC({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),{})},JC=new Set(Object.values(Eb));var eS=wa({name:"zIndex",initialState:QC,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:ea()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!function(e){return JC.has(e)}(r)&&delete e.zIndexMap[r])},prepare:ea()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:ea()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:ea()}}}),{registerZIndexPortal:tS,unregisterZIndexPortal:rS,registerZIndexPortalElement:nS,unregisterZIndexPortalElement:iS}=eS.actions,aS=eS.reducer;function oS(e){var{zIndex:t,children:r}=e,n=void 0!==Id()&&void 0!==t&&0!==t,i=$u(),a=Yc();_.useLayoutEffect(()=>n?(a(tS({zIndex:t})),()=>{a(rS({zIndex:t}))}):Bl,[a,t,n]);var o=Qc(e=>KC(e,t,i));return n?o?C.createPortal(r,o):null:r}function sS(){return sS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sS.apply(null,arguments)}function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function cS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(t){uS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function uS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dS(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return _.isValidElement(t)?_.cloneElement(t,n):_.createElement(r,n)}function hS(e){var t,r,n,i,{coordinate:a,payload:o,index:s,offset:l,tooltipAxisBandSize:c,layout:u,cursor:d,tooltipEventType:f,chartName:p}=e,g=a,m=o,y=s;if(!d||!g||"ScatterChart"!==p&&"axis"!==f)return null;if("ScatterChart"===p)r=g,n=ff,i=Eb.cursorLine;else if("BarChart"===p)r=function(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-i,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(u,g,l,c),n=up,i=Eb.cursorRectangle;else if("radial"===u&&Xl(g)){var{cx:v,cy:w,radius:b,startAngle:E,endAngle:A}=Op(g);r={cx:v,cy:w,startAngle:E,endAngle:A,innerRadius:b,outerRadius:b},n=Dp,i=Eb.cursorLine}else r={points:jp(u,g,l)},n=sf,i=Eb.cursorLine;var x="object"==typeof d&&"className"in d?d.className:void 0,C=cS(cS(cS(cS({stroke:"#ccc",pointerEvents:"none"},l),r),es(d)),{},{payload:m,payloadIndex:y,className:h("recharts-tooltip-cursor",x)});return _.createElement(oS,{zIndex:null!==(t=e.zIndex)&&void 0!==t?t:i},_.createElement(dS,{cursor:d,cursorComp:n,cursorProps:C}))}function fS(e){var t=TC(),r=xd(),n=Id(),i=Qc(yb);return null==t||null==r||null==n||null==i?null:_.createElement(hS,sS({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var pS=_.createContext(null),gS=new f,mS="recharts.syncEvent.tooltip",yS="recharts.syncEvent.brush";function vS(e,t){if(t){var r=Number.parseInt(t,10);if(!Cl(r))return null==e?void 0:e[r]}}var wS=wa({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),bS=wS.reducer,{createEventEmitter:ES}=wS.actions;function AS(e){return e.tooltip.syncInteraction}var xS=wa({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;null!=r&&(e.dataStartIndex=r),null!=n&&(e.dataEndIndex=n)}}}),{setChartData:CS,setDataStartEndIndexes:SS,setComputedData:_S}=xS.actions,IS=xS.reducer,OS=["x","y"];function TS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function PS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?TS(Object(r),!0).forEach(function(t){RS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function RS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MS(){var e=Qc(vb),t=Qc(bb),r=Yc(),n=Qc(wb),i=Qc(dC),a=Id(),o=Ed(),s=Qc(e=>e.rootProps.className);_.useEffect(()=>{if(null==e)return Bl;var s=(s,l,c)=>{var u;if(t!==c&&e===s)if("index"!==n){if(null!=i){var d;if("function"==typeof n){var h={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},f=n(i,h);d=i[f]}else"value"===n&&(d=i.find(e=>String(e.value)===l.payload.label));var{coordinate:p}=l.payload;if(null!=d&&!1!==l.payload.active&&null!=p&&null!=o){var{x:g,y:m}=p,y=Math.min(g,o.x+o.width),v=Math.min(m,o.y+o.height),w={x:"horizontal"===a?d.coordinate:y,y:"horizontal"===a?v:d.coordinate},b=gx({active:l.payload.active,coordinate:w,dataKey:l.payload.dataKey,index:String(d.index),label:l.payload.label,sourceViewBox:l.payload.sourceViewBox,graphicalItemId:l.payload.graphicalItemId});r(b)}else r(gx({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}))}}else if(o&&null!=l&&null!==(u=l.payload)&&void 0!==u&&u.coordinate&&l.payload.sourceViewBox){var E=l.payload.coordinate,{x:A,y:x}=E,C=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(E,OS),{x:S,y:_,width:I,height:O}=l.payload.sourceViewBox,T=PS(PS({},C),{},{x:o.x+(I?(A-S)/I:0)*o.width,y:o.y+(O?(x-_)/O:0)*o.height});r(PS(PS({},l),{},{payload:PS(PS({},l.payload),{},{coordinate:T})}))}else r(l)};return gS.on(mS,s),()=>{gS.off(mS,s)}},[s,r,t,e,n,i,a,o])}function NS(){var e=Yc();_.useEffect(()=>{e(ES())},[e]),MS(),function(){var e=Qc(vb),t=Qc(bb),r=Yc();_.useEffect(()=>{if(null==e)return Bl;var n=(n,i,a)=>{t!==a&&e===n&&r(SS(i))};return gS.on(yS,n),()=>{gS.off(yS,n)}},[r,t,e])}()}function DS(e,t,r,n,i,a){var o=Qc(r=>((e,t,r)=>{if(null!=t){var n=Ix(e);return"axis"===t?"hover"===r?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:"hover"===r?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}})(r,e,t)),s=Qc(bb),l=Qc(vb),c=Qc(wb),u=Qc(AS),d=null==u?void 0:u.active,h=Ed();_.useEffect(()=>{if(!d&&null!=l&&null!=s){var e=gx({active:a,coordinate:r,dataKey:o,index:i,label:"number"==typeof n?String(n):n,sourceViewBox:h,graphicalItemId:void 0});gS.emit(mS,l,e,s)}},[d,r,o,i,n,s,l,c,a,h])}function jS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function kS(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jS(Object(r),!0).forEach(function(t){BS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function BS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LS(e){return e.dataKey}var FS=[],US={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function zS(e){var t,r,n=$l(e,US),{active:i,allowEscapeViewBox:a,animationDuration:o,animationEasing:s,content:l,filterNull:c,isAnimationActive:u,offset:d,payloadUniqBy:h,position:f,reverseDirection:p,useTranslate3d:g,wrapperStyle:m,cursor:y,shared:v,trigger:w,defaultIndex:b,portal:E,axisId:A}=n,x=Yc(),S="number"==typeof b?String(b):b;_.useEffect(()=>{x(lx({shared:v,trigger:w,axisId:A,active:i,defaultIndex:S}))},[x,v,w,A,i,S]);var I=Ed(),O=qh(),T=function(e){return Qc(t=>tx(t,e))}(v),{activeIndex:P,isActive:R}=null!==(t=Qc(e=>GC(e,T,w,S)))&&void 0!==t?t:{},M=Qc(e=>WC(e,T,w,S)),N=Qc(e=>VC(e,T,w,S)),D=Qc(e=>HC(e,T,w,S)),j=M,k=_.useContext(pS),B=null!==(r=null!=i?i:R)&&void 0!==r&&r,[L,F]=cu([j,B]),U="axis"===T?N:void 0;DS(T,w,D,U,P,B);var z=null!=E?E:k;if(null==z||null==I||null==T)return null;var H=null!=j?j:FS;B||(H=FS),c&&H.length&&(H=Dc(H.filter(e=>null!=e.value&&(!0!==e.hide||n.includeHidden)),h,LS));var V=H.length>0,W=_.createElement(Yh,{allowEscapeViewBox:a,animationDuration:o,animationEasing:s,isAnimationActive:u,active:B,coordinate:D,hasPayload:V,offset:d,position:f,reverseDirection:p,useTranslate3d:g,viewBox:I,wrapperStyle:m,lastBoundingBox:L,innerRef:F,hasPortalFromProps:Boolean(E)},function(e,t){return _.isValidElement(e)?_.cloneElement(e,t):"function"==typeof e?_.createElement(e,t):_.createElement(Uh,t)}(l,kS(kS({},n),{},{payload:H,label:U,active:B,activeIndex:P,coordinate:D,accessibilityLayer:O})));return _.createElement(_.Fragment,null,C.createPortal(W,z),B&&_.createElement(fS,{cursor:y,tooltipEventType:T,coordinate:D,payload:H,index:P}))}var HS=e=>null;function VS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}HS.displayName="Cell";function WS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function GS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var XS=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WS(Object(r),!0).forEach(function(t){GS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},{cacheSize:2e3,enableCache:!0}),KS=new class{constructor(e){VS(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;null!=r&&this.cache.delete(r)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(XS.cacheSize),YS={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qS="recharts_measurement_span";var ZS=(e,t)=>{try{var r=document.getElementById(qS);r||((r=document.createElement("span")).setAttribute("id",qS),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,YS,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch(i){return{width:0,height:0}}},$S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||Lf)return{width:0,height:0};if(!XS.enableCache)return ZS(e,t);var r=function(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(s)}(e,t),n=KS.get(r);if(n)return n;var i=ZS(e,t);return KS.set(r,i),i};var QS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,e_=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,t_=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,r_={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},n_=["cm","mm","pt","pc","in","Q","px"];var i_,a_,o_,s_="NaN";class l_{static parse(e){var t,[,r,n]=null!==(t=t_.exec(e))&&void 0!==t?t:[];return null==r?l_.NaN:new l_(parseFloat(r),null!=n?n:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,Cl(e)&&(this.unit=""),""===t||e_.test(t)||(this.num=NaN,this.unit=""),function(e){return n_.includes(e)}(t)&&(this.num=function(e,t){return e*r_[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new l_(NaN,""):new l_(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new l_(NaN,""):new l_(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new l_(NaN,""):new l_(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new l_(NaN,""):new l_(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Cl(this.num)}}function c_(e){if(null==e||e.includes(s_))return s_;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=null!==(r=QS.exec(t))&&void 0!==r?r:[],o=l_.parse(null!=n?n:""),s=l_.parse(null!=a?a:""),l="*"===i?o.multiply(s):o.divide(s);if(l.isNaN())return s_;t=t.replace(QS,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=JS.exec(t))&&void 0!==c?c:[],f=l_.parse(null!=u?u:""),p=l_.parse(null!=h?h:""),g="+"===d?f.add(p):f.subtract(p);if(g.isNaN())return s_;t=t.replace(JS,g.toString())}return t}i_=l_,a_="NaN",o_=new l_(NaN,""),(a_=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a_))in i_?Object.defineProperty(i_,a_,{value:o_,enumerable:!0,configurable:!0,writable:!0}):i_[a_]=o_;var u_=/\(([^()]*)\)/;function d_(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,r=e;null!=(t=u_.exec(r));){var[,n]=t;r=r.replace(u_,c_(n))}return r}(t),t=c_(t)}function h_(e){var t=function(e){try{return d_(e)}catch(t){return s_}}(e.slice(5,-1));return t===s_?"":t}var f_=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],p_=["dx","dy","angle","className","breakAll"];function g_(){return g_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g_.apply(null,arguments)}function m_(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var y_=/[ \f\n\r\t\v\u2028\u2029]+/,v_=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];return Dl(t)||(i=r?t.toString().split(""):t.toString().split(y_)),{wordsWithComputedWidth:i.map(e=>({word:e,width:$S(e,n).width})),spaceWidth:r?0:$S(" ",n).width}}catch(a){return null}};function w_(e){return"start"===e||"middle"===e||"end"===e||"inherit"===e}var b_=(e,t,r,n)=>e.reduce((e,i)=>{var{word:a,width:o}=i,s=e[e.length-1];if(s&&null!=o&&(null==t||n||s.width+o+r<Number(t)))s.words.push(a),s.width+=o+r;else{var l={words:[a],width:o};e.push(l)}return e},[]),E_=e=>e.reduce((e,t)=>e.width>t.width?e:t),A_=(e,t,r,n,i,a,o,s)=>{var l=e.slice(0,t),c=v_({breakAll:r,style:n,children:l+"…"});if(!c)return[!1,[]];var u=b_(c.wordsWithComputedWidth,a,o,s);return[u.length>i||E_(u).width>Number(a),u]},x_=e=>[{words:Dl(e)?[]:e.toString().split(y_),width:void 0}],C_=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:o}=e;if((t||r)&&!Lf){var s=v_({breakAll:a,children:n,style:i});if(!s)return x_(n);var{wordsWithComputedWidth:l,spaceWidth:c}=s;return((e,t,r,n,i)=>{var{maxLines:a,children:o,style:s,breakAll:l}=e,c=_l(a),u=String(o),d=b_(t,n,r,i);if(!c||i)return d;if(!(d.length>a||E_(d).width>Number(n)))return d;for(var h,f=0,p=u.length-1,g=0;f<=p&&g<=u.length-1;){var m=Math.floor((f+p)/2),y=m-1,[v,w]=A_(u,y,l,s,a,n,r,i),[b]=A_(u,m,l,s,a,n,r,i);if(v||b||(f=m+1),v&&b&&(p=m-1),!v&&b){h=w;break}g++}return h||d})({breakAll:a,children:n,maxLines:o,style:i},l,c,t,Boolean(r))}return x_(n)},S_="#808080",__={angle:0,breakAll:!1,capHeight:"0.71em",fill:S_,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},I_=_.forwardRef((e,t)=>{var r=$l(e,__),{x:n,y:i,lineHeight:a,capHeight:o,fill:s,scaleToFit:l,textAnchor:c,verticalAnchor:u}=r,d=m_(r,f_),f=_.useMemo(()=>C_({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:p,dy:g,angle:m,className:y,breakAll:v}=d,w=m_(d,p_);if(!Il(n)||!Il(i)||0===f.length)return null;var b,E=Number(n)+(_l(p)?p:0),A=Number(i)+(_l(g)?g:0);if(!yu(E)||!yu(A))return null;switch(u){case"start":b=h_("calc(".concat(o,")"));break;case"middle":b=h_("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(o," / 2))"));break;default:b=h_("calc(".concat(f.length-1," * -").concat(a,")"))}var x=[];if(l){var C=f[0].width,{width:S}=d;x.push("scale(".concat(_l(S)&&_l(C)?S/C:1,")"))}return m&&x.push("rotate(".concat(m,", ").concat(E,", ").concat(A,")")),x.length&&(w.transform=x.join(" ")),_.createElement("text",g_({},ts(w),{ref:t,x:E,y:A,className:h("recharts-text",y),textAnchor:c,fill:s.includes("url")?S_:s}),f.map((e,t)=>{var r=e.words.join(v?"":" ");return _.createElement("tspan",{x:E,dy:0===t?b:a,key:"".concat(r,"-").concat(t)},r)}))});I_.displayName="Text";var O_=["labelRef"],T_=["content"];function P_(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function R_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function M_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R_(Object(r),!0).forEach(function(t){N_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function N_(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D_(){return D_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D_.apply(null,arguments)}var j_=_.createContext(null),k_=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o,children:s}=e,l=_.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:i,width:a,height:o}),[t,r,n,i,a,o]);return _.createElement(j_.Provider,{value:l},s)},B_=()=>{var e=_.useContext(j_),t=Ed();return e||bd(t)},L_=_.createContext(null),F_=e=>null!=e&&"function"==typeof e,U_=(e,t,r,n,i)=>{var a,o,{offset:s,className:l}=e,{cx:c,cy:u,innerRadius:d,outerRadius:f,startAngle:p,endAngle:g,clockWise:m}=i,y=(d+f)/2,v=((e,t)=>xl(t-e)*Math.min(Math.abs(t-e),360))(p,g),w=v>=0?1:-1;switch(t){case"insideStart":a=p+w*s,o=m;break;case"insideEnd":a=g-w*s,o=!m;break;case"end":a=g+w*s,o=m;break;default:throw new Error("Unsupported position ".concat(t))}o=v<=0?o:!o;var b=xp(c,u,y,a),E=xp(c,u,y,a+359*(o?1:-1)),A="M".concat(b.x,",").concat(b.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(o?0:1,",\n    ").concat(E.x,",").concat(E.y),x=Dl(e.id)?Tl("recharts-radial-line-"):e.id;return _.createElement("text",D_({},n,{dominantBaseline:"central",className:h("recharts-radial-bar-label",l)}),_.createElement("defs",null,_.createElement("path",{id:x,d:A})),_.createElement("textPath",{xlinkHref:"#".concat(x)},r))},z_=e=>"cx"in e&&_l(e.cx),H_={angle:0,offset:5,zIndex:Eb.label,position:"middle",textBreakAll:!1};function V_(e){var t,r,n,i,a,o=$l(e,H_),{viewBox:s,position:l,value:c,children:u,content:d,className:f="",textBreakAll:p,labelRef:g}=o,m=(t=_.useContext(L_),r=Qc(Wb),t||r),y=B_();if(!(n=null==s?"center"===l?y:null!=m?m:y:z_(s)?s:bd(s))||Dl(c)&&Dl(u)&&!_.isValidElement(d)&&"function"!=typeof d)return null;var v=M_(M_({},o),{},{viewBox:n});if(_.isValidElement(d)){var{labelRef:w}=v,b=P_(v,O_);return _.cloneElement(d,b)}if("function"==typeof d){var{content:E}=v,A=P_(v,T_);if(i=_.createElement(d,A),_.isValidElement(i))return i}else i=(e=>{var{value:t,formatter:r}=e,n=Dl(e.children)?t:e.children;return"function"==typeof r?r(n):n})(o);var x=ts(o);if(z_(n)){if("insideStart"===l||"insideEnd"===l||"end"===l)return U_(o,l,i,x,n);a=((e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:s,endAngle:l}=e,c=(s+l)/2;if("outside"===r){var{x:u,y:d}=xp(n,i,o+t,c);return{x:u,y:d,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+o)/2,{x:f,y:p}=xp(n,i,h,c);return{x:f,y:p,textAnchor:"middle",verticalAnchor:"middle"}})(n,o.offset,o.position)}else a=((e,t)=>{var r,{parentViewBox:n,offset:i,position:a}=e;null==n||z_(n)||(r=n);var{x:o,y:s,upperWidth:l,lowerWidth:c,height:u}=t,d=o,h=o+(l-c)/2,f=(d+h)/2,p=(l+c)/2,g=d+l/2,m=u>=0?1:-1,y=m*i,v=m>0?"end":"start",w=m>0?"start":"end",b=l>=0?1:-1,E=b*i,A=b>0?"end":"start",x=b>0?"start":"end";if("top"===a)return M_(M_({},{x:d+l/2,y:s-y,textAnchor:"middle",verticalAnchor:v}),r?{height:Math.max(s-r.y,0),width:l}:{});if("bottom"===a)return M_(M_({},{x:h+c/2,y:s+u+y,textAnchor:"middle",verticalAnchor:w}),r?{height:Math.max(r.y+r.height-(s+u),0),width:c}:{});if("left"===a){var C={x:f-E,y:s+u/2,textAnchor:A,verticalAnchor:"middle"};return M_(M_({},C),r?{width:Math.max(C.x-r.x,0),height:u}:{})}if("right"===a){var S={x:f+p+E,y:s+u/2,textAnchor:x,verticalAnchor:"middle"};return M_(M_({},S),r?{width:Math.max(r.x+r.width-S.x,0),height:u}:{})}var _=r?{width:p,height:u}:{};return"insideLeft"===a?M_({x:f+E,y:s+u/2,textAnchor:x,verticalAnchor:"middle"},_):"insideRight"===a?M_({x:f+p-E,y:s+u/2,textAnchor:A,verticalAnchor:"middle"},_):"insideTop"===a?M_({x:d+l/2,y:s+y,textAnchor:"middle",verticalAnchor:w},_):"insideBottom"===a?M_({x:h+c/2,y:s+u-y,textAnchor:"middle",verticalAnchor:v},_):"insideTopLeft"===a?M_({x:d+E,y:s+y,textAnchor:x,verticalAnchor:w},_):"insideTopRight"===a?M_({x:d+l-E,y:s+y,textAnchor:A,verticalAnchor:w},_):"insideBottomLeft"===a?M_({x:h+E,y:s+u-y,textAnchor:x,verticalAnchor:v},_):"insideBottomRight"===a?M_({x:h+c-E,y:s+u-y,textAnchor:A,verticalAnchor:v},_):a&&"object"==typeof a&&(_l(a.x)||Sl(a.x))&&(_l(a.y)||Sl(a.y))?M_({x:o+Pl(a.x,p),y:s+Pl(a.y,u),textAnchor:"end",verticalAnchor:"end"},_):M_({x:g,y:s+u/2,textAnchor:"middle",verticalAnchor:"middle"},_)})(o,n);return _.createElement(oS,{zIndex:o.zIndex},_.createElement(I_,D_({ref:g,className:h("recharts-label",f)},x,a,{textAnchor:w_(x.textAnchor)?x.textAnchor:a.textAnchor,breakAll:p}),i))}V_.displayName="Label";function W_(e){var{label:t,labelRef:r}=e;return((e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return!0===e?_.createElement(V_,D_({key:"label-implicit"},n)):Il(e)?_.createElement(V_,D_({key:"label-implicit",value:e},n)):_.isValidElement(e)?e.type===V_?_.cloneElement(e,M_({key:"label-implicit"},n)):_.createElement(V_,D_({key:"label-implicit",content:e},n)):F_(e)?_.createElement(V_,D_({key:"label-implicit",content:e},n)):e&&"object"==typeof e?_.createElement(V_,D_({},e,{key:"label-implicit"},n)):null})(t,B_(),r)||null}var G_={},X_={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.last=function(e){return e[e.length-1]}}(X_);var K_={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}}(K_),function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X_,r=K_,n=uc;e.last=function(e){if(n.isArrayLike(e))return t.last(r.toArray(e))}}(G_);const Y_=O(G_.last);var q_=["valueAccessor"],Z_=["dataKey","clockWise","id","textBreakAll","zIndex"];function $_(){return $_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$_.apply(null,arguments)}function Q_(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var J_=e=>Array.isArray(e.value)?Y_(e.value):e.value,eI=_.createContext(void 0),tI=eI.Provider,rI=_.createContext(void 0),nI=rI.Provider;function iI(e){var{valueAccessor:t=J_}=e,r=Q_(e,q_),{dataKey:n,clockWise:i,id:a,textBreakAll:o,zIndex:s}=r,l=Q_(r,Z_),c=_.useContext(eI),u=_.useContext(rI),d=c||u;return d&&d.length?_.createElement(oS,{zIndex:null!=s?s:Eb.label},_.createElement(ss,{className:"recharts-label-list"},d.map((e,i)=>{var s,c=Dl(n)?t(e,i):Au(e&&e.payload,n),u=Dl(a)?{}:{id:"".concat(a,"-").concat(i)};return _.createElement(V_,$_({key:"label-".concat(i)},ts(e),l,u,{fill:null!==(s=r.fill)&&void 0!==s?s:e.fill,parentViewBox:e.parentViewBox,value:c,textBreakAll:o,viewBox:e.viewBox,index:i,zIndex:0}))}))):null}function aI(e){var{label:t}=e;return t?!0===t?_.createElement(iI,{key:"labelList-implicit"}):_.isValidElement(t)||F_(t)?_.createElement(iI,{key:"labelList-implicit",content:t}):"object"==typeof t?_.createElement(iI,$_({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function oI(){return oI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oI.apply(null,arguments)}iI.displayName="LabelList";var sI=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=h("recharts-dot",i);return _l(t)&&_l(r)&&_l(n)?_.createElement("circle",oI({},Jo(e),Kl(e),{className:a,cx:t,cy:r,r:n})):null},lI=e=>e.graphicalItems.polarItems,cI=Vi([Gb,Xb],gE),uI=Vi([lI,hE,cI],vE),dI=Vi([uI],xE),hI=Vi([dI,bw],SE),fI=Vi([hI,hE,uI],IE);Vi([hI,hE,uI],(e,t,r)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var n;return{value:Au(e,null!==(n=t.dataKey)&&void 0!==n?n:r.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:Au(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})));var pI=()=>{},gI=Vi([hI,hE,uI,WE,Gb],XE),mI=Vi([hE,zE,HE,pI,gI,pI,_d,Gb],cA),yI=Vi([hE,_d,hI,fI,gb,Gb,mI],hA),vI=Vi([yI,hE,gA],yA);Vi([hE,yI,vI,Gb],wA);var wI=wa({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:bI,removeRadiusAxis:EI,addAngleAxis:AI,removeAngleAxis:xI}=wI.actions,CI=wI.reducer;function SI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?SI(Object(r),!0).forEach(function(t){II(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function II(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var OI=Vi([lI,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),TI=[],PI=(e,t,r)=>0===(null==r?void 0:r.length)?TI:r,RI=Vi([bw,OI,PI],(e,t,r)=>{var n,{chartData:i}=e;if(null!=t&&((n=null!=(null==t?void 0:t.data)&&t.data.length>0?t.data:i)&&n.length||null==r||(n=r.map(e=>_I(_I({},t.presentationProps),e.props))),null!=n))return n}),MI=Vi([RI,OI,PI],(e,t,r)=>{if(null!=e&&null!=t)return e.map((e,n)=>{var i,a,o=Au(e,t.nameKey,t.name);return a=null!=r&&null!==(i=r[n])&&void 0!==i&&null!==(i=i.props)&&void 0!==i&&i.fill?r[n].props.fill:"object"==typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:ju(o,t.dataKey),color:a,payload:e,type:t.legendType}})}),NI=Vi([RI,OI,PI,Ku],(e,t,r,n)=>{if(null!=t&&null!=e)return function(e){var t,r,n,{pieSettings:i,displayedData:a,cells:o,offset:s}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:h,tooltipType:f}=i,p=Math.abs(i.minAngle),g=kO(c,u),m=Math.abs(g),y=a.length<=1?0:null!==(t=i.paddingAngle)&&void 0!==t?t:0,v=a.filter(e=>0!==Au(e,d,0)).length,w=m-v*p-(m>=360?v:v-1)*y,b=a.reduce((e,t)=>{var r=Au(t,d,0);return e+(_l(r)?r:0)},0);b>0&&(r=a.map((e,t)=>{var r,a=Au(e,d,0),u=Au(e,h,t),m=jO(i,s,e),v=(_l(a)?a:0)/b,E=TO(TO({},e),o&&o[t]&&o[t].props),A=(r=t?n.endAngle+xl(g)*y*(0!==a?1:0):c)+xl(g)*((0!==a?p:0)+v*w),x=(r+A)/2,C=(m.innerRadius+m.outerRadius)/2,S=[{name:u,value:a,payload:E,dataKey:d,type:f,graphicalItemId:i.id}],_=xp(m.cx,m.cy,C,x);return n=TO(TO(TO(TO({},i.presentationProps),{},{percent:v,cornerRadius:"string"==typeof l?parseFloat(l):l,name:u,tooltipPayload:S,midAngle:x,middleRadius:C,tooltipPosition:_},E),m),{},{value:a,dataKey:d,startAngle:r,endAngle:A,payload:E,paddingAngle:xl(g)*y})}));return r}({offset:n,pieSettings:t,displayedData:e,cells:r})}),DI=e=>"string"==typeof e?e:e?e.displayName||e.name||"Component":"",jI=null,kI=null,BI=e=>{if(e===jI&&Array.isArray(kI))return kI;var t=[];return _.Children.forEach(e,e=>{Dl(e)||(Q.isFragment(e)?t=t.concat(BI(e.props.children)):t.push(e))}),kI=t,jI=e,t};function LI(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map(e=>DI(e)):[DI(t)],BI(e).forEach(e=>{var t=bl(e,"type.displayName")||bl(e,"type.name");t&&-1!==n.indexOf(t)&&r.push(e)}),r}var FI=e=>!e||"object"!=typeof e||!("clipDot"in e)||Boolean(e.clipDot),UI={};!function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPlainObject=function(e){var t;if("object"!=typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const r=e[Symbol.toStringTag];if(null==r)return!1;return!!(null==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))?void 0:t.writable)&&e.toString()===`[object ${r}]`}let r=e;for(;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}}(UI);const zI=O(UI.isPlainObject);var HI,VI,WI,GI,XI;function KI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function YI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?KI(Object(r),!0).forEach(function(t){qI(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KI(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function qI(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZI(){return ZI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZI.apply(null,arguments)}function $I(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var QI=(e,t,r,n,i)=>{var a,o=r-n;return a=Al(HI||(HI=$I(["M ",",",""])),e,t),a+=Al(VI||(VI=$I(["L ",",",""])),e+r,t),a+=Al(WI||(WI=$I(["L ",",",""])),e+r-o/2,t+i),a+=Al(GI||(GI=$I(["L ",",",""])),e+r-o/2-n,t+i),a+=Al(XI||(XI=$I(["L ",","," Z"])),e,t)},JI={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eO=e=>{var t=$l(e,JI),{x:r,y:n,upperWidth:i,lowerWidth:a,height:o,className:s}=t,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:d}=t,f=_.useRef(null),[p,g]=_.useState(-1),m=_.useRef(i),y=_.useRef(a),v=_.useRef(o),w=_.useRef(r),b=_.useRef(n),E=Vf(e,"trapezoid-");if(_.useEffect(()=>{if(f.current&&f.current.getTotalLength)try{var e=f.current.getTotalLength();e&&g(e)}catch(t){}},[]),r!==+r||n!==+n||i!==+i||a!==+a||o!==+o||0===i&&0===a||0===o)return null;var A=h("recharts-trapezoid",s);if(!d)return _.createElement("g",null,_.createElement("path",ZI({},ts(t),{className:A,d:QI(r,n,i,a,o)})));var x=m.current,C=y.current,S=v.current,I=w.current,O=b.current,T="0px ".concat(-1===p?1:p,"px"),P="".concat(p,"px 0px"),R=yf(["strokeDasharray"],c,l);return _.createElement(Hf,{animationId:E,key:E,canBegin:p>0,duration:c,easing:l,isActive:d,begin:u},e=>{var s=Ml(x,i,e),l=Ml(C,a,e),c=Ml(S,o,e),u=Ml(I,r,e),d=Ml(O,n,e);f.current&&(m.current=s,y.current=l,v.current=c,w.current=u,b.current=d);var h=e>0?{transition:R,strokeDasharray:P}:{strokeDasharray:T};return _.createElement("path",ZI({},ts(t),{className:A,d:QI(u,d,s,l,c),ref:f,style:YI(YI({},h),t.style)}))})},tO=["option","shapeType","activeClassName"];function rO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rO(Object(r),!0).forEach(function(t){iO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function iO(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aO(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return _.createElement(up,r);case"trapezoid":return _.createElement(eO,r);case"sector":return _.createElement(Dp,r);case"symbols":if(function(e){return"symbols"===e}(t))return _.createElement(Gl,r);break;case"curve":return _.createElement(sf,r);default:return null}}function oO(e){var t,{option:r,shapeType:n,activeClassName:i="recharts-active-shape"}=e,a=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,tO);if(_.isValidElement(r))t=_.cloneElement(r,nO(nO({},a),function(e){return _.isValidElement(e)?e.props:e}(r)));else if("function"==typeof r)t=r(a,a.index);else if(zI(r)&&"boolean"!=typeof r){var o=function(e,t){return nO(nO({},t),e)}(r,a);t=_.createElement(aO,{shapeType:n,elementProps:o})}else{var s=a;t=_.createElement(aO,{shapeType:n,elementProps:s})}return a.isActive?_.createElement(ss,{className:i},t):t}var sO;function lO(e){var{tooltipEntrySettings:t}=e,r=Yc(),n=$u(),i=_.useRef(null);return _.useLayoutEffect(()=>{n||(null===i.current?r(ax(t)):i.current!==t&&r(ox({prev:i.current,next:t})),i.current=t)},[t,r,n]),_.useLayoutEffect(()=>()=>{i.current&&(r(sx(i.current)),i.current=null)},[r]),null}function cO(e){var{legendPayload:t}=e,r=Yc(),n=$u(),i=_.useRef(null);return _.useLayoutEffect(()=>{n||(null===i.current?r(bh(t)):i.current!==t&&r(Eh({prev:i.current,next:t})),i.current=t)},[r,n,t]),_.useLayoutEffect(()=>()=>{i.current&&(r(Ah(i.current)),i.current=null)},[r]),null}function uO(e){var{legendPayload:t}=e,r=Yc(),n=Qc(_d),i=_.useRef(null);return _.useLayoutEffect(()=>{"centric"!==n&&"radial"!==n||(null===i.current?r(bh(t)):i.current!==t&&r(Eh({prev:i.current,next:t})),i.current=t)},[r,n,t]),_.useLayoutEffect(()=>()=>{i.current&&(r(Ah(i.current)),i.current=null)},[r]),null}var dO=null!==(sO=D["useId".toString()])&&void 0!==sO?sO:()=>{var[e]=_.useState(()=>Tl("uid-"));return e};var hO=_.createContext(void 0),fO=e=>{var t,r,n,{id:i,type:a,children:o}=e,s=(t="recharts-".concat(a),r=i,n=dO(),r||(t?"".concat(t,"-").concat(n):n));return _.createElement(hO.Provider,{value:s},o(s))},pO=wa({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:ea()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=Ni(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:ea()},removeCartesianGraphicalItem:{reducer(e,t){var r=Ni(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:ea()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:ea()},removePolarGraphicalItem:{reducer(e,t){var r=Ni(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:ea()}}}),{addCartesianGraphicalItem:gO,replaceCartesianGraphicalItem:mO,removeCartesianGraphicalItem:yO,addPolarGraphicalItem:vO,removePolarGraphicalItem:wO}=pO.actions,bO=pO.reducer,EO=e=>{var t=Yc(),r=_.useRef(null);return _.useLayoutEffect(()=>{null===r.current?t(gO(e)):r.current!==e&&t(mO({prev:r.current,next:e})),r.current=e},[t,e]),_.useLayoutEffect(()=>()=>{r.current&&(t(yO(r.current)),r.current=null)},[t]),null},AO=_.memo(EO);function xO(e){var t=Yc();return _.useLayoutEffect(()=>(t(vO(e)),()=>{t(wO(e))}),[t,e]),null}var CO=["key"],SO=["onMouseEnter","onClick","onMouseLeave"],_O=["id"],IO=["id"];function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function TO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(t){PO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function PO(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RO(){return RO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RO.apply(null,arguments)}function MO(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function NO(e){var t=_.useMemo(()=>LI(e.children,HS),[e.children]),r=Qc(r=>MI(r,e.id,t));return null==r?null:_.createElement(uO,{legendPayload:r})}var DO=_.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:o,name:s,hide:l,tooltipType:c,id:u}=e,d={dataDefinedOnItem:n.map(e=>e.tooltipPayload),positions:n.map(e=>e.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:o,dataKey:t,nameKey:r,name:ju(s,t),hide:l,type:c,color:o,unit:"",graphicalItemId:u}};return _.createElement(lO,{tooltipEntrySettings:d})}),jO=(e,t,r)=>{var{top:n,left:i,width:a,height:o}=t,s=Cp(a,o),l=i+Pl(e.cx,a,a/2),c=n+Pl(e.cy,o,o/2),u=Pl(e.innerRadius,s,0),d=((e,t,r)=>Pl("function"==typeof t?t(e):t,r,.8*r))(r,e.outerRadius,s);return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:e.maxRadius||Math.sqrt(a*a+o*o)/2}},kO=(e,t)=>xl(t-e)*Math.min(Math.abs(t-e),360);function BO(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:o}=r;if(!n||!i||!t)return null;var s=Jo(r),l=es(i),c=es(a),u="object"==typeof i&&"offsetRadius"in i&&"number"==typeof i.offsetRadius&&i.offsetRadius||20,d=t.map((e,t)=>{var r,n,d=(e.startAngle+e.endAngle)/2,f=xp(e.cx,e.cy,e.outerRadius+u,d),p=TO(TO(TO(TO({},s),e),{},{stroke:"none"},l),{},{index:t,textAnchor:(r=f.x,n=e.cx,r>n?"start":r<n?"end":"middle")},f),g=TO(TO(TO(TO({},s),e),{},{fill:"none",stroke:e.fill},c),{},{index:t,points:[xp(e.cx,e.cy,e.outerRadius,d),f],key:"line"});return _.createElement(oS,{zIndex:Eb.label,key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},_.createElement(ss,null,a&&((e,t)=>{if(_.isValidElement(e))return _.cloneElement(e,t);if("function"==typeof e)return e(t);var r=h("recharts-pie-label-line","boolean"!=typeof e?e.className:""),{key:n}=t,i=MO(t,CO);return _.createElement(sf,RO({},i,{type:"linear",className:r}))})(a,g),((e,t,r)=>{if(_.isValidElement(e))return _.cloneElement(e,t);var n=r;if("function"==typeof e&&(n=e(t),_.isValidElement(n)))return n;var i,a=h("recharts-pie-label-text",(i=e)&&"object"==typeof i&&"className"in i&&"string"==typeof i.className?i.className:"");return _.createElement(I_,RO({},t,{alignmentBaseline:"middle",className:a}),n)})(i,p,Au(e,o))))});return _.createElement(ss,{className:"recharts-pie-labels"},d)}function LO(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return"object"==typeof i&&null!=i&&"position"in i?_.createElement(aI,{label:i}):_.createElement(BO,{sectors:t,props:r,showLabels:n})}function FO(e){var t,r,n,i,{sectors:a,activeShape:o,inactiveShape:s,allOtherPieProps:l,shape:c,id:u}=e,d=Qc(mC),h=Qc(vC),f=Qc(wC),{onMouseEnter:p,onClick:g,onMouseLeave:m}=l,y=MO(l,SO),v=((e,t,r)=>{var n=Yc();return(i,a)=>o=>{null==e||e(i,a,o),n(cx({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}})(p,l.dataKey,u),w=(e=>{var t=Yc();return(r,n)=>i=>{null==e||e(r,n,i),t(ux())}})(m),b=(t=g,r=l.dataKey,n=u,i=Yc(),(e,a)=>o=>{null==t||t(e,a,o),i(hx({activeIndex:String(a),activeDataKey:r,activeCoordinate:e.tooltipPosition,activeGraphicalItemId:n}))});return null==a||0===a.length?null:_.createElement(_.Fragment,null,a.map((e,t)=>{if(0===(null==e?void 0:e.startAngle)&&0===(null==e?void 0:e.endAngle)&&1!==a.length)return null;var r=null==f||f===u,n=String(t)===d&&(null==h||l.dataKey===h)&&r,i=o&&n?o:d?s:null,p=TO(TO({},e),{},{stroke:e.stroke,tabIndex:-1,[Hu]:t,[Vu]:u});return _.createElement(ss,RO({key:"sector-".concat(null==e?void 0:e.startAngle,"-").concat(null==e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(t),tabIndex:-1,className:"recharts-pie-sector"},Yl(y,e,t),{onMouseEnter:v(e,t),onMouseLeave:w(e,t),onClick:b(e,t)}),_.createElement(oO,RO({option:null!=c?c:i,index:t,shapeType:"sector",isActive:n},p)))}))}function UO(e){var{showLabels:t,sectors:r,children:n}=e,i=_.useMemo(()=>t&&r?r.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[r,t]);return _.createElement(nI,{value:t?i:void 0},n)}function zO(e){var{props:t,previousSectorsRef:r,id:n}=e,{sectors:i,isAnimationActive:a,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:h}=t,f=Vf(t,"recharts-pie-"),p=r.current,[g,m]=_.useState(!1),y=_.useCallback(()=>{"function"==typeof h&&h(),m(!1)},[h]),v=_.useCallback(()=>{"function"==typeof d&&d(),m(!0)},[d]);return _.createElement(UO,{showLabels:!g,sectors:i},_.createElement(Hf,{animationId:f,begin:o,duration:s,isActive:a,easing:l,onAnimationStart:v,onAnimationEnd:y,key:f},e=>{var a=[],o=i&&i[0],s=null==o?void 0:o.startAngle;return null==i||i.forEach((t,r)=>{var n=p&&p[r],i=r>0?bl(t,"paddingAngle",0):0;if(n){var o=Ml(n.endAngle-n.startAngle,t.endAngle-t.startAngle,e),l=TO(TO({},t),{},{startAngle:s+i,endAngle:s+o+i});a.push(l),s=l.endAngle}else{var{endAngle:c,startAngle:u}=t,d=Ml(0,c-u,e),h=TO(TO({},t),{},{startAngle:s+i,endAngle:s+d+i});a.push(h),s=h.endAngle}}),r.current=a,_.createElement(ss,null,_.createElement(FO,{sectors:a,activeShape:c,inactiveShape:u,allOtherPieProps:t,shape:t.shape,id:n}))}),_.createElement(LO,{showLabels:!g,sectors:i,props:t}),t.children)}var HO={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Eb.area};function VO(e){var{id:t}=e,r=MO(e,_O),{hide:n,className:i,rootTabIndex:a}=e,o=_.useMemo(()=>LI(e.children,HS),[e.children]),s=Qc(e=>NI(e,t,o)),l=_.useRef(null),c=h("recharts-pie",i);return n||null==s?(l.current=null,_.createElement(ss,{tabIndex:a,className:c})):_.createElement(oS,{zIndex:e.zIndex},_.createElement(DO,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),_.createElement(ss,{tabIndex:a,className:c},_.createElement(zO,{props:TO(TO({},r),{},{sectors:s}),previousSectorsRef:l,id:t})))}function WO(e){var t=$l(e,HO),{id:r}=t,n=MO(t,IO),i=Jo(n);return _.createElement(fO,{id:r,type:"pie"},e=>_.createElement(_.Fragment,null,_.createElement(xO,{type:"pie",id:e,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),_.createElement(NO,RO({},n,{id:e})),_.createElement(VO,RO({},n,{id:e}))))}WO.displayName="Pie";var GO=["points"];function XO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function KO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XO(Object(r),!0).forEach(function(t){YO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function YO(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qO(){return qO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qO.apply(null,arguments)}function ZO(e){var{option:t,dotProps:r,className:n}=e;if(_.isValidElement(t))return _.cloneElement(t,r);if("function"==typeof t)return t(r);var i=h(n,"boolean"!=typeof t?t.className:""),a=null!=r?r:{},{points:o}=a,s=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(a,GO);return _.createElement(sI,qO({},s,{className:i}))}function $O(e){var{points:t,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:o,needClip:s,clipPathId:l,zIndex:c=Eb.scatter}=e;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(t,r))return null;var u,d=FI(r),h=null==(u=r)?null:_.isValidElement(u)?ts(u.props):"object"!=typeof u||Array.isArray(u)?null:ts(u),f=t.map((e,n)=>{var s,l,c=KO(KO(KO({r:3},o),h),{},{index:n,cx:null!==(s=e.x)&&void 0!==s?s:void 0,cy:null!==(l=e.y)&&void 0!==l?l:void 0,dataKey:a,value:e.value,payload:e.payload,points:t});return _.createElement(ZO,{key:"dot-".concat(n),option:r,dotProps:c,className:i})}),p={};return s&&null!=l&&(p.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),_.createElement(oS,{zIndex:c},_.createElement(ss,qO({className:n},p),f))}function QO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function JO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?QO(Object(r),!0).forEach(function(t){eT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tT=wa({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:ea()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;void 0!==e.xAxis[r.id]&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:ea()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:ea()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:ea()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;void 0!==e.yAxis[r.id]&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:ea()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:ea()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:ea()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;void 0!==e.zAxis[r.id]&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:ea()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:ea()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a=i.widthHistory||[];if(3===a.length&&a[0]===a[2]&&n===a[1]&&n!==i.width&&Math.abs(n-a[0])<=1)return;var o=[...a,n].slice(-3);e.yAxis[r]=JO(JO({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:rT,replaceXAxis:nT,removeXAxis:iT,addYAxis:aT,replaceYAxis:oT,removeYAxis:sT,addZAxis:lT,replaceZAxis:cT,removeZAxis:uT,updateYAxisWidth:dT}=tT.actions,hT=tT.reducer,fT=Vi([Ku],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),pT=Vi([fT,ku,Bu],(e,t,r)=>{if(e&&null!=t&&null!=r)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),gT=()=>Qc(pT);function mT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function yT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mT(Object(r),!0).forEach(function(t){vT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function vT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wT=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:o}=e;if(!1===i||null==t.x||null==t.y)return null;var s,l=yT(yT(yT({},{index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:null!=n?n:"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value}),es(i)),Kl(i));return s=_.isValidElement(i)?_.cloneElement(i,l):"function"==typeof i?i(l):_.createElement(sI,l),_.createElement(ss,{className:"recharts-active-dot",clipPath:o},s)};function bT(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:o=Eb.activeDot}=e,s=Qc(mC),l=Qc(SC);if(null==t||null==l)return null;var c=t.find(e=>l.includes(e.payload));return Dl(c)?null:_.createElement(oS,{zIndex:o},_.createElement(wT,{point:c,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var ET=e=>{var{chartData:t}=e,r=Yc(),n=$u();return _.useEffect(()=>n?()=>{}:(r(CS(t)),()=>{r(CS(void 0))}),[t,r,n]),null},AT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},xT=wa({name:"brush",initialState:AT,reducers:{setBrushSettings:(e,t)=>null==t.payload?AT:t.payload}}),{setBrushSettings:CT}=xT.actions,ST=xT.reducer;class _T{static create(e){return new _T(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var n=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+n;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(t){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var t=this.range(),r=t[0],n=t[t.length-1];return r<=n?e>=r&&e<=n:e>=n&&e<=r}}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(_T,"EPS",1e-4);var IT=wa({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Ni(e).dots.findIndex(e=>e===t.payload);-1!==r&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Ni(e).areas.findIndex(e=>e===t.payload);-1!==r&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Ni(e).lines.findIndex(e=>e===t.payload);-1!==r&&e.lines.splice(r,1)}}}),{addDot:OT,removeDot:TT,addArea:PT,removeArea:RT,addLine:MT,removeLine:NT}=IT.actions,DT=IT.reducer,jT=_.createContext(void 0),kT=e=>{var{children:t}=e,[r]=_.useState("".concat(Tl("recharts"),"-clip")),n=gT();if(null==n)return null;var{x:i,y:a,width:o,height:s}=n;return _.createElement(jT.Provider,{value:r},_.createElement("defs",null,_.createElement("clipPath",{id:r},_.createElement("rect",{x:i,y:a,height:s,width:o}))),t)};function BT(e,t){if(t<1)return[];if(1===t)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];void 0!==i&&r.push(i)}return r}function LT(e,t,r){return function(e){var{width:t,height:r}=e,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=n*Math.PI/180,a=Math.atan(r/t),o=i>a&&i<Math.PI-a?r/Math.sin(i):t/Math.cos(i);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},r)}function FT(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function UT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function zT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UT(Object(r),!0).forEach(function(t){HT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function HT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VT(e,t,r){var n,{tick:i,ticks:a,viewBox:o,minTickGap:s,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!a||!a.length||!i)return[];if(_l(c)||Lf)return null!==(n=function(e,t){return BT(e,t+1)}(a,_l(c)?c:0))&&void 0!==n?n:[];var f=[],p="top"===l||"bottom"===l?"width":"height",g=d&&"width"===p?$S(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=(e,n)=>{var i="function"==typeof u?u(e.value,n):e.value;return"width"===p?LT($S(i,{fontSize:t,letterSpacing:r}),g,h):$S(i,{fontSize:t,letterSpacing:r})[p]},y=a.length>=2?xl(a[1].coordinate-a[0].coordinate):1,v=function(e,t,r){var n="width"===r,{x:i,y:a,width:o,height:s}=e;return 1===t?{start:n?i:a,end:n?i+o:a+s}:{start:n?i+o:a+s,end:n?i:a}}(o,y,p);return"equidistantPreserveStart"===c?function(e,t,r,n,i){for(var a,o=(n||[]).slice(),{start:s,end:l}=t,c=0,u=1,d=s,h=function(){var t=null==n?void 0:n[c];if(void 0===t)return{v:BT(n,u)};var a,o=c,h=()=>(void 0===a&&(a=r(t,o)),a),f=t.coordinate,p=0===c||FT(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+i),c+=u)};u<=o.length;)if(a=h())return a.v;return[]}(y,v,m,a,s):"equidistantPreserveEnd"===c?function(e,t,r,n,i){var a=(n||[]).slice().length;if(0===a)return[];for(var{start:o,end:s}=t,l=1;l<=a;l++){for(var c=(a-1)%l,u=o,d=!0,h=function(){var t,a=n[f],o=f,l=()=>(void 0===t&&(t=r(a,o)),t),h=a.coordinate,p=f===c||FT(e,h,l,u,s);if(!p)return d=!1,1;p&&(u=h+e*(l()/2+i))},f=c;f<a&&!h();f+=l);if(d){for(var p=[],g=c;g<a;g+=l)p.push(n[g]);return p}}return[]}(y,v,m,a,s):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,r,n,i,a){var o=(n||[]).slice(),s=o.length,{start:l,end:c}=t;if(a){var u=n[s-1],d=r(u,s-1),h=e*(u.coordinate+e*d/2-c);o[s-1]=u=zT(zT({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),null!=u.tickCoord&&FT(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+i),o[s-1]=zT(zT({},u),{},{isShow:!0}))}for(var f=a?s-1:s,p=function(t){var n,a=o[t],s=()=>(void 0===n&&(n=r(a,t)),n);if(0===t){var u=e*(a.coordinate-e*s()/2-l);o[t]=a=zT(zT({},a),{},{tickCoord:u<0?a.coordinate-u*e:a.coordinate})}else o[t]=a=zT(zT({},a),{},{tickCoord:a.coordinate});null!=a.tickCoord&&FT(e,a.tickCoord,s,l,c)&&(l=a.tickCoord+e*(s()/2+i),o[t]=zT(zT({},a),{},{isShow:!0}))},g=0;g<f;g++)p(g);return o}(y,v,m,a,s,"preserveStartEnd"===c):function(e,t,r,n,i){for(var a=(n||[]).slice(),o=a.length,{start:s}=t,{end:l}=t,c=function(t){var n,c=a[t],u=()=>(void 0===n&&(n=r(c,t)),n);if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);a[t]=c=zT(zT({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else a[t]=c=zT(zT({},c),{},{tickCoord:c.coordinate});null!=c.tickCoord&&FT(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),a[t]=zT(zT({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}(y,v,m,a,s),f.filter(e=>e.isShow))}var WT=["axisLine","width","height","className","hide","ticks","axisType"];function GT(){return GT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GT.apply(null,arguments)}function XT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function KT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XT(Object(r),!0).forEach(function(t){YT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function YT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qT={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Eb.axis};function ZT(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var c=KT(KT(KT({},l),Jo(s)),{},{fill:"none"});if("top"===a||"bottom"===a){var u=+("top"===a&&!o||"bottom"===a&&o);c=KT(KT({},c),{},{x1:t,y1:r+u*i,x2:t+n,y2:r+u*i})}else{var d=+("left"===a&&!o||"right"===a&&o);c=KT(KT({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return _.createElement("line",GT({},c,{className:h("recharts-cartesian-axis-line",bl(s,"className"))}))}function $T(e){var t,{option:r,tickProps:n,value:i}=e,a=h(n.className,"recharts-cartesian-axis-tick-value");if(_.isValidElement(r))t=_.cloneElement(r,KT(KT({},n),{},{className:a}));else if("function"==typeof r)t=r(KT(KT({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";"boolean"!=typeof r&&(o=h(o,null==r?void 0:r.className)),t=_.createElement(I_,GT({},n,{className:o}),i)}return t}var QT=_.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:o,unit:s,padding:l,tickTextProps:c,orientation:u,mirror:d,x:f,y:p,width:g,height:m,tickSize:y,tickMargin:v,fontSize:w,letterSpacing:b,getTicksConfig:E,events:A,axisType:x}=e,C=VT(KT(KT({},E),{},{ticks:r}),w,b),S=function(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}(u,d),I=function(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}(u,d),O=Jo(E),T=es(n),P={};"object"==typeof i&&(P=i);var R=KT(KT({},O),{},{fill:"none"},P),M=C.map(e=>KT({entry:e},function(e,t,r,n,i,a,o,s,l){var c,u,d,h,f,p,g=s?-1:1,m=e.tickSize||o,y=_l(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=u=e.coordinate,p=(d=(h=r+ +!s*i)-g*m)-g*l,f=y;break;case"left":d=h=e.coordinate,f=(c=(u=t+ +!s*n)-g*m)-g*l,p=y;break;case"right":d=h=e.coordinate,f=(c=(u=t+ +s*n)+g*m)+g*l,p=y;break;default:c=u=e.coordinate,p=(d=(h=r+ +s*i)+g*m)+g*l,f=y}return{line:{x1:c,y1:d,x2:u,y2:h},tick:{x:f,y:p}}}(e,f,p,g,m,u,y,d,v))),N=M.map(e=>{var{entry:t,line:r}=e;return _.createElement(ss,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},i&&_.createElement("line",GT({},R,r,{className:h("recharts-cartesian-axis-tick-line",bl(i,"className"))})))}),D=M.map((e,t)=>{var{entry:r,tick:i}=e,u=KT(KT(KT(KT({textAnchor:S,verticalAnchor:I},O),{},{stroke:"none",fill:a},T),i),{},{index:t,payload:r,visibleTicksCount:C.length,tickFormatter:o,padding:l},c);return _.createElement(ss,GT({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(r.value,"-").concat(r.coordinate,"-").concat(r.tickCoord)},Yl(A,r,t)),n&&_.createElement($T,{option:n,tickProps:u,value:"".concat("function"==typeof o?o(r.value,t):r.value).concat(s||"")}))});return _.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(x,"-ticks")},D.length>0&&_.createElement(oS,{zIndex:Eb.label},_.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(x,"-tick-labels"),ref:t},D)),N.length>0&&_.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(x,"-tick-lines")},N))}),JT=_.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:o,ticks:s,axisType:l}=e,c=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,WT),[u,d]=_.useState(""),[f,p]=_.useState(""),g=_.useRef(null);_.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var t;return(e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,o=0;if(t){Array.from(t).forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>o&&(o=t.width)}});var s=r?r.getBoundingClientRect().width:0,l=o+(i+a)+s+(r?n:0);return Math.round(l)}return 0})({ticks:g.current,label:null===(t=e.labelRef)||void 0===t?void 0:t.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var m=_.useCallback(e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=t;var r=t[0];if(r){var n=window.getComputedStyle(r),i=n.fontSize,a=n.letterSpacing;i===u&&a===f||(d(i),p(a))}}},[u,f]);return o||null!=n&&n<=0||null!=i&&i<=0?null:_.createElement(oS,{zIndex:e.zIndex},_.createElement(ss,{className:h("recharts-cartesian-axis",a)},_.createElement(ZT,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Jo(e)}),_.createElement(QT,{ref:m,axisType:l,events:c,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:f,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),_.createElement(k_,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},_.createElement(W_,{label:e.label,labelRef:e.labelRef}),e.children)))}),eP=_.forwardRef((e,t)=>{var r=$l(e,qT);return _.createElement(JT,GT({},r,{ref:t}))});eP.displayName="CartesianAxis";var tP=["x1","y1","x2","y2","key"],rP=["offset"],nP=["xAxisId","yAxisId"],iP=["xAxisId","yAxisId"];function aP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function oP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aP(Object(r),!0).forEach(function(t){sP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function sP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lP(){return lP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lP.apply(null,arguments)}function cP(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var uP=e=>{var{fill:t}=e;if(!t||"none"===t)return null;var{fillOpacity:r,x:n,y:i,width:a,height:o,ry:s}=e;return _.createElement("rect",{x:n,y:i,ry:s,width:a,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function dP(e){var t,{option:r,lineItemProps:n}=e;if(_.isValidElement(r))t=_.cloneElement(r,n);else if("function"==typeof r)t=r(n);else{var i,{x1:a,y1:o,x2:s,y2:l,key:c}=n,u=null!==(i=Jo(cP(n,tP)))&&void 0!==i?i:{},{offset:d}=u,h=cP(u,rP);t=_.createElement("line",lP({},h,{x1:a,y1:o,x2:s,y2:l,fill:"none",key:c}))}return t}function hP(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=cP(e,nP),l=i.map((e,i)=>{var a=oP(oP({},s),{},{x1:t,y1:e,x2:t+r,y2:e,key:"line-".concat(i),index:i});return _.createElement(dP,{key:"line-".concat(i),option:n,lineItemProps:a})});return _.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function fP(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=e,s=cP(e,iP),l=i.map((e,i)=>{var a=oP(oP({},s),{},{x1:e,y1:t,x2:e,y2:t+r,key:"line-".concat(i),index:i});return _.createElement(dP,{option:n,lineItemProps:a,key:"line-".concat(i)})});return _.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function pP(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||null==s)return null;var c=s.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==c[0]&&c.unshift(0);var u=c.map((e,s)=>{var l=!c[s+1]?i+o-e:c[s+1]-e;if(l<=0)return null;var u=s%t.length;return _.createElement("rect",{key:"react-".concat(s),y:e,x:n,height:l,width:a,stroke:"none",fill:t[u],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function gP(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:o,height:s,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var c=l.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==c[0]&&c.unshift(0);var u=c.map((e,t)=>{var l=!c[t+1]?i+o-e:c[t+1]-e;if(l<=0)return null;var u=t%r.length;return _.createElement("rect",{key:"react-".concat(t),x:e,y:a,width:l,height:s,stroke:"none",fill:r[u],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return _.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var mP=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return Cu(VT(oP(oP(oP({},qT),r),{},{ticks:Su(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},yP=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return Cu(VT(oP(oP(oP({},qT),r),{},{ticks:Su(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},vP={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Eb.grid};function wP(e){var t=Cd(),r=Sd(),n=xd(),i=oP(oP({},$l(e,vP)),{},{x:_l(e.x)?e.x:n.left,y:_l(e.y)?e.y:n.top,width:_l(e.width)?e.width:n.width,height:_l(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:o,x:s,y:l,width:c,height:u,syncWithTicks:d,horizontalValues:h,verticalValues:f}=i,p=$u(),g=Qc(e=>XA(e,"xAxis",a,p)),m=Qc(e=>XA(e,"yAxis",o,p));if(!(vu(c)&&vu(u)&&_l(s)&&_l(l)))return null;var y=i.verticalCoordinatesGenerator||mP,v=i.horizontalCoordinatesGenerator||yP,{horizontalPoints:w,verticalPoints:b}=i;if(!(w&&w.length||"function"!=typeof v)){var E=h&&h.length,A=v({yAxis:m?oP(oP({},m),{},{ticks:E?h:m.ticks}):void 0,width:null!=t?t:c,height:null!=r?r:u,offset:n},!!E||d);id(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(w=A)}if(!(b&&b.length||"function"!=typeof y)){var x=f&&f.length,C=y({xAxis:g?oP(oP({},g),{},{ticks:x?f:g.ticks}):void 0,width:null!=t?t:c,height:null!=r?r:u,offset:n},!!x||d);id(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(b=C)}return _.createElement(oS,{zIndex:i.zIndex},_.createElement("g",{className:"recharts-cartesian-grid"},_.createElement(uP,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),_.createElement(pP,lP({},i,{horizontalPoints:w})),_.createElement(gP,lP({},i,{verticalPoints:b})),_.createElement(hP,lP({},i,{offset:n,horizontalPoints:w,xAxis:g,yAxis:m})),_.createElement(fP,lP({},i,{offset:n,verticalPoints:b,xAxis:g,yAxis:m}))))}wP.displayName="CartesianGrid";var bP=wa({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(e=>e.dataKey===n.dataKey&&e.direction===n.direction?i:e))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(e=>e.dataKey!==n.dataKey||e.direction!==n.direction))}}}),{addErrorBar:EP,replaceErrorBar:AP,removeErrorBar:xP}=bP.actions,CP=bP.reducer,SP=["children"];var _P={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},IP=_.createContext(_P);function OP(e){var{children:t}=e,r=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,SP);return _.createElement(IP.Provider,{value:r},t)}function TP(e,t){var r,n,i=Qc(t=>oE(t,e)),a=Qc(e=>cE(e,t)),o=null!==(r=null==i?void 0:i.allowDataOverflow)&&void 0!==r?r:iE.allowDataOverflow,s=null!==(n=null==a?void 0:a.allowDataOverflow)&&void 0!==n?n:sE.allowDataOverflow;return{needClip:o||s,needClipX:o,needClipY:s}}function PP(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=gT(),{needClipX:a,needClipY:o,needClip:s}=TP(t,r);if(!s||!i)return null;var{x:l,y:c,width:u,height:d}=i;return _.createElement("clipPath",{id:"clipPath-".concat(n)},_.createElement("rect",{x:a?l:l-u/2,y:o?c:c-d/2,width:a?u:2*u,height:o?d:2*d}))}var RP=(e,t,r,n)=>qA(e,"xAxis",t,n),MP=(e,t,r,n)=>YA(e,"xAxis",t,n),NP=(e,t,r,n)=>qA(e,"yAxis",r,n),DP=(e,t,r,n)=>YA(e,"yAxis",r,n),jP=Vi([_d,RP,NP,MP,DP],(e,t,r,n,i)=>xu(e,"xAxis")?Nu(t,n,!1):Nu(r,i,!1));function kP(e){return"line"===e.type}var BP=Vi([mE,(e,t,r,n,i)=>i],(e,t)=>e.filter(kP).find(e=>e.id===t)),LP=Vi([_d,RP,NP,MP,DP,BP,jP,Ew],(e,t,r,n,i,a,o,s)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=s;if(null!=a&&null!=t&&null!=r&&null!=n&&null!=i&&0!==n.length&&0!==i.length&&null!=o&&("horizontal"===e||"vertical"===e)){var d,{dataKey:h,data:f}=a;if(null!=(d=null!=f&&f.length>0?f:null==l?void 0:l.slice(c,u+1)))return function(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((e,l)=>{var c=Au(e,o);if("horizontal"===t)return{x:Tu({axis:r,ticks:i,bandSize:s,entry:e,index:l}),y:Dl(c)?null:n.scale(c),value:c,payload:e};var u=Dl(c)?null:r.scale(c),d=Tu({axis:n,ticks:a,bandSize:s,entry:e,index:l});return null==u||null==d?null:{x:u,y:d,value:c,payload:e}}).filter(Boolean)}({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:h,bandSize:o,displayedData:d})}});var FP=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function UP(e,t){return null==e&&null==t||("number"==typeof e&&"number"==typeof t?e===t||e!=e&&t!=t:e===t)}function zP(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(FP.has(n)){if(null==e[n]&&null==t[n])continue;if(!Jr(e[n],t[n]))return!1}else if(!UP(e[n],t[n]))return!1;return!0}var HP=["id"],VP=["type","layout","connectNulls","needClip","shape"],WP=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function GP(){return GP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GP.apply(null,arguments)}function XP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function KP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XP(Object(r),!0).forEach(function(t){YP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function YP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qP(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ZP=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:ju(r,t),payload:e}]},$P=_.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:o,hide:s,unit:l,tooltipType:c,id:u}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:ju(o,t),hide:s,type:c,color:n,unit:l,graphicalItemId:u}};return _.createElement(lO,{tooltipEntrySettings:d})}),QP=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function JP(e,t){for(var r=e.length%2!=0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}function eR(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:o}=n,{id:s}=n,l=Jo(qP(n,HP));return _.createElement($O,{points:r,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:l,needClip:o,clipPathId:t})}function tR(e){var{showLabels:t,children:r,points:n}=e,i=_.useMemo(()=>null==n?void 0:n.map(e=>{var t,r,n={x:null!==(t=e.x)&&void 0!==t?t:0,y:null!==(r=e.y)&&void 0!==r?r:0,width:0,lowerWidth:0,upperWidth:0,height:0};return KP(KP({},n),{},{value:e.value,payload:e.payload,viewBox:n,parentViewBox:void 0,fill:void 0})}),[n]);return _.createElement(tI,{value:t?i:void 0},r)}function rR(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a}=e,{type:o,layout:s,connectNulls:l,needClip:c,shape:u}=a,d=KP(KP({},ts(qP(a,VP))),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:n,type:o,layout:s,connectNulls:l,strokeDasharray:null!=i?i:a.strokeDasharray});return _.createElement(_.Fragment,null,(null==n?void 0:n.length)>1&&_.createElement(oO,GP({shapeType:"curve",option:u},d,{pathRef:r})),_.createElement(eR,{points:n,clipPathId:t,props:a}))}function nR(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:o,strokeDasharray:s,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:d,animateNewValues:h,width:f,height:p,onAnimationEnd:g,onAnimationStart:m}=r,y=i.current,v=Vf(o,"recharts-line-"),w=_.useRef(v),[b,E]=_.useState(!1),A=!b,x=_.useCallback(()=>{"function"==typeof g&&g(),E(!1)},[g]),C=_.useCallback(()=>{"function"==typeof m&&m(),E(!0)},[m]),S=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}(n.current),I=_.useRef(0);w.current!==v&&(I.current=a.current,w.current=v);var O=I.current;return _.createElement(tR,{points:o,showLabels:A},r.children,_.createElement(Hf,{animationId:v,begin:c,duration:u,isActive:l,easing:d,onAnimationEnd:x,onAnimationStart:C,key:v},e=>{var c,u=Ml(O,S+O,e),d=Math.min(u,S);if(l)if(s){var g="".concat(s).split(/[,\s]+/gim).map(e=>parseFloat(e));c=((e,t,r)=>{var n=r.reduce((e,t)=>e+t);if(!n)return QP(t,e);for(var i=Math.floor(e/n),a=e%n,o=t-e,s=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>a){s=[...r.slice(0,l),a-c];break}var u=s.length%2==0?[0,o]:[o];return[...JP(r,i),...s,...u].map(e=>"".concat(e,"px")).join(", ")})(d,S,g)}else c=QP(S,d);else c=null==s?void 0:String(s);if(e>0&&S>0&&(i.current=o,a.current=Math.max(a.current,d)),y){var m=y.length/o.length,v=1===e?o:o.map((t,r)=>{var n=Math.floor(r*m);if(y[n]){var i=y[n];return KP(KP({},t),{},{x:Ml(i.x,t.x,e),y:Ml(i.y,t.y,e)})}return KP(KP({},t),{},h?{x:Ml(2*f,t.x,e),y:Ml(p/2,t.y,e)}:{x:t.x,y:t.y})});return i.current=v,_.createElement(rR,{props:r,points:v,clipPathId:t,pathRef:n,strokeDasharray:c})}return _.createElement(rR,{props:r,points:o,clipPathId:t,pathRef:n,strokeDasharray:c})}),_.createElement(aI,{label:r.label}))}function iR(e){var{clipPathId:t,props:r}=e,n=_.useRef(null),i=_.useRef(0),a=_.useRef(null);return _.createElement(nR,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var aR=(e,t)=>{var r,n;return{x:null!==(r=e.x)&&void 0!==r?r:void 0,y:null!==(n=e.y)&&void 0!==n?n:void 0,value:e.value,errorVal:Au(e.payload,t)}};class oR extends _.Component{render(){var{hide:e,dot:t,points:r,className:n,xAxisId:i,yAxisId:a,top:o,left:s,width:l,height:c,id:u,needClip:d,zIndex:f}=this.props;if(e)return null;var p=h("recharts-line",n),g=u,{r:m,strokeWidth:y}=function(e){var t=es(e);if(null!=t){var{r:r,strokeWidth:n}=t,i=Number(r),a=Number(n);return(Number.isNaN(i)||i<0)&&(i=3),(Number.isNaN(a)||a<0)&&(a=2),{r:i,strokeWidth:a}}return{r:3,strokeWidth:2}}(t),v=FI(t),w=2*m+y,b=d?"url(#clipPath-".concat(v?"":"dots-").concat(g,")"):void 0;return _.createElement(oS,{zIndex:f},_.createElement(ss,{className:p},d&&_.createElement("defs",null,_.createElement(PP,{clipPathId:g,xAxisId:i,yAxisId:a}),!v&&_.createElement("clipPath",{id:"clipPath-dots-".concat(g)},_.createElement("rect",{x:s-w/2,y:o-w/2,width:l+w,height:c+w}))),_.createElement(OP,{xAxisId:i,yAxisId:a,data:r,dataPointFormatter:aR,errorBarOffset:0},_.createElement(iR,{props:this.props,clipPathId:g}))),_.createElement(bT,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:b}))}}var sR={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Eb.line,type:"linear"};function lR(e){var t=$l(e,sR),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:s,dot:l,hide:c,isAnimationActive:u,label:d,legendType:h,xAxisId:f,yAxisId:p,id:g}=t,m=qP(t,WP),{needClip:y}=TP(f,p),v=gT(),w=Id(),b=$u(),E=Qc(e=>LP(e,f,p,b,g));if("horizontal"!==w&&"vertical"!==w||null==E||null==v)return null;var{height:A,width:x,x:C,y:S}=v;return _.createElement(oR,GP({},m,{id:g,connectNulls:s,dot:l,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:u,hide:c,label:d,legendType:h,xAxisId:f,yAxisId:p,points:E,layout:w,height:A,width:x,left:C,top:S,needClip:y}))}function cR(e){var t=$l(e,sR),r=$u();return _.createElement(fO,{id:t.id,type:"line"},e=>_.createElement(_.Fragment,null,_.createElement(cO,{legendPayload:ZP(t)}),_.createElement($P,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:e}),_.createElement(AO,{type:"line",id:e,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),_.createElement(lR,GP({},t,{id:e}))))}var uR=_.memo(cR,zP);uR.displayName="Line";var dR=["domain","range"],hR=["domain","range"];function fR(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pR(e,t){return e===t||!(!Array.isArray(e)||2!==e.length||!Array.isArray(t)||2!==t.length)&&(e[0]===t[0]&&e[1]===t[1])}function gR(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=fR(e,dR),{domain:a,range:o}=t,s=fR(t,hR);return!!pR(r,a)&&(!!pR(n,o)&&zP(i,s))}var mR=["dangerouslySetInnerHTML","ticks","scale"],yR=["id","scale"];function vR(){return vR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vR.apply(null,arguments)}function wR(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bR(e){var t=Yc(),r=_.useRef(null);return _.useLayoutEffect(()=>{null===r.current?t(rT(e)):r.current!==e&&t(nT({prev:r.current,next:e})),r.current=e},[e,t]),_.useLayoutEffect(()=>()=>{r.current&&(t(iT(r.current)),r.current=null)},[t]),null}var ER=e=>{var{xAxisId:t,className:r}=e,n=Qc(qu),i=$u(),a="xAxis",o=Qc(e=>KA(e,a,t,i)),s=Qc(e=>kA(e,t)),l=Qc(e=>FA(e,t)),c=Qc(e=>aE(e,t));if(null==s||null==l||null==c)return null;var{dangerouslySetInnerHTML:u,ticks:d,scale:f}=e,p=wR(e,mR),{id:g,scale:m}=c,y=wR(c,yR);return _.createElement(eP,vR({},p,y,{x:l.x,y:l.y,width:s.width,height:s.height,className:h("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o,axisType:a}))},AR={allowDataOverflow:iE.allowDataOverflow,allowDecimals:iE.allowDecimals,allowDuplicatedCategory:iE.allowDuplicatedCategory,angle:iE.angle,axisLine:qT.axisLine,height:iE.height,hide:!1,includeHidden:iE.includeHidden,interval:iE.interval,minTickGap:iE.minTickGap,mirror:iE.mirror,orientation:iE.orientation,padding:iE.padding,reversed:iE.reversed,scale:iE.scale,tick:iE.tick,tickCount:iE.tickCount,tickLine:qT.tickLine,tickSize:qT.tickSize,type:iE.type,xAxisId:0},xR=e=>{var t=$l(e,AR);return _.createElement(_.Fragment,null,_.createElement(bR,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),_.createElement(ER,t))},CR=_.memo(xR,gR);CR.displayName="XAxis";var SR=["dangerouslySetInnerHTML","ticks","scale"],_R=["id","scale"];function IR(){return IR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IR.apply(null,arguments)}function OR(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function TR(e){var t=Yc(),r=_.useRef(null);return _.useLayoutEffect(()=>{null===r.current?t(aT(e)):r.current!==e&&t(oT({prev:r.current,next:e})),r.current=e},[e,t]),_.useLayoutEffect(()=>()=>{r.current&&(t(sT(r.current)),r.current=null)},[t]),null}var PR=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=_.useRef(null),o=_.useRef(null),s=Qc(qu),l=$u(),c=Yc(),u="yAxis",d=Qc(e=>zA(e,t)),f=Qc(e=>UA(e,t)),p=Qc(e=>KA(e,u,t,l)),g=Qc(e=>lE(e,t));if(_.useLayoutEffect(()=>{if("auto"===n&&d&&!F_(i)&&!_.isValidElement(i)&&null!=g){var e=a.current;if(e){var r=e.getCalculatedWidth();Math.round(d.width)!==Math.round(r)&&c(dT({id:t,width:r}))}}},[p,d,c,i,t,n,g]),null==d||null==f||null==g)return null;var{dangerouslySetInnerHTML:m,ticks:y,scale:v}=e,w=OR(e,SR),{id:b,scale:E}=g,A=OR(g,_R);return _.createElement(eP,IR({},w,A,{ref:a,labelRef:o,x:f.x,y:f.y,tickTextProps:"auto"===n?{width:void 0}:{width:n},width:d.width,height:d.height,className:h("recharts-".concat(u," ").concat(u),r),viewBox:s,ticks:p,axisType:u}))},RR={allowDataOverflow:sE.allowDataOverflow,allowDecimals:sE.allowDecimals,allowDuplicatedCategory:sE.allowDuplicatedCategory,angle:sE.angle,axisLine:qT.axisLine,hide:!1,includeHidden:sE.includeHidden,interval:sE.interval,minTickGap:sE.minTickGap,mirror:sE.mirror,orientation:sE.orientation,padding:sE.padding,reversed:sE.reversed,scale:sE.scale,tick:sE.tick,tickCount:sE.tickCount,tickLine:qT.tickLine,tickSize:qT.tickSize,type:sE.type,width:sE.width,yAxisId:0},MR=e=>{var t=$l(e,RR);return _.createElement(_.Fragment,null,_.createElement(TR,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),_.createElement(PR,t))},NR=_.memo(MR,gR);NR.displayName="YAxis";var DR=Vi([(e,t)=>t,_d,Wb,Qb,sC,dC,BC,Ku],(e,t,r,n,i,a,o,s)=>{if(e&&t&&n&&i&&a)return"horizontal"===t||"vertical"===t?((e,t,r,n,i,a,o)=>{if(e&&r&&n&&i&&function(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}(e,o)){var s=((e,t)=>"horizontal"===t?e.chartX:"vertical"===t?e.chartY:void 0)(e,t),l=NC(s,a,i,r,n),c=((e,t,r,n)=>{var i=t.find(e=>e&&e.index===r);if(i){if("horizontal"===e)return{x:i.coordinate,y:n.chartY};if("vertical"===e)return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}})(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}})(e,t,n,i,a,o,s):XC(e,t,r,n,i,a,o)}),jR=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},kR=qi("mouseClick"),BR=$a();BR.startListening({actionCreator:kR,effect:(e,t)=>{var r=e.payload,n=DR(t.getState(),jR(r));null!=(null==n?void 0:n.activeIndex)&&t.dispatch(px({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var LR=qi("mouseMove"),FR=$a(),UR=null;function zR(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":"children"===e&&"object"==typeof t&&null!==t?"<<CHILDREN>>":t}FR.startListening({actionCreator:LR,effect:(e,t)=>{var r=e.payload;null!==UR&&cancelAnimationFrame(UR);var n=jR(r);UR=requestAnimationFrame(()=>{var e=t.getState();if("axis"===tx(e,e.tooltip.settings.shared)){var r=DR(e,n);null!=(null==r?void 0:r.activeIndex)?t.dispatch(fx({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate})):t.dispatch(dx())}UR=null})}});var HR={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},VR=wa({name:"rootProps",initialState:HR,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(r=t.payload.barGap)&&void 0!==r?r:HR.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),WR=VR.reducer,{updateOptions:GR}=VR.actions,XR=wa({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:KR}=XR.actions,YR=XR.reducer,qR=qi("keyDown"),ZR=qi("focus"),$R=$a();$R.startListening({actionCreator:qR,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var a=xx(n,Lx(r),DE(r),nC(r)),o=null==a?-1:Number(a);if(Number.isFinite(o)&&!(o<0)){var s=dC(r);if("Enter"!==i){var l=o+("ArrowRight"===i?1:-1)*("left-to-right"===$A(r)?1:-1);if(!(null==s||l>=s.length||l<0)){var c=zC(r,"axis","hover",String(l));t.dispatch(mx({active:!0,activeIndex:l.toString(),activeCoordinate:c}))}}else{var u=zC(r,"axis","hover",String(n.index));t.dispatch(mx({active:!n.active,activeIndex:n.index,activeCoordinate:u}))}}}}}}),$R.startListening({actionCreator:ZR,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip;if(!n.active&&null==n.index){var i=zC(r,"axis","hover",String("0"));t.dispatch(mx({active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var QR=qi("externalEvent"),JR=$a(),eM=new Map;JR.startListening({actionCreator:QR,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(null!=r){n.persist();var i=n.type,a=eM.get(i);void 0!==a&&cancelAnimationFrame(a);var o=requestAnimationFrame(()=>{try{var e=t.getState(),a={activeCoordinate:AC(e),activeDataKey:vC(e),activeIndex:mC(e),activeLabel:yC(e),activeTooltipIndex:mC(e),isTooltipActive:xC(e)};r(a,n)}finally{eM.delete(i)}});eM.set(i,o)}}});var tM=Vi([Ix],e=>e.tooltipItemPayloads),rM=Vi([tM,_x,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(e=>e.settings.graphicalItemId===n);if(null!=i){var{positions:a}=i;if(null!=a)return t(a,r)}}),nM=qi("touchMove"),iM=$a();iM.startListening({actionCreator:nM,effect:(e,t)=>{var r=e.payload;if(null!=r.touches&&0!==r.touches.length){var n=t.getState(),i=tx(n,n.tooltip.settings.shared);if("axis"===i){var a=r.touches[0];if(null==a)return;var o=DR(n,jR({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));null!=(null==o?void 0:o.activeIndex)&&t.dispatch(fx({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if("item"===i){var s,l=r.touches[0];if(null==document.elementFromPoint||null==l)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(Hu),d=null!==(s=c.getAttribute(Vu))&&void 0!==s?s:void 0,h=jx(n).find(e=>e.id===d);if(null==u||null==h||null==d)return;var{dataKey:f}=h,p=rM(n,u,d);t.dispatch(cx({activeDataKey:f,activeIndex:u,activeCoordinate:p,activeGraphicalItemId:d}))}}}});var aM=An({brush:ST,cartesianAxis:hT,chartData:IS,errorBars:CP,graphicalItems:bO,layout:gu,legend:xh,options:bS,polarAxis:CI,polarOptions:YR,referenceElements:DT,rootProps:WR,tooltip:yx,zIndex:aS});function oM(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=$u(),a=_.useRef(null);if(i)return r;null==a.current&&(a.current=function(e){return na({reducer:aM,preloadedState:e,middleware:e=>e({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes("es6")}).concat([BR.middleware,FR.middleware,$R.middleware,JR.middleware,iM.middleware]),enhancers:e=>{var t=e;return"function"==typeof e&&(t=e()),t.concat(ra({type:"raf"}))},devTools:{serialize:{replacer:zR},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(t,n));var o=Xc;return _.createElement(an,{context:o,store:a.current},r)}function sM(e){var{layout:t,margin:r}=e,n=Yc(),i=$u();return _.useEffect(()=>{i||(n(hu(t)),n(du(r)))},[n,i,t,r]),null}var lM=_.memo(sM,zP);function cM(e){var t=Yc();return _.useEffect(()=>{t(GR(e))},[t,e]),null}function uM(e){var{zIndex:t,isPanorama:r}=e,n=_.useRef(null),i=Yc();return _.useLayoutEffect(()=>(n.current&&i(nS({zIndex:t,element:n.current,isPanorama:r})),()=>{i(iS({zIndex:t,isPanorama:r}))}),[i,t,r]),_.createElement("g",{tabIndex:-1,ref:n})}function dM(e){var{children:t,isPanorama:r}=e,n=Qc(YC);if(!n||0===n.length)return t;var i=n.filter(e=>e<0),a=n.filter(e=>e>0);return _.createElement(_.Fragment,null,i.map(e=>_.createElement(uM,{key:e,zIndex:e,isPanorama:r})),t,a.map(e=>_.createElement(uM,{key:e,zIndex:e,isPanorama:r})))}var hM=["children"];function fM(){return fM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fM.apply(null,arguments)}var pM={width:"100%",height:"100%",display:"block"},gM=_.forwardRef((e,t)=>{var r=Cd(),n=Sd(),i=qh();if(!vu(r)||!vu(n))return null;var a,o,{children:s,otherAttributes:l,title:c,desc:u}=e;return null!=l&&(a="number"==typeof l.tabIndex?l.tabIndex:i?0:void 0,o="string"==typeof l.role?l.role:i?"application":void 0),_.createElement(is,fM({},l,{title:c,desc:u,role:o,tabIndex:a,width:r,height:n,style:pM,ref:t}),s)}),mM=e=>{var{children:t}=e,r=Qc(Ju);if(!r)return null;var{width:n,height:i,y:a,x:o}=r;return _.createElement(is,{width:n,height:i,x:o,y:a},t)},yM=_.forwardRef((e,t)=>{var{children:r}=e,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,hM);return $u()?_.createElement(mM,null,_.createElement(dM,{isPanorama:!0},r)):_.createElement(gM,fM({ref:t},n),_.createElement(dM,{isPanorama:!1},r))});function vM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vM(Object(r),!0).forEach(function(t){bM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function bM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EM(){return EM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EM.apply(null,arguments)}var AM=()=>(NS(),null);function xM(e){if("number"==typeof e)return e;if("string"==typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var CM=_.forwardRef((e,t)=>{var r,n,i=_.useRef(null),[a,o]=_.useState({containerWidth:xM(null===(r=e.style)||void 0===r?void 0:r.width),containerHeight:xM(null===(n=e.style)||void 0===n?void 0:n.height)}),s=_.useCallback((e,t)=>{o(r=>{var n=Math.round(e),i=Math.round(t);return r.containerWidth===n&&r.containerHeight===i?r:{containerWidth:n,containerHeight:i}})},[]),l=_.useCallback(e=>{if("function"==typeof t&&t(e),null!=e&&"undefined"!=typeof ResizeObserver){var{width:r,height:n}=e.getBoundingClientRect();s(r,n);var a=new ResizeObserver(e=>{var{width:t,height:r}=e[0].contentRect;s(t,r)});a.observe(e),i.current=a}},[t,s]);return _.useEffect(()=>()=>{var e=i.current;null!=e&&e.disconnect()},[s]),_.createElement(_.Fragment,null,_.createElement(Od,{width:a.containerWidth,height:a.containerHeight}),_.createElement("div",EM({ref:l},e)))}),SM=_.forwardRef((e,t)=>{var{width:r,height:n}=e,[i,a]=_.useState({containerWidth:xM(r),containerHeight:xM(n)}),o=_.useCallback((e,t)=>{a(r=>{var n=Math.round(e),i=Math.round(t);return r.containerWidth===n&&r.containerHeight===i?r:{containerWidth:n,containerHeight:i}})},[]),s=_.useCallback(e=>{if("function"==typeof t&&t(e),null!=e){var{width:r,height:n}=e.getBoundingClientRect();o(r,n)}},[t,o]);return _.createElement(_.Fragment,null,_.createElement(Od,{width:i.containerWidth,height:i.containerHeight}),_.createElement("div",EM({ref:s},e)))}),_M=_.forwardRef((e,t)=>{var{width:r,height:n}=e;return _.createElement(_.Fragment,null,_.createElement(Od,{width:r,height:n}),_.createElement("div",EM({ref:t},e)))}),IM=_.forwardRef((e,t)=>{var{width:r,height:n}=e;return Sl(r)||Sl(n)?_.createElement(SM,EM({},e,{ref:t})):_.createElement(_M,EM({},e,{ref:t}))});var OM=_.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:d,onMouseUp:f,onTouchEnd:p,onTouchMove:g,onTouchStart:m,style:y,width:v,responsive:w,dispatchTouchEvents:b=!0}=e,E=_.useRef(null),A=Yc(),[x,C]=_.useState(null),[S,I]=_.useState(null),O=function(){var e=Yc(),[t,r]=_.useState(null),n=Qc(Lu);return _.useEffect(()=>{if(null!=t){var r=t.getBoundingClientRect().width/t.offsetWidth;yu(r)&&r!==n&&e(pu(r))}},[t,e,n]),r}(),T=yd(),P=(null==T?void 0:T.width)>0?T.width:v,R=(null==T?void 0:T.height)>0?T.height:i,M=_.useCallback(e=>{O(e),"function"==typeof t&&t(e),C(e),I(e),null!=e&&(E.current=e)},[O,t,C,I]),N=_.useCallback(e=>{A(kR(e)),A(QR({handler:a,reactEvent:e}))},[A,a]),D=_.useCallback(e=>{A(LR(e)),A(QR({handler:c,reactEvent:e}))},[A,c]),j=_.useCallback(e=>{A(dx()),A(QR({handler:u,reactEvent:e}))},[A,u]),k=_.useCallback(e=>{A(LR(e)),A(QR({handler:d,reactEvent:e}))},[A,d]),B=_.useCallback(()=>{A(ZR())},[A]),L=_.useCallback(e=>{A(qR(e.key))},[A]),F=_.useCallback(e=>{A(QR({handler:o,reactEvent:e}))},[A,o]),U=_.useCallback(e=>{A(QR({handler:s,reactEvent:e}))},[A,s]),z=_.useCallback(e=>{A(QR({handler:l,reactEvent:e}))},[A,l]),H=_.useCallback(e=>{A(QR({handler:f,reactEvent:e}))},[A,f]),V=_.useCallback(e=>{A(QR({handler:m,reactEvent:e}))},[A,m]),W=_.useCallback(e=>{b&&A(nM(e)),A(QR({handler:g,reactEvent:e}))},[A,b,g]),G=_.useCallback(e=>{A(QR({handler:p,reactEvent:e}))},[A,p]),X=function(e){return!0===e?CM:IM}(w);return _.createElement(pS.Provider,{value:x},_.createElement(ls.Provider,{value:S},_.createElement(X,{width:null!=P?P:null==y?void 0:y.width,height:null!=R?R:null==y?void 0:y.height,className:h("recharts-wrapper",n),style:wM({position:"relative",cursor:"default",width:P,height:R},y),onClick:N,onContextMenu:F,onDoubleClick:U,onFocus:B,onKeyDown:L,onMouseDown:z,onMouseEnter:D,onMouseLeave:j,onMouseMove:k,onMouseUp:H,onTouchEnd:G,onTouchMove:W,onTouchStart:V,ref:M},_.createElement(AM,null),r)))}),TM=["width","height","responsive","children","className","style","compact","title","desc"];var PM=_.forwardRef((e,t)=>{var{width:r,height:n,responsive:i,children:a,className:o,style:s,compact:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,TM),h=Jo(d);return l?_.createElement(_.Fragment,null,_.createElement(Od,{width:r,height:n}),_.createElement(yM,{otherAttributes:h,title:c,desc:u},a)):_.createElement(OM,{className:o,style:s,width:r,height:n,responsive:null!=i&&i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},_.createElement(yM,{otherAttributes:h,title:c,desc:u,ref:t},_.createElement(kT,null,a)))});function RM(){return RM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RM.apply(null,arguments)}var MM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:{top:5,right:5,bottom:5,left:5},responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},NM=_.forwardRef(function(e,t){var r,n=$l(e.categoricalChartProps,MM),{chartName:i,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,categoricalChartProps:l}=e,c={chartName:i,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,eventEmitter:void 0};return _.createElement(oM,{preloadedState:{options:c},reduxStoreName:null!==(r=l.id)&&void 0!==r?r:i},_.createElement(ET,{chartData:l.data}),_.createElement(lM,{layout:n.layout,margin:n.margin}),_.createElement(cM,{baseValue:n.baseValue,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className,reverseStackOrder:n.reverseStackOrder}),_.createElement(PM,RM({},n,{ref:t})))}),DM=["axis"],jM=_.forwardRef((e,t)=>_.createElement(NM,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:DM,tooltipPayloadSearcher:vS,categoricalChartProps:e,ref:t}));function kM(e){var t=Yc();return _.useEffect(()=>{t(KR(e))},[t,e]),null}var BM=["layout"];function LM(){return LM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LM.apply(null,arguments)}var FM={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},UM=_.forwardRef(function(e,t){var r,n=$l(e.categoricalChartProps,FM),{layout:i}=n,a=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(n,BM),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c}=e,u={chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return _.createElement(oM,{preloadedState:{options:u},reduxStoreName:null!==(r=n.id)&&void 0!==r?r:o},_.createElement(ET,{chartData:n.data}),_.createElement(lM,{layout:i,margin:n.margin}),_.createElement(cM,{baseValue:void 0,accessibilityLayer:n.accessibilityLayer,barCategoryGap:n.barCategoryGap,maxBarSize:n.maxBarSize,stackOffset:n.stackOffset,barGap:n.barGap,barSize:n.barSize,syncId:n.syncId,syncMethod:n.syncMethod,className:n.className,reverseStackOrder:n.reverseStackOrder}),_.createElement(kM,{cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius}),_.createElement(PM,LM({},a,{ref:t})))});function zM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function HM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zM(Object(r),!0).forEach(function(t){VM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function VM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var WM=["item"],GM=HM(HM({},FM),{},{layout:"centric",startAngle:0,endAngle:360}),XM=_.forwardRef((e,t)=>{var r=$l(e,GM);return _.createElement(UM,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:WM,tooltipPayloadSearcher:vS,categoricalChartProps:r,ref:t})});const KM={status:"idle",error:null,chainStats:{totalSold:"0",totalRewardDistributed:"0",isPaused:!1,isEnded:!1,badgeThresholds:{member:"0",city:"0",province:"0",national:"0"}},historicalData:[],badgeDistribution:[{name:"0级",value:0},{name:"1级",value:0},{name:"2级",value:0},{name:"3级",value:0},{name:"4级",value:0}],isLoading:!1},YM=fa("statistics/fetchAllStats",async(e,{rejectWithValue:t})=>{try{const e=new p(window.ethereum),t=Nr(Ir,Cr,e),r=Nr(Or,Sr,e),[n,i,a,o,s,l,c,u]=await Promise.all([r.totalSold(),r.totalRewardDistributed(),r.isPaused(),r.isEnded(),t.MEMBER_BADGE_THRESHOLD(),t.CITY_BADGE_THRESHOLD(),t.PROVINCE_BADGE_THRESHOLD(),t.NATIONAL_BADGE_THRESHOLD()]),[d,h,f,m,y]=await Promise.all([t.getBadgeCount(0),t.getBadgeCount(1),t.getBadgeCount(2),t.getBadgeCount(3),t.getBadgeCount(4)]),v=[{name:"0级",value:Number(d)},{name:"1级",value:Number(h)},{name:"2级",value:Number(f)},{name:"3级",value:Number(m)},{name:"4级",value:Number(y)}];return{totalSold:parseFloat(g(n)).toString(),totalRewardDistributed:parseFloat(g(i)).toString(),isPaused:a,isEnded:o,badgeThresholds:{member:parseFloat(g(s)).toString(),city:parseFloat(g(l)).toString(),province:parseFloat(g(c)).toString(),national:parseFloat(g(u)).toString()},badgeDistribution:v,timestamp:(new Date).toLocaleTimeString()}}catch(r){return t(r.message||"获取统计数据失败")}}),qM=wa({name:"statistics",initialState:KM,reducers:{resetState:()=>KM},extraReducers:e=>{e.addCase(YM.pending,e=>{e.status="loading",e.isLoading=!0}).addCase(YM.fulfilled,(e,t)=>{e.status="succeeded",e.isLoading=!1;const{totalSold:r,totalRewardDistributed:n,isPaused:i,isEnded:a,badgeThresholds:o,badgeDistribution:s,timestamp:l}=t.payload;(e.chainStats.totalSold!==r||e.chainStats.totalRewardDistributed!==n||e.chainStats.isPaused!==i||e.chainStats.isEnded!==a||e.chainStats.badgeThresholds.member!==o.member||e.chainStats.badgeThresholds.city!==o.city||e.chainStats.badgeThresholds.province!==o.province||e.chainStats.badgeThresholds.national!==o.national)&&(e.chainStats={totalSold:r,totalRewardDistributed:n,isPaused:i,isEnded:a,badgeThresholds:o});JSON.stringify(e.badgeDistribution)!==JSON.stringify(s)&&(e.badgeDistribution=s),e.historicalData=[...e.historicalData,{time:l,totalSold:parseFloat(r),totalRewardDistributed:parseFloat(n)}].slice(-20)}).addCase(YM.rejected,(e,t)=>{e.status="failed",e.isLoading=!1,e.error=t.payload||"获取统计数据失败"})}}),{resetState:ZM}=qM.actions,$M=qM.reducer,{Title:QM,Text:JM}=J,eN=()=>{const e=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],t=pn(),{chainStats:n,historicalData:i,badgeDistribution:a,isLoading:o}=gn(e=>e.statistics);return _.useEffect(()=>{t(YM())},[t]),r.jsxs("div",{style:{padding:"20px",backgroundColor:ft.background,minHeight:"100vh"},children:[r.jsxs(QM,{level:2,style:{marginBottom:"24px",textAlign:"center",color:ft.text},children:[r.jsx(et,{style:{marginRight:"8px"}}),"链上数据统计面板"]}),r.jsxs(ee,{spinning:o,children:[r.jsx(te,{gutter:[16,16],style:{marginBottom:"24px"},children:r.jsx(re,{span:24,children:r.jsx(ne,{title:"链上实时数据",loading:o,style:{backgroundColor:ft.cardBackground,border:`1px solid ${ft.border}`,borderRadius:mt.borderRadius},children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:6,children:r.jsx(ie,{title:"总售出数量",value:parseFloat(n.totalSold).toFixed(2),prefix:r.jsx(Ce,{}),valueStyle:{color:"#1890ff"}})}),r.jsx(re,{span:6,children:r.jsx(ie,{title:"总奖励分配",value:parseFloat(n.totalRewardDistributed).toFixed(2),prefix:r.jsx(et,{}),valueStyle:{color:"#52c41a"}})}),r.jsx(re,{span:6,children:r.jsx(ie,{title:"销售状态",value:n.isEnded?"已结束":n.isPaused?"已暂停":"进行中",valueStyle:{color:n.isEnded?"#ff4d4f":n.isPaused?"#faad14":"#52c41a"}})}),r.jsx(re,{span:6,children:r.jsx(ie,{title:"徽章1级阈值",value:parseFloat(n.badgeThresholds.member).toFixed(2),prefix:r.jsx(et,{}),valueStyle:{color:"#32cd32"}})})]})})})}),r.jsxs(te,{gutter:[16,16],style:{marginBottom:"24px"},children:[r.jsx(re,{span:12,children:r.jsx(ne,{title:r.jsxs(ae,{children:[r.jsx(Pe,{})," 销售趋势"]}),loading:o,style:{backgroundColor:ft.cardBackground,border:`1px solid ${ft.border}`,borderRadius:mt.borderRadius},children:r.jsx(wd,{width:"100%",height:300,children:r.jsxs(jM,{data:i,children:[r.jsx(wP,{strokeDasharray:"3 3"}),r.jsx(CR,{dataKey:"time"}),r.jsx(NR,{}),r.jsx(zS,{}),r.jsx(Dh,{}),r.jsx(uR,{type:"monotone",dataKey:"totalSold",name:"总售出数量",stroke:"#1890ff",activeDot:{r:8},strokeWidth:2}),r.jsx(uR,{type:"monotone",dataKey:"totalRewardDistributed",name:"总奖励分配",stroke:"#52c41a",strokeWidth:2})]})})})}),r.jsx(re,{span:12,children:r.jsx(ne,{title:r.jsxs(ae,{children:[r.jsx(Fe,{})," 徽章等级分布"]}),loading:o,style:{backgroundColor:ft.cardBackground,border:`1px solid ${ft.border}`,borderRadius:mt.borderRadius},children:r.jsx(wd,{width:"100%",height:300,children:r.jsxs(XM,{children:[r.jsx(WO,{data:a,cx:"50%",cy:"50%",labelLine:!0,label:({name:e,percent:t})=>`${e} ${t?(100*t).toFixed(0):"0"}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:a.map((t,n)=>r.jsx(HS,{fill:e[n%e.length]},`cell-${n}`))}),r.jsx(zS,{}),r.jsx(Dh,{})]})})})})]}),r.jsx(te,{gutter:[16,16],style:{marginBottom:"24px"},children:r.jsx(re,{span:24,children:r.jsx(ne,{title:r.jsxs(ae,{children:[r.jsx(ve,{})," 徽章阈值进度"]}),loading:o,style:{backgroundColor:ft.cardBackground,border:`1px solid ${ft.border}`,borderRadius:mt.borderRadius},children:r.jsxs(ae,{direction:"vertical",style:{width:"100%"},children:[r.jsxs("div",{children:[r.jsx(JM,{strong:!0,children:"会员徽章 (0.11)"}),r.jsx(oe,{percent:parseFloat(n.totalSold)>10?100:10*parseFloat(n.totalSold),status:"active",strokeColor:"#32cd32"})]}),r.jsxs("div",{children:[r.jsx(JM,{strong:!0,children:"市级徽章 (0.55)"}),r.jsx(oe,{percent:parseFloat(n.totalSold)>50?100:2*parseFloat(n.totalSold),status:"active",strokeColor:"#4682b4"})]}),r.jsxs("div",{children:[r.jsx(JM,{strong:!0,children:"省级徽章 (2.75)"}),r.jsx(oe,{percent:parseFloat(n.totalSold)>200?100:.5*parseFloat(n.totalSold),status:"active",strokeColor:"#9370db"})]}),r.jsxs("div",{children:[r.jsx(JM,{strong:!0,children:"国级徽章 (13.75)"}),r.jsx(oe,{percent:parseFloat(n.totalSold)>500?100:.2*parseFloat(n.totalSold),status:"active",strokeColor:"#ffd700"})]})]})})})})]}),r.jsxs("div",{style:{textAlign:"center",color:ft.textSecondary,marginTop:"24px"},children:[r.jsx(se,{style:{marginRight:"4px"}}),"数据实时更新"]})]})},tN={status:"idle",error:null,ownerAddress:null,isConnectedAsOwner:!1},rN=fa("owner/fetchOwnerAddress",async(e,{rejectWithValue:t})=>{try{const e=Nr(Or,Sr);return await e.owner()}catch(r){return t(r.message||"获取所有者地址失败")}}),nN=fa("owner/checkIsConnectedAsOwner",async(e,{rejectWithValue:t,getState:r})=>{try{let t=r().owner.ownerAddress;if(!t){const e=Nr(Or,Sr);t=await e.owner()}return{isConnectedAsOwner:!(!e||!t)&&e.toLowerCase()===t.toLowerCase(),ownerAddress:t}}catch(n){return t(n.message||"检查所有者身份失败")}}),iN=wa({name:"owner",initialState:tN,reducers:{resetOwnerState:()=>tN},extraReducers:e=>{e.addCase(rN.pending,e=>{e.status="loading"}).addCase(rN.fulfilled,(e,t)=>{e.status="succeeded",e.ownerAddress=t.payload}).addCase(rN.rejected,(e,t)=>{e.status="failed",e.error=t.payload||"获取所有者地址失败"}).addCase(nN.pending,e=>{e.status="loading"}).addCase(nN.fulfilled,(e,t)=>{e.status="succeeded",e.ownerAddress=t.payload.ownerAddress,e.isConnectedAsOwner=t.payload.isConnectedAsOwner}).addCase(nN.rejected,(e,t)=>{e.status="failed",e.error=t.payload||"检查所有者身份失败"})}}),{resetOwnerState:aN}=iN.actions,oN=iN.reducer,{Title:sN}=J,lN=()=>{const e=pn(),{chainStats:t,isLoading:i}=gn(e=>e.statistics),{ownerAddress:a,isConnectedAsOwner:o,status:s,error:l}=gn(e=>e.owner),{address:c,isConnected:u}=n(),[d,h]=N.useState(!1),[f,p]=N.useState("pause"),[g,m]=N.useState(!1);_.useEffect(()=>{e(rN());const t=setInterval(()=>{e(YM())},3e4);return()=>clearInterval(t)},[e]),_.useEffect(()=>{e(nN(c||null))},[c,e]),_.useEffect(()=>{o&&e(YM())},[o,e]);const y=e=>{p(e),h(!0)},v=async()=>{try{m(!0),h(!1),e(YM())}catch(t){}finally{m(!1)}},w=async()=>{try{m(!0),h(!1),e(YM())}catch(t){}finally{m(!1)}},b=[{key:"contract",label:"合约功能与数据",children:r.jsxs(le,{defaultActiveKey:"contract-function",children:[r.jsx(le.TabPane,{tab:"功能管理",children:r.jsxs(le,{defaultActiveKey:"sales-management",children:[r.jsx(le.TabPane,{tab:"销售管理",children:r.jsx(te,{gutter:[16,16],children:r.jsx(re,{span:24,children:r.jsx(ne,{title:"销售管理功能",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:12,children:r.jsx(W,{type:"primary",icon:r.jsx(Ne,{}),onClick:()=>y("pause"),disabled:t.isPaused||t.isEnded,block:!0,children:"暂停销售"})}),r.jsx(re,{span:12,children:r.jsx(W,{type:"primary",icon:r.jsx(nt,{}),onClick:()=>y("pause"),disabled:!t.isPaused||t.isEnded,block:!0,children:"继续销售"})}),r.jsx(re,{span:12,children:r.jsx(W,{type:"primary",danger:!0,icon:r.jsx(Ee,{}),onClick:()=>y("end"),disabled:t.isEnded,block:!0,children:"结束销售"})}),r.jsx(re,{span:12,children:r.jsx(W,{type:"default",block:!0,children:"查看销售状态"})})]})})})})},"sales-management"),r.jsx(le.TabPane,{tab:"私募池管理",children:r.jsx(te,{gutter:[16,16],children:r.jsx(re,{span:24,children:r.jsx(ne,{title:"私募池管理功能",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:12,children:r.jsx(W,{type:"primary",block:!0,children:"存入私募池代币"})}),r.jsx(re,{span:12,children:r.jsx(W,{type:"default",block:!0,children:"查看私募池余额"})}),r.jsx(re,{span:12,children:r.jsx(W,{type:"default",block:!0,children:"查看私募池总大小"})}),r.jsx(re,{span:12,children:r.jsx(W,{type:"default",block:!0,children:"查看剩余私募额度"})})]})})})})},"private-pool-management"),r.jsx(le.TabPane,{tab:"奖励池管理",children:r.jsx(te,{gutter:[16,16],children:r.jsx(re,{span:24,children:r.jsx(ne,{title:"奖励池管理功能",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:12,children:r.jsx(W,{type:"primary",block:!0,children:"存入奖励池代币"})}),r.jsx(re,{span:12,children:r.jsx(W,{type:"default",block:!0,children:"查看奖励池余额"})}),r.jsx(re,{span:12,children:r.jsx(W,{type:"default",block:!0,children:"查看奖励池总大小"})}),r.jsx(re,{span:12,children:r.jsx(W,{type:"default",block:!0,children:"查看剩余奖励额度"})})]})})})})},"reward-pool-management"),r.jsx(le.TabPane,{tab:"自动代币分配",children:r.jsx(te,{gutter:[16,16],children:r.jsx(re,{span:24,children:r.jsx(ne,{title:"自动代币分配功能",children:r.jsx(te,{gutter:[16,16],children:r.jsx(re,{span:24,children:r.jsx(W,{type:"primary",block:!0,children:"自动分配代币"})})})})})})},"auto-token-distribution"),r.jsx(le.TabPane,{tab:"推荐系统管理",children:r.jsx(te,{gutter:[16,16],children:r.jsx(re,{span:24,children:r.jsx(ne,{title:"推荐系统管理功能",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:12,children:r.jsx(W,{type:"primary",block:!0,children:"设置私募合约地址"})}),r.jsx(re,{span:12,children:r.jsx(W,{type:"default",block:!0,children:"检查推荐人资格"})})]})})})})},"referral-system-management"),r.jsx(le.TabPane,{tab:"徽章系统管理",children:r.jsx(te,{gutter:[16,16],children:r.jsx(re,{span:24,children:r.jsx(ne,{title:"徽章系统管理功能",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:12,children:r.jsx(W,{type:"primary",block:!0,children:"冻结徽章"})}),r.jsx(re,{span:12,children:r.jsx(W,{type:"default",block:!0,children:"查看徽章冻结状态"})}),r.jsx(re,{span:12,children:r.jsx(W,{type:"default",block:!0,children:"检查徽章资格"})})]})})})})},"badge-system-management"),r.jsx(le.TabPane,{tab:"分红系统管理",children:r.jsx(te,{gutter:[16,16],children:r.jsx(re,{span:24,children:r.jsx(ne,{title:"分红系统管理功能",children:r.jsx(te,{gutter:[16,16],children:r.jsx(re,{span:24,children:r.jsx(W,{type:"primary",block:!0,children:"注入分红资金"})})})})})})},"dividend-system-management"),r.jsx(le.TabPane,{tab:"财务管理",children:r.jsx(te,{gutter:[16,16],children:r.jsx(re,{span:24,children:r.jsx(ne,{title:"财务管理功能",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:12,children:r.jsx(W,{type:"primary",block:!0,children:"提取USDT"})}),r.jsx(re,{span:12,children:r.jsx(W,{type:"primary",danger:!0,block:!0,children:"紧急提取代币"})}),r.jsx(re,{span:12,children:r.jsx(W,{type:"default",block:!0,children:"查看合约USDT余额"})}),r.jsx(re,{span:12,children:r.jsx(W,{type:"default",block:!0,children:"查看合约SCIA余额"})})]})})})})},"financial-management"),r.jsx(le.TabPane,{tab:"系统设置",children:r.jsx(te,{gutter:[16,16],children:r.jsx(re,{span:24,children:r.jsx(ne,{title:"系统设置功能",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:12,children:r.jsx(W,{type:"default",block:!0,children:"查看SCIA代币地址"})}),r.jsx(re,{span:12,children:r.jsx(W,{type:"default",block:!0,children:"查看USDT代币地址"})}),r.jsx(re,{span:12,children:r.jsx(W,{type:"default",block:!0,children:"查看推荐中心地址"})})]})})})})},"system-settings")]})},"contract-function"),r.jsx(le.TabPane,{tab:"数据监控",children:r.jsxs(le,{defaultActiveKey:"sales-data",children:[r.jsx(le.TabPane,{tab:"销售数据",children:r.jsx(ne,{title:"销售数据监控",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:8,children:r.jsx(ie,{title:"销售状态",value:t.isEnded?"已结束":t.isPaused?"已暂停":"进行中",valueStyle:{color:t.isEnded?"#ff4d4f":t.isPaused?"#faad14":"#52c41a"}})}),r.jsx(re,{span:8,children:r.jsx(ie,{title:"已售SCIA总量",value:parseFloat(t.totalSold).toFixed(2),valueStyle:{color:"#1890ff"}})}),r.jsx(re,{span:8,children:r.jsx(ie,{title:"已分发奖励",value:parseFloat(t.totalRewardDistributed).toFixed(2),valueStyle:{color:"#52c41a"}})}),r.jsx(re,{span:8,children:r.jsx(ie,{title:"私募池余额",value:0,valueStyle:{color:"#faad14"}})}),r.jsx(re,{span:8,children:r.jsx(ie,{title:"奖励池余额",value:0,valueStyle:{color:"#722ed1"}})}),r.jsx(re,{span:8,children:r.jsx(ie,{title:"剩余私募额度",value:0,valueStyle:{color:"#ff7875"}})})]})})},"sales-data"),r.jsx(le.TabPane,{tab:"推荐数据",children:r.jsx(ne,{title:"推荐数据监控",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:8,children:r.jsx(ie,{title:"推荐关系总数",value:0,valueStyle:{color:"#1890ff"}})}),r.jsx(re,{span:8,children:r.jsx(ie,{title:"活跃推荐人数",value:0,valueStyle:{color:"#52c41a"}})}),r.jsx(re,{span:8,children:r.jsx(ie,{title:"被推荐人数",value:0,valueStyle:{color:"#faad14"}})})]})})},"referral-data"),r.jsx(le.TabPane,{tab:"积分数据",children:r.jsx(ne,{title:"积分数据监控",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:8,children:r.jsx(ie,{title:"总积分发放",value:0,valueStyle:{color:"#1890ff"}})}),r.jsx(re,{span:8,children:r.jsx(ie,{title:"平均用户积分",value:0,valueStyle:{color:"#52c41a"}})}),r.jsx(re,{span:8,children:r.jsx(ie,{title:"最高积分用户",value:"0x...",valueStyle:{color:"#faad14"}})})]})})},"points-data"),r.jsx(le.TabPane,{tab:"徽章数据",children:r.jsx(ne,{title:"徽章数据监控",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:6,children:r.jsx(ie,{title:"会员徽章数量",value:0,valueStyle:{color:"#1890ff"}})}),r.jsx(re,{span:6,children:r.jsx(ie,{title:"市级徽章数量",value:0,valueStyle:{color:"#52c41a"}})}),r.jsx(re,{span:6,children:r.jsx(ie,{title:"省级徽章数量",value:0,valueStyle:{color:"#faad14"}})}),r.jsx(re,{span:6,children:r.jsx(ie,{title:"国级徽章数量",value:0,valueStyle:{color:"#722ed1"}})}),r.jsx(re,{span:12,children:r.jsx(ie,{title:"徽章总数",value:0,valueStyle:{color:"#ff7875"}})}),r.jsx(re,{span:12,children:r.jsx(ie,{title:"徽章冻结状态",value:"未冻结",valueStyle:{color:"#52c41a"}})})]})})},"badge-data"),r.jsx(le.TabPane,{tab:"分红数据",children:r.jsx(ne,{title:"分红数据监控",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:8,children:r.jsx(ie,{title:"总分红金额",value:0,prefix:r.jsx(Ce,{}),valueStyle:{color:"#1890ff"}})}),r.jsx(re,{span:8,children:r.jsx(ie,{title:"已领取分红总额",value:0,prefix:r.jsx(Ce,{}),valueStyle:{color:"#52c41a"}})}),r.jsx(re,{span:8,children:r.jsx(ie,{title:"未领取分红总额",value:0,prefix:r.jsx(Ce,{}),valueStyle:{color:"#faad14"}})})]})})},"dividend-data"),r.jsx(le.TabPane,{tab:"财务数据",children:r.jsx(ne,{title:"财务数据监控",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:8,children:r.jsx(ie,{title:"合约USDT余额",value:0,prefix:r.jsx(Ce,{}),valueStyle:{color:"#1890ff"}})}),r.jsx(re,{span:8,children:r.jsx(ie,{title:"合约SCIA余额",value:0,valueStyle:{color:"#52c41a"}})}),r.jsx(re,{span:8,children:r.jsx(ie,{title:"USDT提取总额",value:0,prefix:r.jsx(Ce,{}),valueStyle:{color:"#faad14"}})})]})})},"financial-data"),r.jsx(le.TabPane,{tab:"系统状态数据",children:r.jsx(ne,{title:"系统状态数据监控",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:8,children:r.jsx(ie,{title:"私募合约地址",value:"0x...",valueStyle:{color:"#1890ff"}})}),r.jsx(re,{span:8,children:r.jsx(ie,{title:"SCIA代币地址",value:"0x...",valueStyle:{color:"#52c41a"}})}),r.jsx(re,{span:8,children:r.jsx(ie,{title:"推荐中心地址",value:"0x...",valueStyle:{color:"#faad14"}})})]})})},"system-status-data")]})},"contract-monitoring")]})},{key:"dapp",label:"DAPP功能与数据",children:r.jsxs(le,{defaultActiveKey:"dapp-function",children:[r.jsx(le.TabPane,{tab:"功能管理",children:r.jsxs(le,{defaultActiveKey:"wallet-functions",children:[r.jsx(le.TabPane,{tab:"钱包功能",children:r.jsx(te,{gutter:[16,16],children:r.jsx(re,{span:24,children:r.jsx(ne,{title:"钱包功能管理",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:8,children:r.jsx(W,{type:"primary",block:!0,children:"连接钱包"})}),r.jsx(re,{span:8,children:r.jsx(W,{type:"default",block:!0,children:"断开钱包"})}),r.jsx(re,{span:8,children:r.jsx(W,{type:"default",block:!0,children:"刷新余额"})})]})})})})},"wallet-functions"),r.jsx(le.TabPane,{tab:"私募购买功能",children:r.jsx(te,{gutter:[16,16],children:r.jsx(re,{span:24,children:r.jsx(ne,{title:"私募购买功能管理",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:8,children:r.jsx(W,{type:"primary",block:!0,children:"授权USDT"})}),r.jsx(re,{span:8,children:r.jsx(W,{type:"primary",block:!0,children:"参与私募"})}),r.jsx(re,{span:8,children:r.jsx(W,{type:"default",block:!0,children:"查看购买记录"})})]})})})})},"private-sale-functions"),r.jsx(le.TabPane,{tab:"推荐系统功能",children:r.jsx(te,{gutter:[16,16],children:r.jsx(re,{span:24,children:r.jsx(ne,{title:"推荐系统功能管理",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:12,children:r.jsx(W,{type:"default",block:!0,children:"查看推荐链接"})}),r.jsx(re,{span:12,children:r.jsx(W,{type:"default",block:!0,children:"复制推荐链接"})})]})})})})},"referral-system-functions"),r.jsx(le.TabPane,{tab:"积分系统功能",children:r.jsx(te,{gutter:[16,16],children:r.jsx(re,{span:24,children:r.jsx(ne,{title:"积分系统功能管理",children:r.jsx(te,{gutter:[16,16],children:r.jsx(re,{span:24,children:r.jsx(W,{type:"default",block:!0,children:"查看积分"})})})})})})},"points-system-functions"),r.jsx(le.TabPane,{tab:"徽章系统功能",children:r.jsx(te,{gutter:[16,16],children:r.jsx(re,{span:24,children:r.jsx(ne,{title:"徽章系统功能管理",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:12,children:r.jsx(W,{type:"default",block:!0,children:"查看徽章"})}),r.jsx(re,{span:12,children:r.jsx(W,{type:"default",block:!0,children:"查看徽章进度"})})]})})})})},"badge-system-functions"),r.jsx(le.TabPane,{tab:"分红系统功能",children:r.jsx(te,{gutter:[16,16],children:r.jsx(re,{span:24,children:r.jsx(ne,{title:"分红系统功能管理",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:12,children:r.jsx(W,{type:"default",block:!0,children:"查看可领取分红"})}),r.jsx(re,{span:12,children:r.jsx(W,{type:"primary",block:!0,children:"领取分红"})})]})})})})},"dividend-system-functions"),r.jsx(le.TabPane,{tab:"个人中心功能",children:r.jsx(te,{gutter:[16,16],children:r.jsx(re,{span:24,children:r.jsx(ne,{title:"个人中心功能管理",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:8,children:r.jsx(W,{type:"default",block:!0,children:"编辑资料"})}),r.jsx(re,{span:8,children:r.jsx(W,{type:"primary",block:!0,children:"保存资料"})}),r.jsx(re,{span:8,children:r.jsx(W,{type:"default",block:!0,children:"上传头像"})})]})})})})},"profile-functions"),r.jsx(le.TabPane,{tab:"管理员功能",children:r.jsx(te,{gutter:[16,16],children:r.jsx(re,{span:24,children:r.jsx(ne,{title:"管理员功能管理",children:r.jsx(te,{gutter:[16,16],children:r.jsx(re,{span:24,children:r.jsx(W,{type:"primary",block:!0,children:"进入管理员面板"})})})})})})},"admin-functions")]})},"dapp-function"),r.jsx(le.TabPane,{tab:"数据监控",children:r.jsxs(le,{defaultActiveKey:"dapp-sales-data",children:[r.jsx(le.TabPane,{tab:"销售数据",children:r.jsx(ne,{title:"DAPP销售数据监控",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:8,children:r.jsx(ie,{title:"池信息",value:"池数据",valueStyle:{color:"#1890ff"}})}),r.jsx(re,{span:8,children:r.jsx(ie,{title:"已售SCIA数量",value:parseFloat(t.totalSold).toFixed(2),valueStyle:{color:"#52c41a"}})}),r.jsx(re,{span:8,children:r.jsx(ie,{title:"已分发奖励",value:parseFloat(t.totalRewardDistributed).toFixed(2),valueStyle:{color:"#faad14"}})})]})})},"dapp-sales-data"),r.jsx(le.TabPane,{tab:"推荐数据",children:r.jsx(ne,{title:"DAPP推荐数据监控",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:12,children:r.jsx(ie,{title:"当前推荐人",value:"0x...",valueStyle:{color:"#1890ff"}})}),r.jsx(re,{span:12,children:r.jsx(ie,{title:"推荐链接",value:"链接",valueStyle:{color:"#52c41a"}})})]})})},"dapp-referral-data"),r.jsx(le.TabPane,{tab:"积分数据",children:r.jsx(ne,{title:"DAPP积分数据监控",children:r.jsx(te,{gutter:[16,16],children:r.jsx(re,{span:24,children:r.jsx(ie,{title:"用户积分",value:0,valueStyle:{color:"#1890ff"}})})})})},"dapp-points-data"),r.jsx(le.TabPane,{tab:"徽章数据",children:r.jsx(ne,{title:"DAPP徽章数据监控",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:12,children:r.jsx(ie,{title:"当前徽章",value:"无",valueStyle:{color:"#52c41a"}})}),r.jsx(re,{span:12,children:r.jsx(ie,{title:"徽章进度",value:0,suffix:"%",valueStyle:{color:"#faad14"}})})]})})},"dapp-badge-data"),r.jsx(le.TabPane,{tab:"分红数据",children:r.jsx(ne,{title:"DAPP分红数据监控",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:12,children:r.jsx(ie,{title:"可领取分红",value:0,prefix:r.jsx(Ce,{}),valueStyle:{color:"#1890ff"}})}),r.jsx(re,{span:12,children:r.jsx(ie,{title:"分红领取状态",value:"未领取",valueStyle:{color:"#faad14"}})})]})})},"dapp-dividend-data"),r.jsx(le.TabPane,{tab:"财务数据",children:r.jsx(ne,{title:"DAPP财务数据监控",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:12,children:r.jsx(ie,{title:"SCIA余额",value:0,valueStyle:{color:"#52c41a"}})}),r.jsx(re,{span:12,children:r.jsx(ie,{title:"USDT余额",value:0,prefix:r.jsx(Ce,{}),valueStyle:{color:"#1890ff"}})})]})})},"dapp-financial-data"),r.jsx(le.TabPane,{tab:"用户数据",children:r.jsx(ne,{title:"DAPP用户数据监控",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:12,children:r.jsx(ie,{title:"用户名",value:"未设置",valueStyle:{color:"#1890ff"}})}),r.jsx(re,{span:12,children:r.jsx(ie,{title:"钱包地址",value:"0x...",valueStyle:{color:"#52c41a"}})})]})})},"dapp-user-data"),r.jsx(le.TabPane,{tab:"系统状态数据",children:r.jsx(ne,{title:"DAPP系统状态数据监控",children:r.jsxs(te,{gutter:[16,16],children:[r.jsx(re,{span:8,children:r.jsx(ie,{title:"交易状态",value:"未开始",valueStyle:{color:"#1890ff"}})}),r.jsx(re,{span:8,children:r.jsx(ie,{title:"授权状态",value:"未授权",valueStyle:{color:"#faad14"}})}),r.jsx(re,{span:8,children:r.jsx(ie,{title:"处理状态",value:"空闲",valueStyle:{color:"#52c41a"}})})]})})},"dapp-system-status-data")]})},"dapp-monitoring")]})}];return r.jsxs("div",{style:{padding:20},children:[r.jsxs(sN,{level:2,style:{marginBottom:24,textAlign:"center"},children:[r.jsx(ve,{style:{marginRight:8}}),"管理员控制面板"]}),"loading"===s?r.jsx(ee,{tip:"正在检查所有者身份...",style:{display:"flex",justifyContent:"center",alignItems:"center",height:"300px"},children:r.jsx("div",{})}):l?r.jsx(ce,{message:"错误",description:`获取所有者信息失败: ${l}`,type:"error",showIcon:!0,style:{marginBottom:20}}):u?o?r.jsxs(r.Fragment,{children:[r.jsx(ee,{spinning:i,children:r.jsx(le,{defaultActiveKey:"contract",items:b})}),r.jsx(H,{title:"pause"===f?(t.isPaused?"继续":"暂停")+"销售":"end"===f?"结束销售":"",open:d,onCancel:()=>{h(!1)},footer:null,children:(()=>{switch(f){case"pause":return r.jsxs("div",{children:[r.jsxs("p",{children:["确定要",t.isPaused?"继续":"暂停","销售吗？"]}),r.jsx("div",{style:{marginTop:20},children:r.jsx(W,{type:"primary",onClick:v,loading:g,children:t.isPaused?"继续销售":"暂停销售"})})]});case"end":return r.jsxs("div",{children:[r.jsx("p",{children:"确定要结束销售吗？此操作不可逆转！"}),r.jsx("div",{style:{marginTop:20},children:r.jsx(W,{type:"primary",danger:!0,onClick:w,loading:g,children:"确认结束销售"})})]});default:return null}})()})]}):r.jsxs(ne,{title:"访问被拒绝",children:[r.jsx(ce,{message:"您不是部署者",description:`只有部署者钱包才能访问管理员控制面板。部署者地址: ${a}`,type:"error",showIcon:!0,style:{marginBottom:20}}),r.jsx("div",{style:{textAlign:"center"},children:r.jsxs(W,{type:"default",size:"large",children:[r.jsx(ct,{style:{marginRight:8}}),"切换钱包"]})})]}):r.jsxs(ne,{title:"请连接钱包",children:[r.jsx(ce,{message:"钱包未连接",description:"请连接部署者钱包以访问管理员控制面板",type:"warning",showIcon:!0,style:{marginBottom:20}}),r.jsx("div",{style:{textAlign:"center"},children:r.jsxs(W,{type:"primary",size:"large",children:[r.jsx(ct,{style:{marginRight:8}}),"连接钱包"]})})]})]})},cN=()=>r.jsx(j,{children:r.jsxs(k,{children:[r.jsx(B,{path:"/",element:r.jsx(L,{to:"/splash",replace:!0})}),r.jsx(B,{path:"/splash",element:r.jsx(ge,{})}),r.jsxs(B,{path:"/onboarding",element:r.jsx(Ar,{}),children:[r.jsx(B,{index:!0,element:r.jsx(L,{to:"buy",replace:!0})}),r.jsx(B,{path:"buy",element:r.jsx(mo,{})}),r.jsx(B,{path:"data",element:r.jsx(yo,{})}),r.jsx(B,{path:"community",element:r.jsx(vo,{})}),r.jsx(B,{path:"store",element:r.jsx(wo,{})}),r.jsx(B,{path:"nft",element:r.jsx(bo,{})}),r.jsx(B,{path:"me",element:r.jsx(Ko,{})})]}),r.jsx(B,{path:"/statistics",element:r.jsx(eN,{})}),r.jsx(B,{path:"/admin",element:r.jsx(lN,{})})]})}),uN=1e3,dN=5e3,hN=100;const fN=new class{constructor(){t(this,"metrics"),t(this,"frontendInterval",null),t(this,"blockchainInterval",null),t(this,"jsErrorCount",0),t(this,"consoleErrorCount",0),t(this,"operationCount",0),t(this,"successCount",0),t(this,"errorCount",0),this.metrics={frontend:[],blockchain:[],userExperience:[]},this.setupErrorMonitoring()}setupErrorMonitoring(){window.addEventListener("error",()=>{this.jsErrorCount++}),window.addEventListener("unhandledrejection",()=>{this.jsErrorCount++});const e=console.error;console.error=(...t)=>{this.consoleErrorCount++,e.apply(console,t)}}startMonitoring(){this.frontendInterval=setInterval(()=>{this.collectFrontendMetrics()},uN),this.blockchainInterval=setInterval(()=>{this.collectBlockchainMetrics()},dN)}stopMonitoring(){this.frontendInterval&&(clearInterval(this.frontendInterval),this.frontendInterval=null),this.blockchainInterval&&(clearInterval(this.blockchainInterval),this.blockchainInterval=null)}async collectFrontendMetrics(){const e=Date.now();let t,r;if("performance"in window)try{const n=performance.getEntriesByName("first-contentful-paint");n.length>0&&(t=n[0].startTime);const i=performance.getEntriesByName("largest-contentful-paint");i.length>0&&(r=i[0].startTime);const a=performance.getEntriesByType("resource"),o={timestamp:e,fcp:t,lcp:r,fid:undefined,tti:undefined,resourceLoadTime:a.reduce((e,t)=>e+(t.duration||0),0),jsErrorCount:this.jsErrorCount,consoleErrorCount:this.consoleErrorCount};this.metrics.frontend.push(o),this.metrics.frontend.length>hN&&this.metrics.frontend.shift()}catch(n){}}async collectBlockchainMetrics(){const e={timestamp:Date.now(),rpcResponseTime:0,transactionConfirmationTime:0,contractCallTime:0,eventListenerDelay:0};this.metrics.blockchain.push(e),this.metrics.blockchain.length>hN&&this.metrics.blockchain.shift()}recordOperationCompletion(e,t){const r=Date.now();this.operationCount++,t?this.successCount++:this.errorCount++;const n={timestamp:r,operationCompletionTime:e,successRate:this.successCount/this.operationCount,errorRate:this.errorCount/this.operationCount,smoothnessScore:this.calculateSmoothnessScore()};this.metrics.userExperience.push(n),this.metrics.userExperience.length>hN&&this.metrics.userExperience.shift()}calculateSmoothnessScore(){return 95}recordRpcResponseTime(e){const t={timestamp:Date.now(),rpcResponseTime:e,transactionConfirmationTime:0,contractCallTime:0,eventListenerDelay:0};this.metrics.blockchain.push(t),this.metrics.blockchain.length>hN&&this.metrics.blockchain.shift()}recordTransactionConfirmationTime(e){const t={timestamp:Date.now(),rpcResponseTime:0,transactionConfirmationTime:e,contractCallTime:0,eventListenerDelay:0};this.metrics.blockchain.push(t),this.metrics.blockchain.length>hN&&this.metrics.blockchain.shift()}recordContractCallTime(e){const t={timestamp:Date.now(),rpcResponseTime:0,transactionConfirmationTime:0,contractCallTime:e,eventListenerDelay:0};this.metrics.blockchain.push(t),this.metrics.blockchain.length>hN&&this.metrics.blockchain.shift()}recordEventListenerDelay(e){const t={timestamp:Date.now(),rpcResponseTime:0,transactionConfirmationTime:0,contractCallTime:0,eventListenerDelay:e};this.metrics.blockchain.push(t),this.metrics.blockchain.length>hN&&this.metrics.blockchain.shift()}getFrontendMetrics(){return[...this.metrics.frontend]}getBlockchainMetrics(){return[...this.metrics.blockchain]}getUserExperienceMetrics(){return[...this.metrics.userExperience]}getAllMetrics(){return{frontend:[...this.metrics.frontend],blockchain:[...this.metrics.blockchain],userExperience:[...this.metrics.userExperience]}}resetMetrics(){this.metrics={frontend:[],blockchain:[],userExperience:[]},this.jsErrorCount=0,this.consoleErrorCount=0,this.operationCount=0,this.successCount=0,this.errorCount=0}};Error;var pN="__rtkq/",gN="online",mN="offline",yN="focus",vN="focused",wN="visibilitychange",bN=qi(`${pN}${vN}`),EN=qi(`${pN}un${vN}`),AN=qi(`${pN}${gN}`),xN=qi(`${pN}${mN}`),CN=!1;Symbol("forceQueryFn");WeakMap;new Error("Promise never resolved before cacheEntryRemoved.");const SN={status:"idle",error:null,referrer:"",referralList:[],badgeInfo:{level:0,points:"0"},claimableDividends:"0",isRegisteringReferrer:!1,isClaimingDividends:!1,transactionStatus:""},_N=fa("referral/registerReferrer",async(e,{rejectWithValue:t})=>{try{return e}catch(r){return t(r.message||"推荐人注册失败")}}),IN=fa("referral/claimDividends",async(e,{rejectWithValue:t})=>{try{return!0}catch(r){return t(r.message||"领取分红失败")}}),ON=fa("referral/fetchReferralList",async(e,{rejectWithValue:t})=>{try{return[]}catch(r){return t(r.message||"获取推荐列表失败")}}),TN=wa({name:"referral",initialState:SN,reducers:{setReferrer:(e,t)=>{e.referrer=t.payload},setTransactionStatus:(e,t)=>{e.transactionStatus=t.payload},resetState:()=>SN},extraReducers:e=>{e.addCase(_N.pending,e=>{e.status="loading",e.isRegisteringReferrer=!0,e.transactionStatus="正在提交推荐人注册..."}).addCase(_N.fulfilled,(e,t)=>{e.status="succeeded",e.isRegisteringReferrer=!1,e.referrer=t.payload,e.transactionStatus="推荐人注册成功！"}).addCase(_N.rejected,(e,t)=>{e.status="failed",e.isRegisteringReferrer=!1,e.error=t.payload||"推荐人注册失败",e.transactionStatus=`${e.error}，请稍后重试`}).addCase(IN.pending,e=>{e.status="loading",e.isClaimingDividends=!0,e.transactionStatus="正在提交分红领取..."}).addCase(IN.fulfilled,e=>{e.status="succeeded",e.isClaimingDividends=!1,e.claimableDividends="0",e.transactionStatus="分红领取成功！"}).addCase(IN.rejected,(e,t)=>{e.status="failed",e.isClaimingDividends=!1,e.error=t.payload||"领取分红失败",e.transactionStatus=`${e.error}，请稍后重试`}).addCase(ON.pending,e=>{e.status="loading"}).addCase(ON.fulfilled,(e,t)=>{e.status="succeeded",e.referralList=t.payload}).addCase(ON.rejected,(e,t)=>{e.status="failed",e.error=t.payload||"获取推荐列表失败"})}}),{setReferrer:PN,setTransactionStatus:RN,resetState:MN}=TN.actions,NN=TN.reducer,DN={status:"idle",error:null,badgeInfo:{level:0,points:"0",badgeName:"无徽章"},nextBadge:{level:1,name:"Member徽章",requiredPoints:"100",progress:0},isLoading:!1},jN={0:"无徽章",1:"Member徽章",2:"City徽章",3:"Province徽章",4:"National徽章"},kN={1:.11,2:.55,3:2.75,4:13.75},BN=fa("badge/fetchBadgeInfo",async(e,{rejectWithValue:t})=>{try{const t=Nr(Ir,Cr,r),n=await t.getUserBadgeInfo(e);return{badgeInfo:[n.badgeLevel],points:n.userPoints}}catch(n){return t(n.message||"获取徽章信息失败")}var r}),LN=wa({name:"badge",initialState:DN,reducers:{updateBadgeInfo:(e,t)=>{e.badgeInfo=t.payload},updateNextBadgeProgress:(e,t)=>{e.nextBadge.progress=t.payload},resetState:()=>DN},extraReducers:e=>{e.addCase(BN.pending,e=>{e.status="loading",e.isLoading=!0}).addCase(BN.fulfilled,(e,t)=>{e.status="succeeded",e.isLoading=!1;const{badgeInfo:r,points:n}=t.payload;let i=0;if(Array.isArray(r)&&r.length>0){const e=r[0];"number"==typeof e&&(i=e),"bigint"==typeof e&&(i=Number(e))}let a=0;if(n){let e;e="bigint"==typeof n?n:"string"==typeof n||"number"==typeof n?BigInt(n):BigInt(0),a=Number(e)/10**18/1e4}if(e.badgeInfo={level:i,points:a.toFixed(4),badgeName:jN[i]||"无徽章"},i<4){const t=i+1,r=kN[t],n=Math.min(100,Math.round(a/r*100));e.nextBadge={level:t,name:jN[t]||"无徽章",requiredPoints:r.toString(),progress:n}}else e.nextBadge={level:4,name:"National徽章",requiredPoints:"10000",progress:100}}).addCase(BN.rejected,(e,t)=>{e.status="failed",e.isLoading=!1,e.error=t.payload||"获取徽章信息失败"})}}),{updateBadgeInfo:FN,updateNextBadgeProgress:UN,resetState:zN}=LN.actions,HN=na({reducer:{privateSale:go,referral:NN,badge:LN.reducer,statistics:$M,owner:oN},middleware:e=>e({serializableCheck:!1})});var VN;VN=HN.dispatch,function(){const[e,t,r,n]=[bN,EN,AN,xN].map(e=>()=>VN(e())),i=()=>{"visible"===window.document.visibilityState?e():t()};let a=()=>{CN=!1};if(!CN&&"undefined"!=typeof window&&window.addEventListener){let t=function(e){Object.entries(o).forEach(([t,r])=>{e?window.addEventListener(t,r,!1):window.removeEventListener(t,r)})};const o={[yN]:e,[wN]:i,[gN]:r,[mN]:n};t(!0),CN=!0,a=()=>{t(!1),CN=!1}}}();const WN={token:{colorPrimary:"#1890ff",colorSuccess:"#52c41a",colorWarning:"#faad14",borderRadius:8,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',fontSize:14,colorText:"#ffffff",colorTextSecondary:"rgba(255, 255, 255, 0.7)",colorBgContainer:"rgba(255, 255, 255, 0.1)",colorBorder:"rgba(255, 255, 255, 0.3)"},algorithm:ue.darkAlgorithm};"undefined"!=typeof navigator&&Object.defineProperty(navigator,"userAgent",{value:navigator.userAgent+" Android",writable:!1,configurable:!0});const GN=new m,XN=["https://data-seed-prebsc-1-s1.bnbchain.org:8545","https://data-seed-prebsc-2-s1.bnbchain.org:8545","https://data-seed-prebsc-1-s2.bnbchain.org:8545","https://data-seed-prebsc-2-s2.bnbchain.org:8545","https://rpc.ankr.com/bsc_testnet_chapel"],KN=v({appName:"Sancia DApp",projectId:"a848d3f82c84bd67002b4822d6f6d980",chains:[{...y,rpcUrls:{default:{http:XN},public:{http:XN}}}],transports:{[y.id]:w(XN[0])},ssr:!1});fe.createRoot(document.getElementById("root")).render(r.jsx(N.StrictMode,{children:r.jsx(an,{store:HN,children:r.jsx(b,{config:KN,children:r.jsx(E,{client:GN,children:r.jsx(A,{children:r.jsx(de,{theme:WN,children:r.jsx(dt,{children:r.jsx(cN,{})})})})})})})})),fN.startMonitoring();const YN=Object.freeze(Object.defineProperty({__proto__:null,default:x},Symbol.toStringTag,{value:"Module"}));export{YN as e};